var store = [{
        "title": "ë§ˆí¬ë‹¤ìš´ ì‘ì„±ë°©ë²•",
        "excerpt":"ë§ˆí¬ë‹¤ìš´ì´ë€?  ë§ˆí¬ë‹¤ìš´(Markdown)ì€ ì¼ë°˜ í…ìŠ¤íŠ¸ ê¸°ë°˜ì˜ ê²½ëŸ‰ ë§ˆí¬ì—… ì–¸ì–´ë‹¤. ì¼ë°˜ í…ìŠ¤íŠ¸ë¡œ ì„œì‹ì´ ìˆëŠ” ë¬¸ì„œë¥¼ ì‘ì„±í•˜ëŠ” ë° ì‚¬ìš©ë˜ë©°, ì¼ë°˜ ë§ˆí¬ì—… ì–¸ì–´ì— ë¹„í•´ ë¬¸ë²•ì´ ì‰½ê³  ê°„ë‹¨í•œ ê²ƒì´ íŠ¹ì§•ì´ë‹¤. HTMLê³¼ ë¦¬ì¹˜ í…ìŠ¤íŠ¸(RTF) ë“± ì„œì‹ ë¬¸ì„œë¡œ ì‰½ê²Œ ë³€í™˜ë˜ê¸° ë•Œë¬¸ì— ì‘ìš© ì†Œí”„íŠ¸ì›¨ì–´ì™€ í•¨ê»˜ ë°°í¬ë˜ëŠ” README íŒŒì¼ì´ë‚˜ ì˜¨ë¼ì¸ ê²Œì‹œë¬¼ ë“±ì— ë§ì´ ì‚¬ìš©ëœë‹¤.  - ìœ„í‚¤ë°±ê³¼       ë§ˆí¬ë‹¤ìš´ ë¬¸ë²•  ë§ˆí¬ë‹¤ìš´ ê¸°ë³¸ ê°€ì´ë“œ, ë§ˆí¬ë‹¤ìš´ í™•ì¥ ê°€ì´ë“œ ì„ ì°¸ê³ í•˜ì˜€ìŠµë‹ˆë‹¤.   ì œëª©  ì œëª©ì„ ë§Œë“¤ë ¤ë©´ ë‹¨ì–´ ì•ì— ê¸°í˜¸(#)ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.  # Heading h1 ## Heading h2 ### Heading h3 #### Heading h4 ##### Heading h5 ###### Heading h6  Heading h1  Heading h2  Heading h3  Heading h4  Heading h5  Heading h6         ì¤„ë°”ê¿ˆ  ì¤„ë°”ê¿ˆì„ í•˜ë ¤ë©´ &lt;br/&gt;ì„ ì‚¬ìš©í•˜ê±°ë‚˜, ë‘ê°œ ì´ìƒì˜ ê³µë°±(spaces)ë¥¼ ì…ë ¥í•˜ì„¸ìš”.  ì²«ë²ˆì§¸ ì¤„   ë‘ë¶„ì§¸ ì¤„&lt;br/&gt; ì„¸ë²ˆì§¸ ì¤„  ì²«ë²ˆì§¸ ì¤„  ë‘ë¶„ì§¸ ì¤„  ì„¸ë²ˆì§¸ ì¤„         ê°•ì¡°  í…ìŠ¤íŠ¸ë¥¼ êµµê²Œ ë˜ëŠ” ê¸°ìš¸ì„ê¼´ë¡œ ì§€ì •í•˜ì—¬ ê°•ì¡°ë¥¼ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  êµµì€ ê¸€ì”¨ **bold text** __bold text__  ê¸°ìš¸ì¸ ê¸€ì”¨ *italic text* _italic text_  êµµê²Œ + ê¸°ìš¸ì¸ ê¸€ì”¨ ***bold + italic text*** ___bold + italic text___  êµµì€ ê¸€ì”¨  bold text  bold text    ê¸°ìš¸ì¸ ê¸€ì”¨  italic text  italic text    êµµê²Œ + ê¸°ìš¸ì¸ ê¸€ì”¨  bold + italic text  bold + italic text          ì¸ìš©êµ¬  ì¸ìš©êµ¬ ë‚´ìš©ì„ ì‘ì„±í• ë•ŒëŠ” â€˜&gt;â€™ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.  &gt; ë§ˆí¬ë‹¤ìš´ì„ í™œìš©í•œ ê¸€ì“°ê¸° &gt; &gt; ì—¬ëŸ¬ì¤„ë„ ê°€ëŠ¥í•˜ì£ . &gt;&gt; ë“¤ì—¬ì“°ê¸°ë„ ë˜ê³ ìš”.     ë§ˆí¬ë‹¤ìš´ì„ í™œìš©í•œ ê¸€ì“°ê¸°     ì—¬ëŸ¬ì¤„ë„ ê°€ëŠ¥í•˜ì£ .         ë“¤ì—¬ì“°ê¸°ë„ ë˜ê³ ìš”.             ë¦¬ìŠ¤íŠ¸  ì •ë ¬ëœ ëª©ë¡ì„ ì‚¬ìš©í•˜ë ¤ë©´ ìˆ«ìë¥¼ ì ì–´ì¤ë‹ˆë‹¤.  1. ì²« ë²ˆì§¸ ì•„ì´í…œ 2. ë‘ ë²ˆì§¸ ì•„ì´í…œ 3. ì„¸ ë²ˆì§¸ ì•„ì´í…œ     ì²« ë²ˆì§¸ ì•„ì´í…œ   ë‘ ë²ˆì§¸ ì•„ì´í…œ   ì„¸ ë²ˆì§¸ ì•„ì´í…œ       ì •ë ¬ì´ í•„ìš”ì—†ëŠ” ë¦¬ìŠ¤íŠ¸ëŠ” - ë˜ëŠ” *ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.  - ì²« ë²ˆì§¸ ì•„ì´í…œ - ë‘ ë²ˆì§¸ ì•„ì´í…œ - ì„¸ ë²ˆì§¸ ì•„ì´í…œ     ì²« ë²ˆì§¸ ì•„ì´í…œ   ë‘ ë²ˆì§¸ ì•„ì´í…œ   ì„¸ ë²ˆì§¸ ì•„ì´í…œ         ì½”ë“œ  ì½”ë“œë¥¼ í‘œí˜„í•˜ë ¤ë©´ ë°±í‹±(`)ìœ¼ë¡œ ë‹¨ì–´ë¥¼ ë¬¶ìŠµë‹ˆë‹¤.  `String` ìë£Œí˜•  String ìë£Œí˜•         ì½”ë“œ ë¸”ë¡  ì½”ë“œ ë¸”ë¡ì„ ì‚¬ìš©í•˜ë ¤ë©´ ë°±í‹± 3ê°œë¥¼(```)ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.   ```html  ì½”ë“œ ë¸”ë¡ ì•ˆì— ì›í•˜ëŠ” ë‚´ìš©ì„ ì…ë ¥, ë°±í‹± ë’¤ì— ì„œì‹ì„ ì…ë ¥í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.  ```   ì½”ë“œ ë¸”ë¡ ì•ˆì— ì›í•˜ëŠ” ë‚´ìš©ì„ ì…ë ¥, ë°±í‹± ë’¤ì— ì„œì‹ì„ ì…ë ¥í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.         ê°€ë¡œì¤„  ê°€ë¡œì¤„ì„ ë§Œë“¤ë ¤ë©´ ì„¸ ê°œ ì´ìƒì˜ ë³„í‘œ(***), ëŒ€ì‹œ(â€”) ë˜ëŠ” ë°‘ì¤„(___)ì„ í•œ ì¤„ì— ë‹¨ë…ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.  *** --- _________________            ë§í¬  ë§í¬ë¥¼ ë§Œë“œë ¤ë©´ ë§í¬ í…ìŠ¤íŠ¸ë¥¼ []ë¡œ ë¬¶ê³  URLì„ ()ë¡œ ë¬¶ìŠµë‹ˆë‹¤. \"\"ì„ ì‚¬ìš©í•˜ì—¬ ë§í¬ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦´ì‹œ íƒ€ì´í‹€ì„ ì¶”ê°€í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.  [Stack O Flow](https://sangjaeoh.github.io/) [Stack O Flow](https://sangjaeoh.github.io/ \"íƒ€ì´í‹€ ì¶”ê°€ ê°€ëŠ¥\")  Stack O Flow         ì´ë¯¸ì§€  ì´ë¯¸ì§€ë¥¼ ì²¨ë¶€í•˜ë ¤ë©´ !ë¥¼ ì•ì— ë¶™ì´ê³ , ëŒ€ì²´ íƒ€ì´í‹€ì„ []ë¡œ ë¬¶ê³  ì´ë¯¸ì§€ ê²½ë¡œë¥¼ ()ë¡œ ë¬¶ìŠµë‹ˆë‹¤.  ![ìŠ¤ë§ˆì¼](/assets/images/logo.png)  ì´ë¯¸ì§€ í¬ê¸°ë¥¼ ì¡°ì ˆí•˜ë ¤ë©´ HTMLì„ ì‚¬ìš©í•©ë‹ˆë‹¤.  &lt;img src=\"/assets/images/logo.png\" alt=\"ìŠ¤ë§ˆì¼\" width=\"100px\" height=\"100px\"&gt;           ì´ë¯¸ì§€ ë§í¬  ë§í¬ì˜ []ì•ˆì— ì´ë¯¸ì§€ ì²¨ë¶€ë¥¼ í•©ë‹ˆë‹¤.  [![ìŠ¤ë§ˆì¼](/assets/images/logo.png)](https://sangjaeoh.github.io/) [&lt;img src=\"/assets/images/logo.png\" alt=\"ìŠ¤ë§ˆì¼\" width=\"100px\" height=\"100px\"&gt;](https://sangjaeoh.github.io/)           ì´ìŠ¤ì¼€ì´í”„ ë¬¸ì  ì´ìŠ¤ì¼€ì´í”„ ë¬¸ìëŠ” ë°±ìŠ¬ë˜ì‰¬ \\ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.   \\* ë°±ìŠ¬ë˜ì‰¬ê°€ ì—†ë‹¤ë©´ ë¦¬ìŠ¤íŠ¸ê°€ í‘œí˜„ë¨.  * ë°±ìŠ¬ë˜ì‰¬ê°€ ì—†ë‹¤ë©´ ë¦¬ìŠ¤íŠ¸ê°€ í‘œí˜„ë¨.         HTML  ë§ˆí¬ë‹¤ìš´ì€ HTML í‘œí˜„ íƒœê·¸ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.  ë§ˆí¬ë‹¤ìš´ **ê°•ì¡°** ì‚¬ìš©, HTML &lt;strong&gt;ê°•ì¡°&lt;/strong&gt; ì‚¬ìš©  ë§ˆí¬ë‹¤ìš´ ê°•ì¡° ì‚¬ìš©, HTML ê°•ì¡° ì‚¬ìš©   Cheat Sheet  ê¸°ë³¸ ë¬¸ë²•                             Element             Markdown Syntax                                         Heading                              # H1   ## H2   ### H3                                              Bold                               **bold text**                                             Italic                               *italicized text*                                             Blockquote                               &gt; blockquote                                             Ordered List                               1. First item                  2. Second item                  3. Third item                                                              Unordered List                               - First item                   - Second item                   - Third item                                             Code                               `code`                                             Horizontal Rule                               ---                                             Link                               [title](https://www.example.com)                                             Image                               ![alt text](image.jpg)                                  í™•ì¥ ë¬¸ë²•                             Element             Markdown Syntax                                         Table                              | Syntax      | Description |                  | ----------- | ----------- |                  | Header      | Title       |                  | Paragraph   | Text        |                                                             Fenced Code Block             ```                  {                  &nbsp;&nbsp;\"firstName\": \"John\",                  &nbsp;&nbsp;\"lastName\": \"Smith\",                  &nbsp;&nbsp;\"age\": 25                  }                  ```                                                             Footnote                              Here's a sentence with a footnote. [^1]                   [^1]: This is the footnote.                                                             Heading ID                              ### My Great Heading {#custom-id}                                            Definition List                              term                  : definition                                                             Strikethrough             ~~The world is flat.~~                               Task List                              - [x] Write the press release                  - [ ] Update the website                  - [ ] Contact the media                                                             Emoji                              That is so funny! :joy:                                                             Highlight                              I need to highlight these ==very important words==.                                                             Subscript                              H~2~O                                                             Superscript                              X^2^                                              ","categories": ["Markdown"],
        "tags": ["Markdown"],
        "url": "/markdown/markdown-guide/",
        "teaser": null
      },{
        "title": "ê°ì²´ì§€í–¥ ìƒí™œì²´ì¡° ì›ì¹™",
        "excerpt":"ğŸ¤” ê°ì²´ì§€í–¥ ìƒí™œ ì²´ì¡° ì›ì¹™ì´ë€?  ê°ì²´ì§€í–¥ ìƒí™œ ì²´ì¡° ì›ì¹™ì€ â€˜ì†ŒíŠ¸ì›ìŠ¤ ì•¤ì†”ëŸ¬ì§€â€™ë¼ëŠ” ì±…ì—ì„œ ì œì‹œí•˜ëŠ” ë‚´ìš©ìœ¼ë¡œ ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì„ ì˜ í•˜ê¸° ìœ„í•œ 9ê°€ì§€ ì›ì¹™ì„ ì œì‹œí•©ë‹ˆë‹¤.   â›¹ï¸â€â™€ï¸ ê°ì²´ì§€í–¥ ìƒí™œ ì²´ì¡° 9ê°€ì§€ ì›ì¹™     ê·œì¹™ 1: í•œ ë©”ì„œë“œì— ì˜¤ì§ í•œ ë‹¨ê³„ì˜ ë“¤ì—¬ì“°ê¸°(indent)ë§Œ í•œë‹¤.   ê·œì¹™ 2: else ì˜ˆì•½ì–´ë¥¼ ì“°ì§€ ì•ŠëŠ”ë‹¤.   ê·œì¹™ 3: ëª¨ë“  ì›ì‹œê°’ê³¼ ë¬¸ìì—´ì„ í¬ì¥í•œë‹¤.   ê·œì¹™ 4: í•œ ì¤„ì— ì ì„ í•˜ë‚˜ë§Œ ì°ëŠ”ë‹¤.   ê·œì¹™ 5: ì¤„ì—¬ì“°ì§€ ì•ŠëŠ”ë‹¤(ì¶•ì•½ ê¸ˆì§€).   ê·œì¹™ 6: ëª¨ë“  ì—”í‹°í‹°ë¥¼ ì‘ê²Œ ìœ ì§€í•œë‹¤.   ê·œì¹™ 7: 3ê°œ ì´ìƒì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¥¼ ê°€ì§„ í´ë˜ìŠ¤ë¥¼ ì“°ì§€ ì•ŠëŠ”ë‹¤.   ê·œì¹™ 8: ì¼ê¸‰ ì½œë ‰ì…˜ì„ ì“´ë‹¤.   ê·œì¹™ 9: ê²Œí„°/ì„¸í„°/í”„ë¡œí¼í‹°ë¥¼ ì“°ì§€ ì•ŠëŠ”ë‹¤.   â—ï¸ ì™œ ê°ì²´ì§€í–¥ ìƒí™œ ì²´ì¡° ì›ì¹™ì¸ê°€?  ê°ì²´ì§€í–¥ ì„¤ê³„ì™€ êµ¬í˜„ì€ ë‹¨ìˆœ ì•”ê¸°ë§Œ í•œë‹¤ê³  í•´ê²°ë˜ëŠ”ê²Œ ì•„ë‹Œ ê¾¸ì¤€í•œ ì—°ìŠµì˜ ì˜ì—­ì…ë‹ˆë‹¤. ë§ì€ ì‹œë‹ˆì–´ ê°œë°œìë“¤ê³¼ ê°•ì‚¬ë“¤ì´ OOPë¥¼ ê°•ì¡°í•˜ì§€ë§Œ, ì±…ë§Œ ë³´ê³  ì•”ê¸°ë§Œí•´ì„œ ì‹œë„í•˜ë©´ ëŠ˜ ê³ ë°°ë¥¼ ë§ˆì‹œê²Œë©ë‹ˆë‹¤. ê·¸ëŸ¬ë‹¤ í¬ê¸°í•˜ëŠ” ìƒí™©ë„ ì¦ì€ë° ì´ë ‡ê²Œ ê³ ë°°ë¥¼ ë§ˆì‹œëŠ” ì´ìœ ëŠ” ë§ì€ ê°ì²´ì§€í–¥ ì±…ì—ì„œ ì–´ë–»ê²Œ ì„¤ê³„í•˜ê³  êµ¬í˜„í•˜ëŠ”ì§€ì— ëŒ€í•´ ì¶”ìƒì ìœ¼ë¡œë§Œ ì œì‹œí•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì–´ë””ê°€ ì˜ëª»ë˜ì—ˆëŠ”ì§€ë„ ëª¨ë¥´ëŠ” ê°œë°œìì—ê²Œ ì´ëŸ° ì¶”ìƒì ì¸ ì œì•ˆì€ ë” í˜¼ë™ë˜ê²Œë§Œ í•  ë¿ì…ë‹ˆë‹¤.   ì‰½ì§€ëŠ” ì•Šê² ì§€ë§Œ ê¾¸ì¤€íˆ ê·œì¹™ì„ ìƒê¸°í•˜ë©° ì„¤ê³„ ë° êµ¬í˜„ì„ í•˜ë‹¤ë³´ë©´ ì§€ê¸ˆê¹Œì§€ ì´í•´ê°€ ì•ˆë˜ë˜ ì¶”ìƒì ì¸ ê°œë…ë“¤ì´ ì´í•´ë˜ëŠ” ì‹œì ì´ ì°¾ì•„ì˜¬ ê²ƒì…ë‹ˆë‹¤.  ","categories": ["Insight"],
        "tags": ["Insight","OOP"],
        "url": "/insight/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%EC%83%9D%ED%99%9C%EC%B2%B4%EC%A1%B0-%EC%9B%90%EC%B9%99/",
        "teaser": null
      },{
        "title": "MAC ë‹¨ì¶•í‚¤ ëª¨ìŒ ğŸ’»",
        "excerpt":"âŒ¨ ì¼ë°˜ ë‹¨ì¶•í‚¤     í™”ë©´ ì ê¸ˆ: Control + Command + Q   ë³µì œ: Command + x   ë‹¤ì‹œì°¾ê¸°: Command + G   ìœˆë„ìš° ìµœì†Œí™”: Command + M   í”„ë¦°íŠ¸: Command + P   ë¶™ì—¬ë„£ê¸°: Command + V   ëª¨ë‘ì„ íƒ: Command + A   ë³µì‚¬: Command + C   ìˆ¨ê¸°ê¸°: Command + H   ì„ íƒí•­ëª© ì—´ê¸°: Command + O   ë¬¸ì„œ ì €ì¥: Command + S   ì´ì „ëª…ë ¹: Command + Z   í•­ëª©ì°¾ê¸°: Command + F   ìƒˆ íƒ­ ì—´ê¸°: Command + T   ì°½ ë‹«ê¸°: Command + W   ê°•ì œ ì¢…ë£Œ: Option + Command + Esc   Spotlight í‘œì‹œ/ìˆ¨ê¸°ê¸°: Command + Spacebar   ì´ëª¨í‹°ì½˜ ë° ê¸°íƒ€ ê¸°í˜¸: Ctrl + Command + Spacebar   ì „ì²´í™”ë©´: Ctrl + Command + F   ìŠ¤í¬ë¦°ìƒ· ë° í™”ë©´ ê¸°ë¡: Shift + Command + 5   ìƒˆí´ë” ìƒì„±: Shift + Command + N   í™˜ê²½ì„¤ì • ì—´ê¸°: Command + ,   ìµœê·¼ ì‚¬ìš© ì•±ìœ¼ë¡œ ì „í™˜: Command + Tab   í›‘ì–´ë³´ê¸°: Spacebar   âŒ¨ Finder ë° ì‹œìŠ¤í…œ ë‹¨ì¶•í‚¤     ì„ íƒ íŒŒì¼ ë³µì œ: Command + D   Finder ìœˆë„ìš°ì—ì„œ Spotlight ê²€ìƒ‰ ì‹œì‘: Command + F   ì„ íƒ ë””ìŠ¤í¬ ë˜ëŠ” ë³¼ë¥¨ ì¶”ì¶œ: Command + E   ì„ íƒ íŒŒì¼ì˜ ì •ë³´ ê°€ì ¸ì˜¤ê¸°: Command + I   ê°€ìƒë³¸ì˜ ì›ë³¸ íŒŒì¼ì´ í˜•ì„±: Command + R   ì»´í“¨í„° ìœˆë„ìš° ì—´ê¸°: Shift + Command + C   ìµœê·¼ ìœˆë„ìš°/íŒŒì¼ í‘œì‹œ: Shift + Command + F   í˜„ì¬ macOS ì‚¬ìš©ì ê³„ì • í´ë” ì—´ê¸°: Shift + Command + H   ë°ìŠ¤í¬íƒ‘ í´ë” ì—´ê¸°: Shift + Command + D   í´ë”ë¡œ ì´ë™ ìœˆë„ìš° ì—´ê¸°: Shift + Command + G   iCloud Drive ì—´ê¸°: Shift + Command + I   ë„¤íŠ¸ìœ„í¬ ìœˆë„ìš° ì—´ê¸°: Shift + Command K   ìƒˆ í´ë” ìƒì„±: Shift + Command + N   Finder ë¯¸ë¦¬ë³´ê¸° íŒ¨ë„ í‘œì‹œ/ê°€ë¦¬ê¸°: Shift + Command + P   ë‹¤ìš´ë¡œë“œ í´ë” ì—´ê¸°: Shift + Command + L   ë¬¸ì„œ í´ë” ì—´ê¸°: Shift + Command + O   AirDrop ìœˆë„ìš° ì—´ê¸°: Shift + Command + R   ğŸ” ì°¸ê³  ì‚¬ì´íŠ¸  invaiz ë¸”ë¡œê·¸  ","categories": ["Mac"],
        "tags": ["Mac","ë‹¨ì¶•í‚¤"],
        "url": "/mac/%EB%8B%A8%EC%B6%95%ED%82%A4/",
        "teaser": null
      },{
        "title": "ğŸ“– ë„ë©”ì¸ ì£¼ë„ ê°œë°œ ì‹œì‘í•˜ê¸°: DDD í•µì‹¬ ê°œë… ì •ë¦¬ë¶€í„° êµ¬í˜„ê¹Œì§€",
        "excerpt":"ë„ë©”ì¸ ì£¼ë„ ê°œë°œ ì‹œì‘í•˜ê¸°: DDD í•µì‹¬ ê°œë… ì •ë¦¬ë¶€í„° êµ¬í˜„ê¹Œì§€ ì±…ì„ ì½ê³  ë‚´ìš©ì„ ì•„ì£¼ ê°„ë‹¨í•˜ê²Œ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤. ì±…ì—ëŠ” ìì„¸í•œ ì„¤ëª…ê³¼ ì˜ˆì œê°€ ë§ìœ¼ë‹ˆ ê¼­ êµ¬ì…í•´ì„œ ì½ëŠ”ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤~ğŸ‘     1. ë„ë©”ì¸ ëª¨ë¸ ì‹œì‘í•˜ê¸°  1.1 ë„ë©”ì¸ì´ë€?  ì†Œí”„íŠ¸ì›¨ì–´ë¡œ í•´ê²°í•˜ê³ ì í•˜ëŠ” ë¬¸ì œ ì˜ì—­ì„ ë„ë©”ì¸ì´ë¼ í•œë‹¤.   1.2 ë„ë©”ì¸ ì „ë¬¸ê°€ì™€ ê°œë°œì ê°„ ì§€ì‹ê³µìœ   ì „ë¬¸ê°€ë‚˜ ê´€ë ¨ìê°€ ìš”êµ¬í•œ ë‚´ìš©ì´ í•­ìƒ ì˜¬ë°”ë¥¸ ê²ƒì€ ì•„ë‹ˆë‹¤. ê·¸ë˜ì„œ ê°œë°œìëŠ” ìš”êµ¬ì‚¬í•­ì„ ì´í•´í•  ë•Œ ì™œ ì´ëŸ° ê¸°ëŠ¥ì„ ìš”êµ¬í•˜ëŠ”ì§€ ë˜ëŠ” ì‹¤ì œë¡œ ì›í•˜ëŠ”ê²Œ ë¬´ì—‡ì¸ì§€ ìƒê°í•˜ê³  ì „ë¬¸ê°€ì™€ ëŒ€í™”ë¥¼ í†µí•´ ì§„ì§œë¡œ ì›í•˜ëŠ” ê²ƒì„ ì°¾ì•„ì•¼ í•œë‹¤.   1.3 ë„ë©”ì¸ ëª¨ë¸  ë„ë©”ì¸ ëª¨ë¸ì€ íŠ¹ì • ë„ë©”ì¸ì„ ê°œë…ì ìœ¼ë¡œ í‘œí˜„í•œ ê²ƒì´ë‹¤. ë„ë©”ì¸ ëª¨ë¸ì„ ì‚¬ìš©í•˜ë©´ ì—¬ëŸ¬ ê´€ê³„ìë“¤ì´ ë™ì¼í•œ ëª¨ìŠµìœ¼ë¡œ ë„ë©”ì¸ì„ ì´í•´í•˜ê³  ë„ë©”ì¸ ì§€ì‹ì„ ê³µìœ í•˜ëŠ”ë° ë„ì›€ì´ ëœë‹¤. ë„ë©”ì¸ ëª¨ë¸ì„ ì´í•´í•˜ëŠ” ë° ë„ì›€ì´ ëœë‹¤ë©´ ê°ì²´ê¸°ë°˜ í‘œí˜„ì´ë“ , í•¨ìˆ˜ í‘œí˜„ì´ë“  í‘œí˜„ ë°©ì‹ì´ ë¬´ì—‡ì¸ì§€ëŠ” ì¤‘ìš”í•˜ì§€ ì•Šë‹¤.     1.4 ë„ë©”ì¸ ëª¨ë¸ íŒ¨í„´                   ì˜ì—­       ì„¤ëª…                       ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤(UI) ë˜ëŠ” í‘œí˜„(Presentation)       ì‚¬ìš©ìì˜ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³  ì‚¬ìš©ìì—ê²Œ ì •ë³´ë¥¼ ë³´ì—¬ì¤€ë‹¤. ì—¬ê¸°ì„œ ì‚¬ìš©ìëŠ” ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì‚¬ìš©í•˜ëŠ” ì‚¬ëŒë¿ë§Œ ì•„ë‹ˆë¼ ì™¸ë¶€ ì‹œìŠ¤í…œì¼ ìˆ˜ë„ ìˆë‹¤.                 ì‘ìš©(Application)       ì‚¬ìš©ìê°€ ìš”ì²­í•œ ê¸°ëŠ¥ì„ ì‹¤í–‰í•œë‹¤. ì—…ë¬´ ë¡œì§ì„ ì§ì ‘ êµ¬í˜„í•˜ì§€ ì•Šìœ¼ë©° ë„ë©”ì¸ ê³„ì¸µì„ ì¡°í•©í•´ì„œ ê¸°ëŠ¥ì„ ì‹¤í–‰í•œë‹¤.                 ë„ë©”ì¸(Domain)       ì‹œìŠ¤í…œì´ ì œê³µí•  ë„ë©”ì¸ ê·œì¹™ì„ êµ¬í˜„í•œë‹¤.                 ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜(Infrastructure)       ë°ì´í„°ë² ì´ìŠ¤ë‚˜ ë©”ì‹œì§• ì‹œìŠ¤í…œê³¼ ê°™ì€ ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ì˜ ì—°ë™ì„ ì²˜ë¦¬í•œë‹¤.               ê°œë… ëª¨ë¸ê³¼ êµ¬í˜„ ëª¨ë¸  ê°œë… ëª¨ë¸ì€ ìˆœìˆ˜í•˜ê²Œ ë¬¸ì œë¥¼ ë¶„ì„í•œ ê²°ê³¼ë¬¼ì´ë‹¤. ê°œë… ëª¨ë¸ì€ ë°ì´í„°ë² ì´ìŠ¤, íŠ¸ëœì­ì…˜ ì²˜ë¦¬, ì„±ëŠ¥, êµ¬í˜„ ê¸°ìˆ ê³¼ ê°™ì€ ê²ƒì„ ê³ ë ¤í•˜ê³  ìˆì§€ ì•Šê¸° ë•Œë¬¸ì— ì‹¤ì œ ì½”ë“œë¥¼ ì‘ì„±í•  ë•Œ ê°œë… ëª¨ë¸ì„ ìˆëŠ” ê·¸ëŒ€ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ê·¸ë˜ì„œ ê°œë… ëª¨ë¸ì„ êµ¬í˜„ ê°€ëŠ¥í•œ í˜•íƒœì˜ ëª¨ë¸ë¡œ ì „í™˜í•˜ëŠ” ê³¼ì •ì„ ê±°ì¹˜ê²Œ ëœë‹¤.   ì²˜ìŒë¶€í„° ì™„ë²½í•œ ê°œë… ëª¨ë¸ì„ ë§Œë“¤ê¸°ë³´ë‹¤ëŠ” ì „ë°˜ì ì¸ ê°œìš”ë¥¼ ì•Œ ìˆ˜ ìˆëŠ” ìˆ˜ì¤€ìœ¼ë¡œ ê°œë… ëª¨ë¸ì„ ì‘ì„±í•´ì•¼í•œë‹¤. í”„ë¡œì íŠ¸ ì´ˆê¸°ì—ëŠ” ê°œìš” ìˆ˜ì¤€ì˜ ê°œë… ëª¨ë¸ë¡œ ë„ë©”ì¸ì— ëŒ€í•œ ì „ì²´ ìœ¤ê³½ì„ ì´í•´í•˜ëŠ” ë° ì§‘ì¤‘í•˜ê³ , êµ¬í˜„í•˜ëŠ” ê³¼ì •ì—ì„œ ê°œë… ëª¨ë¸ì„ êµ¬í˜„ ëª¨ë¸ë¡œ ì ì§„ì ìœ¼ë¡œ ë°œì „ì‹œì¼œ ë‚˜ê°€ì•¼ í•œë‹¤.   1.5 ë„ë©”ì¸ ëª¨ë¸ ë„ì¶œ  ë„ë©”ì¸ì„ ëª¨ë¸ë§í•  ë•Œ ê¸°ë³¸ì´ ë˜ëŠ” ì‘ì—…ì€ ëª¨ë¸ì„ êµ¬ì„±í•˜ëŠ” í•µì‹¬ êµ¬ì„±ìš”ì†Œ, ê·œì¹™, ê¸°ëŠ¥ì„ ì°¾ëŠ” ê²ƒì´ë‹¤. ì´ ê³¼ì •ì€ ìš”êµ¬ì‚¬í•­ì—ì„œ ì¶œë°œí•œë‹¤. ìš”êµ¬ì‚¬í•­ì„ í†µí•´ ë„ë©”ì¸ ëª¨ë¸ì„ ì ì§„ì ìœ¼ë¡œ ë§Œë“¤ì–´ ë‚˜ê°„ë‹¤. ì´ë ‡ê²Œ ë§Œë“  ëª¨ë¸ì€ ìš”êµ¬ì‚¬í•­ ì •ë ¨ì„ ìœ„í•´ ë„ë©”ì¸ ì „ë¬¸ê°€ë‚˜ ë‹¤ë¥¸ ê°œë°œìì™€ ë…¼ì˜í•˜ëŠ” ê³¼ì •ì—ì„œ ê³µìœ ë˜ê¸°ë„ í•œë‹¤. ëª¨ë¸ì„ ê³µìœ í•  ë•ŒëŠ” í™”ì´íŠ¸ë³´ë“œë‚˜ ìœ„í‚¤ ê°™ì€ ë„êµ¬ë¥¼ ì‚¬ìš©í•´ì„œ ëˆ„êµ¬ë‚˜ ì‰½ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•˜ë©´ ì¢‹ë‹¤.   1.6 ì—”í‹°í‹°ì™€ ë²¨ë¥˜  1.6.1 ì—”í‹°í‹°     ì‹ë³„ìë¥¼ ê°€ì§„ë‹¤.   ì‹ë³„ìëŠ” ì—”í‹°í‹° ê°ì²´ë§ˆë‹¤ ê³ ìœ í•˜ë‹¤.   1.6.2 ì—”í‹°í‹°ì˜ ì‹ë³„ì ìƒì„±     íŠ¹ì • ê·œì¹™ì— ë”°ë¼ ìƒì„±.   UUIDë‚˜ Nano IDì™€ ê°™ì€ ê³ ìœ  ì‹ë³„ì ìƒì„±ê¸° ì‚¬ìš©.   ê°’ì„ ì§ì ‘ ì…ë ¥.   ì¼ë ¨ë²ˆí˜¸ ì‚¬ìš©(ì‹œí€€ìŠ¤ë‚˜ DBì˜ ìë™ ì¦ê°€ ì»¬ëŸ¼ ì‚¬ìš©).   1.6.3 ë°¸ë¥˜ íƒ€ì…     ë°¸ë¥˜ íƒ€ì…ì€ ê°œë…ì ìœ¼ë¡œ ì™„ì „í•œ í•˜ë‚˜ë¥¼ í‘œí˜„í•  ë•Œ ì‚¬ìš©í•œë‹¤.   ì˜ë¯¸ë¥¼ ëª…í™•í•˜ê²Œ í‘œí˜„í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ê¸°ë„ í•œë‹¤.   ë°¸ë¥˜ íƒ€ì…ì„ ìœ„í•œ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.   ë¶ˆë³€ìœ¼ë¡œ êµ¬í˜„í•œë‹¤.   1.6.4 ì—”í‹°í‹° ì‹ë³„ìì™€ ë°¸ë¥˜ íƒ€ì…     ì‹ë³„ìë¥¼ ìœ„í•œ ë°¸ë¥˜ íƒ€ì…ì„ ì‚¬ìš©í•´ì„œ ì˜ë¯¸ê°€ ì˜ ë“œëŸ¬ë‚˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤.   1.6.5 ë„ë©”ì¸ ëª¨ë¸ì— set ë„£ì§€ ì•Šê¸°     ìƒíƒœ ë³€ê²½ì„ ìœ„í•œ set ì‚¬ìš©ì‹œ ë„ë©”ì¸ ì§€ì‹ì´ ì½”ë“œì—ì„œ ì‚¬ë¼ì§„ë‹¤.   ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ ì˜¨ì „í•˜ì§€ ì•Šì€ ìƒíƒœê°€ ë  ìˆ˜ ìˆë‹¤.   DTOë„ ìµœëŒ€í•œ ë¶ˆë³€ ê°ì²´ë¡œ ì‚¬ìš©í•˜ë„ë¡ í•˜ì   1.7 ë„ë©”ì¸ ìš©ì–´ì™€ ìœ ë¹„ì¿¼í„°ìŠ¤ ì–¸ì–´  ë„ë©”ì¸ ìš©ì–´  STEP1, STEP2 ê°™ì€ê²ƒì´ ì•„ë‹Œ PAYMENT_WAITING, PREPARING ê°™ì€ ë„ë©”ì¸ ìš©ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤.   ìœ ë¹„ì¿¼í„°ìŠ¤ ì–¸ì–´  ì „ë¬¸ê°€, ê´€ê³„ì ê°œë°œìê°€ ë„ë©”ì¸ê³¼ ê´€ë ¨ëœ ê³µí†µì˜ ì–¸ì–´ë¥¼ ë§Œë“¤ê³  ì´ë¥¼ ëŒ€í™”, ë¬¸ì„œ, ë„ë©”ì¸ ëª¨ë¸, ì½”ë“œ í…ŒìŠ¤íŠ¸ ë“± ëª¨ë“  ê³³ì—ì„œ ê°™ì€ ìš©ì–´ë¥¼ ì‚¬ìš©í•œë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ì†Œí†µ ê³¼ì •ì—ì„œ ë°œìƒí•˜ëŠ” ìš©ì–´ì˜ ëª¨í˜¸í•¨ì„ ì¤„ì¼ ìˆ˜ ìˆê³  ê°œë°œìëŠ” ë„ë©”ì¸ê³¼ ì½”ë“œ ì‚¬ì´ì—ì„œ ë¶ˆí•„ìš”í•œ í•´ì„ ê³¼ì •ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.           2. ì•„í‚¤íƒì²˜ ê°œìš”  2.1 ë„¤ ê°œì˜ ì˜ì—­  í‘œí˜„ ì˜ì—­  ì‚¬ìš©ìì˜ ìš”ì²­ì„ ë°›ì•„ ì‘ìš© ì˜ì—­ì— ì „ë‹¬í•˜ê³  ì‘ìš© ì˜ì—­ì˜ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ë‹¤ì‹œ ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì£¼ëŠ” ì—­í•         ì‘ìš© ì˜ì—­  í‘œí˜„ ì˜ì—­ì„ í†µí•´ ìš”ì²­ì„ ì „ë‹¬ë°›ì•„ ì‹œìŠ¤í…œì´ ì‚¬ìš©ìì—ê²Œ ì œê³µí•´ì•¼ í•  ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ì—­í• . ë¡œì§ì„ ì§ì ‘ ìˆ˜í–‰í•˜ê¸°ë³´ë‹¤ëŠ” ë„ë©”ì¸ ëª¨ë¸ì— ë¡œì§ ìˆ˜í–‰ì„ ìœ„ì„í•œë‹¤.        ë„ë©”ì¸ ì˜ì—­  ë„ë©”ì¸ ëª¨ë¸ì„ êµ¬í˜„. ë„ë©”ì¸ ëª¨ë¸ì€ ë„ë©”ì¸ì˜ í•µì‹¬ ë¡œì§ì„ êµ¬í˜„í•œë‹¤.       ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ ì˜ì—­  êµ¬í˜„ ê¸°ìˆ ì— ëŒ€í•œ ê²ƒì„ ë‹¤ë£¬ë‹¤. ì´ ì˜ì—­ì€ ë…¼ë¦¬ì ì¸ ê°œë…ì„ í‘œí˜„í•˜ê¸°ë³´ë‹¤ëŠ” ì‹¤ì œ êµ¬í˜„ì„ ë‹¤ë£¬ë‹¤.    2.2 ê³„ì¸µ êµ¬ì¡° ì•„í‚¤í…ì²˜       ìƒìœ„ ê³„ì¸µì—ì„œ í•˜ìœ„ ê³„ì¸µìœ¼ë¡œ ì˜ì¡´ë§Œ ì¡´ì¬í•˜ê³  í•˜ìœ„ ê³„ì¸µì—ì„œ ìƒìœ„ ê³„ì¸µì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤.   2.3 DIP  DIP(Dependency Inversion Principle) ì˜ì¡´ì„± ì—­ì „ ì›ì¹™        2.4 ë„ë©”ì¸ ì˜ì—­ì˜ ì£¼ìš” êµ¬ì„±ìš”ì†Œ                  ìš”ì†Œ       ì„¤ëª…                       ì—”í‹°í‹° ENTITY       ê³ ìœ ì˜ ì‹ë³„ìë¥¼ ê°–ëŠ” ê°ì²´ë¡œ ìì‹ ì˜ ë¼ì´í”„ ì‚¬ì´í´ì„ ê°–ëŠ”ë‹¤. ì£¼ë¬¸, íšŒì›, ìƒí’ˆê³¼ ê°™ì´ ë„ë©”ì¸ì˜ ê³ ìœ í•œ ê°œë…ì„ í‘œí˜„í•œë‹¤. ë„ë©”ì¸ ëª¨ë¸ì˜ ë°ì´í„°ë¥¼ í¬í•¨í•˜ë©° í•´ë‹¹ ë°ì´í„°ì™€ ê´€ë ¨ëœ ê¸°ëŠ¥ì„ í•¨ê»˜ ì œê³µí•œë‹¤.                 ë°¸ë¥˜ VALUE       ê³ ìœ ì˜ ì‹ë³„ìë¥¼ ê°–ì§€ ì•ŠëŠ” ê°ì²´ë¡œ ì£¼ë¡œ ê°œë…ì ìœ¼ë¡œ í•˜ë‚˜ì¸ ê°’ì„ í‘œí˜„í•œë‹¤. ì—”í‹°í‹°ì˜ ì†ì„±ìœ¼ë¡œ ì‚¬ìš©í•  ë¿ë§Œ ì•„ë‹ˆë¼ ë‹¤ë¥¸ ë°¸ë¥˜ íƒ€ì…ì˜ ì†ì„±ìœ¼ë¡œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.                 ì• ê·¸ë¦¬ê±°íŠ¸ AGGREGATE       ì—°ê´€ëœ ì—”í‹°í‹°ì™€ ë°¸ë¥˜ ê°ì²´ë¥¼ ê°œë…ì ìœ¼ë¡œ í•˜ë‚˜ë¡œ ë¬¶ì€ ê²ƒì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì£¼ë¬¸ê³¼ ê´€ë ¨ëœ Order ì—”í‹°í‹°, OrderLine ë°¸ë¥˜, Orderer ë°¸ë¥˜ ê°ì²´ë¥¼ â€˜ì£¼ë¬¸â€™ ì• ê·¸ë¦¬ê±°íŠ¸ë¡œ ë¬¶ì„ ìˆ˜ ìˆë‹¤.                 ë¦¬í¬ì§€í„°ë¦¬ REPOSITORY       ë„ë©”ì¸ ëª¨ë¸ì˜ ì˜ì†ì„±ì„ ì²˜ë¦¬í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ DBMS í…Œì´ë¸”ì—ì„œ ì—”í‹°í‹° ê°ì²´ë¥¼ ë¡œë”©í•˜ê±°ë‚˜ ì €ì¥í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.                 ë„ë©”ì¸ ì„œë¹„ìŠ¤ DOMAIN SERVICE       íŠ¹ì • ì—”í‹°í‹°ì— ì†í•˜ì§€ ì•Šì€ ë„ë©”ì¸ ë¡œì§ì„ ì œê³µí•œë‹¤. ë„ë©”ì¸ ë¡œì§ì´ ì—¬ëŸ¬ ì—”í‹°í‹°ì™€ ë°¸ë¥˜ë¥¼ í•„ìš”ë¡œ í•˜ë©´ ë„ë©”ì¸ ì„œë¹„ìŠ¤ì—ì„œ ë¡œì§ì„ êµ¬í˜„í•œë‹¤.           2.5 ìš”ì²­ ì²˜ë¦¬ íë¦„    2.6 ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ ê°œìš”     ë„ë©”ì¸ ê°ì²´ì˜ ì˜ì†ì„± ì²˜ë¦¬, íŠ¸ëœì ì…˜, REST í´ë¼ì´ì–¸íŠ¸ ë“± ë‹¤ë¥¸ì˜ì—­ì—ì„œ í•„ìš”ë¡œ í•˜ëŠ” í”„ë ˆì„ì›Œí¬, êµ¬í˜„ ê¸°ìˆ , ë³´ì¡° ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤.   ë³´í†µ ì˜ì¡´ì„±ì—­ì „ ì‚¬ìš©   @Transactional ê°™ì€ DIPë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì˜ˆì™¸ë„ í¸ì˜ë¥¼ ìœ„í•´ í—ˆìš©   2.7 ëª¨ë“ˆ êµ¬ì„±              3. ì• ê·¸ë¦¬ê±°íŠ¸  3.1 ì• ê·¸ë¦¬ê±°íŠ¸  ë³µì¡í•œ ë„ë©”ì¸ì„ ì´í•´í•˜ê³  ê´€ë¦¬í•˜ê¸° ì‰¬ìš´ ë‹¨ìœ„ë¡œ ë§Œë“œë ¤ë©´ ìƒìœ„ ìˆ˜ì¤€ì—ì„œ ëª¨ë¸ì„ ì¡°ë§í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ í•„ìš”í•œë°, ê·¸ ë°©ë²•ì´ ë°”ë¡œ ì• ê·¸ë¦¬ê±°íŠ¸ë‹¤. ì• ê·¸ë¦¬ê±°íŠ¸ëŠ” ê´€ë ¨ëœ ê°ì²´ë¥¼ í•˜ë‚˜ì˜ êµ°ìœ¼ë¡œ ë¬¶ì–´ ì¤€ë‹¤.    ì• ê·¸ë¦¬ê±°íŠ¸ëŠ” ê²½ê³„ë¥¼ ê°–ëŠ”ë‹¤. í•œ ì• ê·¸ë¦¬ê±°íŠ¸ì— ì†í•œ ê°ì²´ëŠ” ë‹¤ë¥¸ ì• ê·¸ë¦¬ê±°íŠ¸ì— ì†í•˜ì§€ ì•ŠëŠ”ë‹¤. ì• ê·¸ë¦¬ê±°íŠ¸ëŠ” ë…ë¦½ëœ ê°ì²´ êµ°ì´ë©° ê° ì• ê·¸ë¦¬ê±°íŠ¸ëŠ” ìê¸° ìì‹ ì„ ê´€ë¦¬í•  ë¿ ë‹¤ë¥¸ ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ ê´€ë¦¬í•˜ì§€ ì•ŠëŠ”ë‹¤. ê²½ê³„ë¥¼ ì„¤ì •í•  ë•Œ ê¸°ë³¸ì´ ë˜ëŠ” ê²ƒì€ ë„ë©”ì¸ ê·œì¹™ê³¼ ìš”êµ¬ì‚¬í•­ì´ë‹¤. ë„ë©”ì¸ ê·œì¹™ì— ë”°ë¼ í•¨ê»˜ ìƒì„±ë˜ëŠ” êµ¬ì„±ìš”ì†ŒëŠ” í•œ ì• ê·¸ë¦¬ê±°íŠ¸ì— ì†í•  ê°€ëŠ¥ì„±ì´ ë†’ë‹¤.   3.2 ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸  ì• ê·¸ë¦¬ê±°íŠ¸ì— ì†í•œ ëª¨ë“  ê°ì²´ê°€ ì¼ê´€ëœ ìƒíƒœë¥¼ ìœ ì§€í•˜ë ¤ë©´ ì• ê·¸ë¦¬ê±°íŠ¸ ì „ì²´ë¥¼ ê´€ë¦¬í•  ì£¼ì²´ê°€ í•„ìš”í•œë°, ì´ ì±…ì„ì„ ì§€ëŠ” ê²ƒì´ ë°”ë¡œ ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ ì—”í‹°í‹°ì´ë‹¤. ì• ê·¸ë¦¬ê±°íŠ¸ì— ì†í•œ ê°ì²´ëŠ” ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ ì—”í‹°í‹°ì— ì§ì ‘ ë˜ëŠ” ê°„ì ‘ì ìœ¼ë¡œ ì†í•˜ê²Œ ëœë‹¤.    3.2.1 ë„ë©”ì¸ ê·œì¹™ê³¼ ì¼ê´€ì„±     ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ì˜ í•µì‹¬ ì—­í• ì€ ì• ê·¸ë¦¬ê±°íŠ¸ì˜ ì¼ê´€ì„±ì´ ê¹¨ì§€ì§€ ì•Šë„ë¡ í•˜ëŠ” ê²ƒì´ë‹¤. ì´ë¥¼ ìœ„í•´ ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ëŠ” ì• ê·¸ë¦¬ê±°íŠ¸ê°€ ì œê³µí•´ì•¼ í•  ë„ë©”ì¸ ê¸°ëŠ¥ì„ êµ¬í˜„í•œë‹¤.   ì• ê·¸ë¦¬ê±°íŠ¸ ì™¸ë¶€ì—ì„œ ì• ê·¸ë¦¬ê±°íŠ¸ì— ì†í•œ ê°ì²´ë¥¼ ì§ì ‘ ë³€ê²½í•˜ë©´ ì•ˆëœë‹¤. ì´ê²ƒì€ ëª¨ë¸ì˜ ì¼ê´€ì„±ì„ ê¹¨ëŠ” ì›ì¸ì´ ëœë‹¤.   ë‹¨ìˆœíˆ í•„ë“œë¥¼ ë³€ê²½í•˜ëŠ” set ë©”ì„œë“œë¥¼ ê³µê°œ(public) ë²”ìœ„ë¡œ ë§Œë“¤ì§€ ì•ŠëŠ”ë‹¤.   ë°¸ë¥˜ íƒ€ì…ì€ ë¶ˆë³€ìœ¼ë¡œ êµ¬í˜„í•œë‹¤.   3.2.2 ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ì˜ ê¸°ëŠ¥ êµ¬í˜„     ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ëŠ” ì• ê·¸ë¦¬ê±°íŠ¸ ë‚´ë¶€ì˜ ë‹¤ë¥¸ ê°ì²´ë¥¼ ì¡°í•©í•´ ê¸°ëŠ¥ì„ ì™„ì„±í•œë‹¤.   ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ê°€ êµ¬ì„±ìš”ì†Œì˜ ìƒíƒœë§Œ ì°¸ì¡°í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. ê¸°ëŠ¥ ì‹¤í–‰ì„ ìœ„ì„í•˜ê¸°ë„ í•œë‹¤.   3.2.3 íŠ¸ëœì ì…˜ ë²”ìœ„     ì‘ì„ìˆ˜ë¡ ì¢‹ë‹¤   í•œ íŠ¸ëœì ì…˜ì—ì„œëŠ” í•œ ê°œì˜ ì• ê·¸ë¦¬ê±°íŠ¸ë§Œ ìˆ˜ì •í•œë‹¤.   ë¶€ë“ì´í•˜ê²Œ í•œ íŠ¸ëœì ì…˜ìœ¼ë¡œ ë‘ ê°œ ì´ìƒì˜ ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ ìˆ˜ì •í•´ì•¼ í•œë‹¤ë©´ ì• ê·¸ë¦¬ê±°íŠ¸ì—ì„œ ë‹¤ë¥¸ ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ ìˆ˜ì •í•˜ì§€ ë§ê³ , ì‘ìš© ì„œë¹„ìŠ¤ì—ì„œ ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ ìˆ˜ì •í•˜ë„ë¡ êµ¬í˜„í•œë‹¤.   ë‘ ê°œ ì´ìƒì˜ ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ ìˆ˜ì •í•´ì•¼ í•œë‹¤ë©´, ë„ë©”ì¸ ì´ë²¤íŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤.   3.3 ë¦¬í¬ì§€í„°ë¦¬ì™€ ì• ê·¸ë¦¬ê±°íŠ¸     ì• ê·¸ë¦¬ê±°íŠ¸: ê°œë…ìƒ ì™„ì „í•œ í•˜ë‚˜ì˜ ë„ë©”ì¸ ëª¨ë¸   ë¦¬í¬ì§€í„°ë¦¬: ì• ê·¸ë¦¬ê±°íŠ¸ ì˜ì†ì„±ì„ ì²˜ë¦¬            save: ì• ê·¸ë¦¬ê±°íŠ¸ ì €ì¥       findById: IDë¡œ ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ êµ¬í•¨           3.4 IDë¥¼ ì´ìš©í•œ ì• ê·¸ë¦¬ê±°íŠ¸ ì°¸ì¡°     ì• ê·¸ë¦¬ê±°íŠ¸ë„ ë‹¤ë¥¸ ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ ì°¸ì¡°í•œë‹¤.   ì• ê·¸ë¦¬ê±°íŠ¸ ì°¸ì¡°ëŠ” ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ê°€ ë‹¤ë¥¸ ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ë¥¼ ì°¸ì¡°í•œë‹¤ëŠ” ëœ»ì´ë‹¤.       í•„ë“œ ì°¸ì¡°    í•„ë“œ ì°¸ì¡° ë¬¸ì œì      í¸í•œ íƒìƒ‰ ì˜¤ìš©   ê²°í•©ë„ ì¦ê°€   ì„±ëŠ¥ì— ëŒ€í•œ ê³ ë¯¼   í™•ì¥ ì–´ë ¤ì›€       IDë¥¼ ì´ìš©í•œ ì°¸ì¡°    ID ì°¸ì¡° ì¥ì      ëª¨ë¸ì˜ ë³µì¡ë„ë¥¼ ë‚®ì¶˜ë‹¤   ì‘ì§‘ë„ ì¦ê°€   êµ¬í˜„ ë‚œì´ë„ ê°ì†Œ   í™•ì¥ ìš©ì´   3.4.1 IDë¥¼ ì´ìš©í•œ ì°¸ì¡°ì™€ ì¡°íšŒ ì„±ëŠ¥   IDë¥¼ ì´ìš©í•œ ì¡°íšŒëŠ” N + 1 ë¬¸ì œê°€ ë°œìƒí•œë‹¤.  í•´ê²°ë°©ë²•ì€ ì•„ë˜ì™€ ê°™ë‹¤.     ì¡°íšŒ ì „ìš© ì¿¼ë¦¬ë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í•œë‹¤.   ì¿¼ë¦¬ê°€ ë³µì¡í•˜ê±°ë‚˜ íŠ¹í™”ëœ ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤ë©´ ë§ˆì´ë°”í‹°ìŠ¤ì™€ ê°™ì€ ê¸°ìˆ ë¡œ êµ¬í˜„í•˜ëŠ”ê±¸ ê³ ë ¤í•œë‹¤.   3.5 ì• ê·¸ë¦¬ê±°íŠ¸ ê°„ ì§‘í•© ì—°ê´€  1-N, M-N ì—°ê´€ì— ëŒ€í•´ ì‚´í´ë³¸ë‹¤.   1-N  public class Category {     private Set&lt;Product&gt; products; //ë‹¤ë¥¸ ì• ê·¸ë¦¬ê±°íŠ¸ì— ëŒ€í•œ 1-N ì—°ê´€ }  ì¡°íšŒì‹œ ê°œë…ì ìœ¼ë¡œ ì• ê±°ë¦¬ê±°íŠ¸ ê°„ì— 1-N ì—°ê´€ì´ ìˆë”ë¼ë„ ì„±ëŠ¥ ë¬¸ì œ ë•Œë¬¸ì— ì‹¤ì œ êµ¬í˜„ì— ë°˜ì˜í•˜ì§€ ì•ŠëŠ”ë‹¤. N-1ë¡œ ì—°ê´€ì§€ì–´ êµ¬í˜„í•œë‹¤.   public class Product {     private CategoryId categoryId; }  public class ProductListService {     public Page&lt;Product&gt; getProductOfCategory(Long categoryId, int page, int size) {         Category category = categoryRepository.findById(categoryId);         checkCategory(category);         List&lt;Product&gt; products = productRepository.findByCategoryId(category.getId(), page, size);         int totalCount = productRepository.countByCategoryId(category.getId());         return new Page(page, size, totalCount, products);     } }       M-N  M-N ì—°ê´€ì€ ê°œë…ì ìœ¼ë¡œ ì–‘ìª½ ì• ê·¸ë¦¬ê±°íŠ¸ì— ì»¬ë ‰ì…˜ìœ¼ë¡œ ì—°ê´€ì„ ë§Œë“ ë‹¤. í•˜ì§€ë§Œ êµ¬í˜„ì€ ìš”êµ¬ì‚¬í•­ì„ ê³ ë ¤í•´ì„œ ê²°ì •í•œë‹¤. ê°œë…ì ìœ¼ë¡œëŠ” ìƒí’ˆê³¼ ì¹´í…Œê³ ë¦¬ì˜ ì–‘ë°©í–¥ M-N ì—°ê´€ì´ ì¡´ì¬í•˜ì§€ë§Œ ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” ìƒí’ˆì—ì„œ ì¹´í…Œê³ ë¦¬ë¡œì˜ ë‹¨ë°©í–¥ M-N ì—°ê´€ë§Œ ì ìš©í•˜ë©´ ë˜ëŠ” ê²ƒì´ë‹¤.  public class Product {     private Set&lt;CategoryId&gt; categoryIds; }       RDBMSì—ì„œ M-N ì—°ê´€ êµ¬í˜„        JPAë¥¼ ì´ìš©í•˜ì—¬ ID ì°¸ì¡°ë¥¼ ì´ìš©í•œ M-N ë‹¨ë°©í–¥ ì—°ê´€ êµ¬í˜„  @Entity @Table(name = \"product\") public class Product {     @EmbeddedId     private ProductId id;          @ElementCollection     @CollectionTable(name = \"product_category\",         joinColumns = @JoinColumn(name = \"product_id\"))     private Set&lt;CategoryId&gt; categoryIds;     ... }   3.6 ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ íŒ©í† ë¦¬ë¡œ ì‚¬ìš©í•˜ê¸°     ì• ê·¸ë¦¬ê±°íŠ¸ê°€ ê°–ê³  ìˆëŠ” ë°ì´í„°ë¥¼ ì´ìš©í•´ì„œ ë‹¤ë¥¸ ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ ìƒì„±í•´ì•¼ í•œë‹¤ë©´ ì• ê·¸ë¦¬ê±°íŠ¸ì— íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•œë‹¤.   ë³„ë„ì˜ ë„ë©”ì¸ ì„œë¹„ìŠ¤ë‚˜, íŒ©í† ë¦¬ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ìˆ˜ë„ ìˆë‹¤.   public class Store {      public Product createProduct (ProductId newProductId, ...ìƒëµ) {         if (isBlocked()) {             throw new StoreBlockedException();         }         return new Product(newProductId, getId(), ...ìƒëµ);     }  }           4. ë¦¬í¬ì§€í„°ë¦¬ì™€ ëª¨ë¸ êµ¬í˜„  ìì„¸í•œ ì„¤ëª…ì€ ì•„ë˜ì˜ ë¬¸ì„œì™€ ì±…ì„ ì½ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤. ğŸ‘     ë„ë©”ì¸ ì£¼ë„ ê°œë°œ ì‹œì‘í•˜ê¸°: DDD í•µì‹¬ ê°œë… ì •ë¦¬ë¶€í„° êµ¬í˜„ê¹Œì§€   ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë°   Spring Data JPA   4.1 JPAë¥¼ ì´ìš©í•œ ë¦¬í¬ì§€í„°ë¦¬ êµ¬í˜„  4.1.1 ëª¨ë“ˆ ìœ„ì¹˜    4.1.2 ë¦¬í¬ì§€í„°ë¦¬ ê¸°ë³¸ ê¸°ëŠ¥ êµ¬í˜„  public interface OrderRepository {     Order findById(OrderNo no);     void save(Order order); }  public class JpaOrderRepository implements OrderRepository {     @PersistenceContext     private EntityManager entityManager;      @Override     public Order findById(OrderNo id) {         return entityManager.find(Order.class, id);     }      @Override     public void save(Order order) {         entityManager.persist(order);     } }   4.2 ìŠ¤í”„ë§ ë°ì´í„° JPAë¥¼ ì´ìš©í•œ ë¦¬í¬ì§€í„°ë¦¬ êµ¬í˜„   @Entity @Table(name = \"purchase_order\") @Access(AccessType.FIELD) public class Order {     @EmbeddedId     private OrderNo number;      @Version     private long version;      @Embedded     private Orderer orderer;      ...ìƒëµ... }  public interface OrderRepository extends Repository&lt;Order, OrderNo&gt; {     Optional&lt;Order&gt; findById(OrderNo id);      void save(Order order);      default OrderNo nextOrderNo() {         int randomNo = ThreadLocalRandom.current().nextInt(900000) + 100000;         String number = String.format(\"%tY%&lt;tm%&lt;td%&lt;tH-%d\", new Date(), randomNo);         return new OrderNo(number);     } }  @Service public class CancelOrderService {     private OrderRepository orderRepository;     private CancelPolicy cancelPolicy;      public CancelOrderService(OrderRepository orderRepository, CancelPolicy cancelPolicy) {         this.orderRepository = orderRepository;         this.cancelPolicy = cancelPolicy;     }      @Transactional     public void cancel(OrderNo orderNo, Canceller canceller) {         Order order = orderRepository.findById(orderNo)                 .orElseThrow(() -&gt; new NoOrderException());         if (!cancelPolicy.hasCancellationPermission(order, canceller)) {             throw new NoCancellablePermission();         }         order.cancel();     } }   4.3 ë§¤í•‘ êµ¬í˜„  4.3.1 ì—”í‹°í‹°ì™€ ë°¸ë¥˜ ê¸°ë³¸ ë§¤í•‘ êµ¬í˜„  ì• ê·¸ë¦¬ê±°íŠ¸ì™€ JPA ë§¤í•‘ì„ ìœ„í•œ ê¸°ë³¸ ê·œì¹™     ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ëŠ” ì—”í‹°í‹°ì´ë¯€ë¡œ @Entityë¡œ ë§¤í•‘ ì„¤ì •í•œë‹¤.   í•œ í…Œì´ë¸”ì— ì—”í‹°í‹°ì™€ ë°¸ë¥˜ ë°ì´í„°ê°€ ê°™ì´ ìˆë‹¤ë©´     ë°¸ë¥˜ëŠ” @Embeddableë¡œ ë§¤í•‘ ì„¤ì •í•œë‹¤.   ë°¸ë¥˜ íƒ€ì… í”„ë¡œí¼í‹°ëŠ” @Embeddedë¡œ ë§¤í•‘ ì„¤ì •í•œë‹¤.   ë§¤í•‘í•  ì»¬ëŸ¼ëª… ë³€ê²½ì€ @AttributeOverrides ë¥¼ ì´ìš©í•œë‹¤     @Embeddable public class ShippingInfo {     @Embedded     @AttributeOverrides({             @AttributeOverride(name = \"zipCode\", column = @Column(name = \"shipping_zip_code\")),             @AttributeOverride(name = \"address1\", column = @Column(name = \"shipping_addr1\")),             @AttributeOverride(name = \"address2\", column = @Column(name = \"shipping_addr2\"))     })     private Address address;     @Column(name = \"shipping_message\")     private String message;     @Embedded     private Receiver receiver;  @Entity @Table(name = \"purchase_order\") @Access(AccessType.FIELD) public class Order {     ...     @Embedded     private Orderer orderer;      @Embedded     private ShippingInfo shippingInfo;     ...   4.3.2 ê¸°ë³¸ ìƒì„±ì  ì—”í‹°í‹°ëŠ” ê¸°ë³¸ ìƒì„±ìê°€ í•„ìš”í•˜ë‹¤.  protected Receiver(){}   4.3.2 í•„ë“œ ì ‘ê·¼ ë°©ì‹ ì‚¬ìš©  @Accessë¥¼ ì´ìš©í•´ì„œ ëª…ì‹œì ìœ¼ë¡œ ì ‘ê·¼ ë°©ì‹ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ @Idë‚˜ @EmbeddedIdì˜ ìœ„ì¹˜ì— ë”°ë¼ ì ‘ê·¼ ë°©ì‹ì„ ê²°ì •í•œë‹¤.  @Entity @Table(name = \"purchase_order\") @Access(AccessType.FIELD) public class Order {     ...ìƒëµ... }   4.3.4 AttributeConverterë¥¼ ì´ìš©í•œ ë°¸ë¥˜ ë§¤í•‘ ì²˜ë¦¬  ë‘ ê°œ ì´ìƒì˜ í”„ë¡œí¼í‹°ë¥¼ ê°€ì§„ ë°¸ë¥˜ íƒ€ì…ì„ í•œ ê°œ ì»¬ëŸ¼ì— ë§¤í•‘í•˜ë ¤ë©´ @Embeddable ì• ë„ˆí…Œì´ì…˜ìœ¼ë¡œëŠ” ì²˜ë¦¬í•  ìˆ˜ ì—†ë‹¤. ì´ëŸ´ ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒì´ AttributeConverterì´ë‹¤.     @Converter(autoApply = true) public class MoneyConverter implements AttributeConverter&lt;Money, Integer&gt; {      // MoneyëŠ” ë°¸ë¥˜ íƒ€ì…, IntegerëŠ” DB íƒ€ì…      // ë°¸ë¥˜ íƒ€ì…ì„ DB ì¹¼ëŸ¼ ê°’ìœ¼ë¡œ ë³€í™˜     @Override     public Integer convertToDatabaseColumn(Money money) {         return money == null ? null : money.getValue();     }      // DB ì¹¼ëŸ¼ ê°’ì„ ë°¸ë¥˜ë¡œ ë³€í™˜     @Override     public Money convertToEntityAttribute(Integer value) {         return value == null ? null : new Money(value);     } }  // @Converter(autoApply = true) ì‘ì„±í•œ íƒ€ì…ì— ëŒ€í•´ ìë™ ì ìš© public class Order {      @Column(name = \"total_amounts\")     private Money totalAmounts; }  // @Converter(autoApply = false) ê¸°ë³¸ê°’, ì§ì ‘ ì§€ì •í•´ì•¼í•¨ public class Order {      @Convert(converter = MoneyConverter.class)     @Column(name = \"total_amounts\")     private Money totalAmounts; }   4.3.5 ë°¸ë¥˜ ì»¬ë ‰ì…˜: ë³„ë„ í…Œì´ë¸” ë§¤í•‘  ë°¸ë¥˜ ì»¬ë ‰ì…˜ì„ ë³„ë„ í…Œì´ë¸”ë¡œ ë§¤í•‘í• ë•ŒëŠ” @ElementCollectionê³¼ @CollectionTableì„ í•¨ê»˜ ì‚¬ìš©í•œë‹¤.     @Entity @Table(name = \"purchase_order\") public class Order {     @EmbeddedId     private OrderNo number;      @ElementCollection(fetch = FetchType.LAZY)     @CollectionTable(name = \"order_line\", joinColumns = @JoinColumn(name = \"order_number\"))     @OrderColumn(name = \"line_idx\")     private List&lt;OrderLine&gt; orderLines;     ...ìƒëµ... }  @Embeddable public class OrderLine {     @Embedded     private ProductId productId;      @Column(name = \"price\")     private Money price;      @Column(name = \"quantity\")     private int quantity;      @Column(name = \"amounts\")     private Money amounts; }   4.3.6 ë°¸ë¥˜ ì»¬ë ‰ì…˜: í•œ ê°œ ì»¬ëŸ¼ ë§¤í•‘  í•œ ê°œ ì»¬ëŸ¼ì— ì½¤ë§ˆë¡œ êµ¬ë¶„í•´ì„œ ì €ì¥í•  ë•Œ ì‚¬ìš©. AttributeConverterë¥¼ ì´ìš©í•œë‹¤.   public class EmailSet {     private Set&lt;Email&gt; emails = new HashSet&lt;&gt;();      public EmailSet(Set&lt;Email&gt; emails) {         this.emails.addAll(emails);     }      public Set&lt;Email&gt; getEmails() {         return Collections.unmodifiableSet(emails);     } }  public class EmailSetConverter implements AttributeConverter&lt;EmailSet, String&gt; {     @Override     public String convertToDatabaseColumn(EmailSet attribute) {         if (attribute == null) return null;         return attribute.getEmails().stream()                 .map(email -&gt; email.getAddress())                 .collect(Collectors.joining(\",\"));     }      @Override     public EmailSet convertToEntityAttribute(String dbData) {         if (dbData == null) return null;         String[] emails = dbData.split(\",\");         Set&lt;Email&gt; emailSet = Arrays.stream(emails)                 .map(value -&gt; new Email(value))                 .collect(toSet());         return new EmailSet(emailSet);     } }   4.3.7 ë°¸ë¥˜ë¥¼ ì´ìš©í•œ ID ë§¤í•‘  JPAì—ì„œ ì‹ë³„ì íƒ€ì…ì€ Serializable íƒ€ì…ì´ì–´ì•¼ í•˜ë¯€ë¡œ Serializable ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì†ë°›ì•„ì•¼ í•œë‹¤. ë°¸ë¥˜ íƒ€ì…ìœ¼ë¡œ ì‹ë³„ìë¥¼ êµ¬í˜„í•  ë•Œ ì–»ì„ ìˆ˜ ìˆëŠ” ì¥ì ì€ ì‹ë³„ìì— ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤.   @Entity @Table(name = \"purchase_order\") public class Order {     @EmbeddedId     private OrderNo number;     ...ìƒëµ... }  @Embeddable public class OrderNo implements Serializable {     @Column(name = \"order_number\")     private String number;     ...ìƒëµ... }   4.3.8 ë³„ë„ í…Œì´ë¸”ì— ì €ì¥í•˜ëŠ” ë°¸ë¥˜ ë§¤í•‘  ë£¨íŠ¸ ì—”í‹°í‹° ì™¸ì— ë˜ ë‹¤ë¥¸ ì—”í‹°í‹°ê°€ ìˆë‹¤ë©´ ì§„ì§œ ì—”í‹°í‹°ì¸ì§€ ì˜ì‹¬í•´ ë´ì•¼í•œë‹¤. ë‹¨ì§€ ë³„ë„ í…Œì´ë¸”ì— ë°ì´í„°ë¥¼ ì €ì¥ í•œë‹¤ê³  í•´ì„œ ì—”í‹°í‹°ì¸ ê²ƒì€ ì•„ë‹ˆë‹¤.   ì˜ˆë¥¼ ë“¤ì–´ ê²Œì‹œê¸€ ë°ì´í„°ë¥¼ ARTICLE í…Œì´ë¸”ê³¼ ARTICLE_CONTENT í…Œì´ë¸”ë¡œ ë‚˜ëˆ ì„œ ì €ì¥í•œë‹¤ê³  í•˜ì.   ì—”í‹°í‹°ë¡œ ë§¤í•‘ ì˜ˆ (ì˜ëª» ë¨)   ARTICLE_CONTENTì— IDëŠ” ì‹ë³„ìì´ê¸´ í•˜ì§€ë§Œ ì´ëŠ” ARTICLE í…Œì´ë¸”ê³¼ ì—°ê²°ì„ ìœ„í•¨ì´ì§€ ARTICLE_CONTENTë¥¼ ìœ„í•œ ë³„ë„ ì‹ë³„ìê°€ í•„ìš”í•´ì„œê°€ ì•„ë‹ˆë‹¤.       ë³„ë„ í…Œì´ë¸”ë¡œ ë§¤í•‘   ARTICLE_CONTENTì„ ë°¸ë¥˜ë¡œ ë§Œë“¤ê³  @Embeddableë¡œ ë§¤í•‘í•œë‹¤.   @Entity @Table(name = \"article\") @SecondaryTable(         name = \"article_content\",         pkJoinColumns = @PrimaryKeyJoinColumn(name = \"id\") ) public class Article {     @Id     @GeneratedValue(strategy = GenerationType.IDENTITY)     private Long id;      private String title;      @AttributeOverrides({             @AttributeOverride(                     name = \"content\",                     column = @Column(table = \"article_content\", name = \"content\")),             @AttributeOverride(                     name = \"contentType\",                     column = @Column(table = \"article_content\", name = \"content_type\"))     })     @Embedded     private ArticleContent content; }   ë°¸ë¥˜ ë§¤í•‘ì„ ë³„ë„ í…Œì´ë¸”ë¡œ ì €ì¥ í•˜ë ¤ë©´ @SecondaryTableê³¼ @AttributeOverrideì„ ì‚¬ìš©í•œë‹¤. í•˜ì§€ë§Œ @SecondaryTableì€ jpa.find(\"id\");(ì¡°íšŒ)ë¥¼ ì‹¤í–‰í•  ë•Œ ë‘ í…Œì´ë¸”ì„ ì¡°ì¸í•´ì„œ ê°€ì ¸ì˜¨ë‹¤. ê²Œì‹œê¸€ ëª©ë¡ ê°™ì€ í™”ë©´ì€ ARTICLEì˜ ë°ì´í„°ë§Œ í•„ìš”í•˜ì§€ ARTICLE_CONTENTëŠ” í•„ìš”ì—†ë‹¤.   ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ARTICLE_CONTENTì„ ì—”í‹°í‹°ë¡œ ë§¤í•‘í•˜ê³  ARTICLEì—ì„œ ARTICLE_CONTENTì„ ì§€ì—°ë¡œë”© í•  ìˆ˜ë„ ìˆë‹¤. í•˜ì§€ë§Œ ì´ëŠ” ë°¸ë¥˜ ëª¨ë¸ì„ ì—”í‹°í‹°ë¡œ ë§Œë“œëŠ” ê²ƒì´ë¯€ë¡œ ì¢‹ì€ ë°©ë²•ì€ ì•„ë‹ˆë‹¤. ëŒ€ì‹  ì¡°íšŒ ì „ìš© ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.   4.3.9 ë°¸ë¥˜ ì»¬ë ‰ì…˜ì„ @Entityë¡œ ë§¤í•‘í•˜ê¸°  @OneToMany ì‚¬ìš©í•˜ì—¬ ì—°ê´€ê´€ê³„ë¥¼ ë§ºëŠ”ë‹¤.  @Entity @Table(name = \"product\") public class Product {     ...ìƒëµ...     @OneToMany(cascade = {CascadeType.PERSIST, CascadeType.REMOVE},             orphanRemoval = true, fetch = FetchType.LAZY)     @JoinColumn(name = \"product_id\")     @OrderColumn(name = \"list_idx\")     private List&lt;Image&gt; images = new ArrayList&lt;&gt;();     ...ìƒëµ...       @Inheritanceë¥¼ ì´ìš©í•˜ì—¬ ì—”í‹°í‹° ìƒì†ë„ ê°€ëŠ¥í•˜ë‹¤.  @Entity @Inheritance(strategy = InheritanceType.SINGLE_TABLE) @DiscriminatorColumn(name = \"image_type\") @Table(name = \"image\") public abstract class Image {     ...ìƒëµ... }  @Entity @DiscriminatorValue(\"II\") public class InternalImage extends Image {     ...ìƒëµ... } @Entity @DiscriminatorValue(\"EI\") public class ExternalImage extends Image {     ...ìƒëµ...   4.3.10 ID ì°¸ì¡°ì™€ ì¡°ì¸ í…Œì´ë¸”ì„ ì´ìš©í•œ ë‹¨ë°©í–¥ M-N ë§¤í•‘  @Entity @Table(name = \"product\") public class Product {     ...ìƒëµ...     @ElementCollection(fetch = FetchType.LAZY)     @CollectionTable(name = \"product_category\",             joinColumns = @JoinColumn(name = \"product_id\"))     private Set&lt;CategoryId&gt; categoryIds;     ...ìƒëµ... }   4.4 ì• ê·¸ë¦¬ê±°íŠ¸ ë¡œë”© ì „ëµ  // @Embeddable ì»¬ë ‰ì…˜ì— ëŒ€í•œ ì¦‰ì‹œ ë¡œë”© ì„¤ì • @ElementCollection(fetch = FetchType.EAGER)  // @Entity ì»¬ë ‰ì…˜ì— ëŒ€í•œ ì§€ì—° ë¡œë”© ì„¤ì • @OneToMany(fetch = FetchType.LAZY)     ì¦‰ì‹œ ë¡œë”©: ì—ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ë¥¼ êµ¬í•  ë•Œ ì—°ê´€ëœ êµ¬ì„± ìš”ì†Œë¥¼ DBì—ì„œ í•¨ê»˜ ì½ì–´ì˜¨ë‹¤.   ì§€ì—° ë¡œë”©: ì‹¤ì œ ì»¬ë ‰ì…˜ì— ì ‘ê·¼í•  ë•Œ DBì—ì„œ ì¡°íšŒí•œë‹¤.   4.5 ì• ê·¸ë¦¬ê±°íŠ¸ ì˜ì†ì„± ì „íŒŒ  ì• ê·¸ë¦¬ê±°íŠ¸ê°€ ì™„ì „í•œ ìƒíƒœì—¬ì•¼ í•œë‹¤ëŠ” ê²ƒì€ ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ë¥¼ ì¡°íšŒí•  ë•Œë¿ë§Œ ì•„ë‹ˆë¼ ì €ì¥í•˜ê³  ì‚­ì œí•  ë•Œë„ í•˜ë‚˜ë¡œ ì²˜ë¦¬í•´ì•¼ í•¨ì„ ì˜ë¯¸í•œë‹¤.     ì €ì¥ ë©”ì„œë“œëŠ” ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ë§Œ ì €ì¥í•˜ë©´ ì•ˆë˜ê³  ì• ê·¸ë¦¬ê±°íŠ¸ì— ì†í•œ ëª¨ë“  ê°ì²´ë¥¼ ì €ì¥í•´ì•¼ í•œë‹¤.   ì‚­ì œ ë©”ì„œë“œëŠ” ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ë¿Œë§Œ ì•„ë‹ˆë¼ ì• ê·¸ë¦¬ê±°íŠ¸ì— ì†í•œ ëª¨ë“  ê°ì²´ë¥¼ ì‚­ì œí•´ì•¼ í•œë‹¤.   @Embeddable ë§¤í•‘ íƒ€ì…ì€ í•¨ê»˜ ì €ì¥ë˜ê³  ì‚­ì œ ë˜ë¯€ë¡œ ì¶”ê°€ ì„¤ì •ì´ í•„ìš”ì—†ë‹¤.   @Entity íƒ€ì…ì— ëŒ€í•œ ë§¤í•‘ì€ cascade ì†ì„±ì„ ì‚¬ìš©í•œë‹¤.   @OneToMany(cascade = {CascadeType.PERSIST, CascadeType.REMOVE})   4.6 ì‹ë³„ì ìƒì„± ê¸°ëŠ¥  ì‹ë³„ìëŠ” í¬ê²Œ ì„¸ ê°€ì§€ ë°©ì‹ ì¤‘ í•˜ë‚˜ë¡œ ìƒì„±í•œë‹¤.     ì‚¬ìš©ìê°€ ì§ì ‘ ìƒì„±   ë„ë©”ì¸ ë¡œì§ìœ¼ë¡œ ìƒì„±   DBë¥¼ ì´ìš©í•œ ì¼ë ¨ë²ˆí˜¸ ì‚¬ìš©   4.7 ë„ë©”ì¸ êµ¬í˜„ê³¼ DIP  JPAì˜ @Entityë‚˜ @Table, extends Repository ì¸í„°í˜ì´ìŠ¤ëŠ” DIP ì›ì¹™ì„ ì–´ê¸°ê³  ìˆì§€ë§Œ ê°œë°œ í¸ì˜ì„±ê³¼ ì‹¤ìš©ì„±ì„ ê°€ì§€ê³ , ë³µì¡ë„ë¥¼ ë†’ì´ì§€ ì•Šìœ¼ë©´ì„œ ê¸°ìˆ ì— ë”°ë¥¸ êµ¬í˜„ ì œì•½ì´ ë‚®ë‹¤ë©´ í•©ë¦¬ì ìœ¼ë¡œ ì„ íƒí•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.           5. ìŠ¤í”„ë§ ë°ì´í„° JPAë¥¼ ì´ìš©í•œ ì¡°íšŒ ê¸°ëŠ¥   5.1 ì‹œì‘ì— ì•ì„œ  5.2 ê²€ìƒ‰ì„ ìœ„í•œ ìŠ¤í™  ì¡°íšŒë¥¼ ìœ„í•´ ë‹¤ì–‘í•œ ê²€ìƒ‰ ì¡°ê±´ì„ ì¡°í•©í•´ì•¼ í•  ë•Œê°€ ìˆë‹¤. ì´ ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒì´ ìŠ¤í™(Specification)ì´ë‹¤.   5.3 ìŠ¤í”„ë§ ë°ì´í„° JPAë¥¼ ì´ìš©í•œ ìŠ¤í™ êµ¬í˜„   ìŠ¤í”„ë§ ë°ì´í„° JPAê°€ ì œê³µí•˜ëŠ” Specification ì¸í„°í˜ì´ìŠ¤  public interface Specification&lt;T&gt; {   Predicate toPredicate(Root&lt;T&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder); }       ë ˆí¬ì§€í† ë¦¬ ì¸í„°í˜ì´ìŠ¤ ìƒì†  public interface CustomerRepository extends CrudRepository&lt;Customer, Long&gt;, JpaSpecificationExecutor&lt;Customer&gt; {     List&lt;Customer&gt; findAll(Specification&lt;Customer&gt; spec);     List&lt;Customer&gt; findAll(Specification&lt;Customer&gt; spec, Sort sort);     List&lt;Customer&gt; findAll(Specification&lt;Customer&gt; spec, Pageable pageable); }       ìŠ¤í™ ìƒì„± ê¸°ëŠ¥ì„ ë³„ë„ í´ë˜ìŠ¤ë¡œ êµ¬í˜„  public class CustomerSpecs {    public static Specification&lt;Customer&gt; isLongTermCustomer() {     return (root, query, builder) -&gt; {       LocalDate date = LocalDate.now().minusYears(2);       return builder.lessThan(root.get(Customer_.createdAt), date);     };   }    public static Specification&lt;Customer&gt; hasSalesOfMoreThan(MonetaryAmount value) {     return (root, query, builder) -&gt; {       // build query here     };   } }       5.4 ë¦¬í¬ì§€í„°ë¦¬/DAOì—ì„œ ìŠ¤í™ ì‚¬ìš©í•˜ê¸°  List&lt;Customer&gt; customers = customerRepository.findAll(isLongTermCustomer());   5.5 ìŠ¤í™ ì¡°í•©  ìŠ¤í™ ì¸í„°í˜ì´ìŠ¤ëŠ” andì™€ or ë“± ì¡°í•© ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤.  MonetaryAmount amount = new MonetaryAmount(200.0, Currencies.DOLLAR); List&lt;Customer&gt; customers = customerRepository.findAll(   isLongTermCustomer().or(hasSalesOfMoreThan(amount)));       null ê°€ëŠ¥ì„±ì´ ìˆëŠ” ìŠ¤í™ ê°ì²´ì˜ ì¡°í•©ì€ whereë¥¼ ì‚¬ìš©í•œë‹¤.  Specification&lt;Customer&gt; spec = Specification.where(createNullableSpec()).and(createOtherSpec());   5.6 ì •ë ¬ ì§€ì •í•˜ê¸°  ìŠ¤í”„ë§ ë°ì´í„° JPAëŠ” ë‘ ê°€ì§€ ë°©ë²•ì„ ì‚¬ìš©í•´ì„œ ì •ë ¬ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.     ë©”ì„œë“œ ì´ë¦„ì— OrderByë¥¼ ì‚¬ìš©í•´ì„œ ì •ë ¬ ê¸°ì¤€ ì§€ì •   Sortë¥¼ ì¸ìë¡œ ì „ë‹¬   public interface OrderSummaryDao extends Repository&lt;OrderSummary, String&gt; {     // OrderBy     List&lt;OrderSummary&gt; findByOrdererIdOrderByNumberDesc(String ordererId);      // Sort     List&lt;OrderSummary&gt; findByOrdererId(String ordererId, Sort sort); }   Sort sort = Sort.by(Sort.Direction.DESC, \"number\"); List&lt;OrderSummary&gt; results = orderSummaryDao.findByOrdererId(\"id\", sort);   5.7 í˜ì´ì§• ì²˜ë¦¬í•˜ê¸°  ìŠ¤í”„ë§ ë°ì´í„° JPAëŠ” í˜ì´ì§• ì²˜ë¦¬ë¥¼ ìœ„í•´ Pageable íƒ€ì…ì„ ì´ìš©í•œë‹¤.   public interface MemberDataDao extends Repository&lt;MemberData, String&gt; {     List&lt;MemberData&gt; findByNameLike(String name, Pageable pageable);     Page&lt;MemberData&gt; findByBlocked(boolean blocked, Pageable pageable); }  // 1ì€ í˜ì´ì§€ ë²ˆí˜¸, 0ë¶€í„° ì‹œì‘í•œë‹¤.  10ì€ ê°œìˆ˜ // Sort ì‚¬ìš© ê°€ëŠ¥ Sort sort = Sort.by(Sort.Direction.DESC, \"name\"); PageRequest pageReq = PageRequest.of(1, 10, sort); List&lt;MemberData&gt; user = memberDataDao.findByNameLike(\"ì´ë¦„%\", pageReq);       Page ë¦¬í„´ íƒ€ì…  PageRequest pageReq = PageRequest.of(1, 5); Page&lt;MemberData&gt; page = memberDataDao.findByBlocked(false, pageReq); List&lt;MemberData&gt; content = page.getContent(); // ì¡°íšŒ ê²°ê³¼ ëª©ë¡ long totalElements = page.getTotalElements(); // ì¡°ê±´ì— í•´ë‹¹í•˜ëŠ” ì „ì²´ ê°œìˆ˜ int totalPages = page.getTotalPages(); // ì „ì²´ í˜ì´ì§€ ë²ˆí˜¸ int number = page.getNumber(); // í˜„ì¬ í˜ì´ì§€ ë²ˆí˜¸ int numberOfElements = page.getNumberOfElements() // ì¡°íšŒ ê²°ê³¼ ê°œìˆ˜ int size = page.getSize(); // í˜ì´ì§€ í¬ê¸°   Page ë¦¬í„´ íƒ€ì…ì€ COUNT ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ë¯€ë¡œ Listë§Œ í•„ìš”í•œ ê²½ìš° ë¦¬í„´ íƒ€ì…ì„ Listë¡œ í•œë‹¤.   5.8 ìŠ¤í™ ì¡°í•©ì„ ìœ„í•œ ìŠ¤í™ ë¹Œë” í´ë˜ìŠ¤  ìŠ¤í™ì„ ì¡°í•©í•  ë•Œ ìŠ¤í™ ë¹Œë”ë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.   Specification&lt;MemberData&gt; spec = SpecBuilder.builder(MemberData.class)                 .ifTrue(searchRequest.isOnlyNotBlocked(), () -&gt; MemberDataSpecs.nonBlocked())                 .ifHasText(searchRequest.getName(), name -&gt; MemberDataSpecs.nameLike(searchRequest.getName()))                 .toSpec(); List&lt;MemberData&gt; result = memberDataDao.findAll(spec, PageRequest.of(0, 5));   public class SpecBuilder {     public static &lt;T&gt; Builder&lt;T&gt; builder(Class&lt;T&gt; type) {         return new Builder&lt;T&gt;();     }      public static class Builder&lt;T&gt; {         private List&lt;Specification&lt;T&gt;&gt; specs = new ArrayList&lt;&gt;();          public Builder&lt;T&gt; and(Specification&lt;T&gt; spec) {             specs.add(spec);             return this;         }          public Builder&lt;T&gt; ifHasText(String str,                                     Function&lt;String, Specification&lt;T&gt;&gt; specSupplier) {             if (StringUtils.hasText(str)) {                 specs.add(specSupplier.apply(str));             }             return this;         }          public Builder&lt;T&gt; ifTrue(Boolean cond,                                  Supplier&lt;Specification&lt;T&gt;&gt; specSupplier) {             if (cond != null &amp;&amp; cond.booleanValue()) {                 specs.add(specSupplier.get());             }             return this;         }          public Specification&lt;T&gt; toSpec() {             Specification&lt;T&gt; spec = Specification.where(null);             for (Specification&lt;T&gt; s : specs) {                 spec = spec.and(s);             }             return spec;         }     } }   5.9 ë™ì  ì¸ìŠ¤í„´ìŠ¤ ìƒì„±  JPQLì˜ new í‚¤ì›Œë“œë¥¼ í†µí•´ ê°ì²´ë¥¼ ë™ì ìœ¼ë¡œ ìƒì„±í•  ìˆ˜ ìˆë‹¤.   public interface OrderSummaryDao extends Repository&lt;OrderSummary, String&gt; {     @Query(\"\"\"                 select new com.myshop.order.query.dto.OrderView(                 o.number, o.state, m.name, m.id, p.name             )             from Order o join o.orderLines ol, Member m, Product p             where o.orderer.memberId.id = :ordererId             and o.orderer.memberId.id = m.id             and index(ol) = 0             and ol.productId.id = p.id             order by o.number.number desc             \"\"\")     List&lt;OrderView&gt; findOrderView(String ordererId); }   5.10 í•˜ì´ë²„ë„¤ì´íŠ¸ @Subselect ì‚¬ìš©     @SubselectëŠ” ì¿¼ë¦¬ ê²°ê³¼ë¥¼ @Entityë¡œ ë§¤í•‘í•  ìˆ˜ ìˆë‹¤.   @Immutable, @Subselect, @Synchronize ì™€ ê°™ì´ ì‚¬ìš©í•œë‹¤.   ë·°ë¥¼ ìˆ˜ì •í•  ìˆ˜ ì—†ë“¯ @Subselectë¡œ ì¡°íšŒí•œ @Entity ì—­ì‹œ ìˆ˜ì •í•  ìˆ˜ ì—†ë‹¤.   @Entity @Immutable @Subselect(         \"\"\"         select o.order_number as number,         o.version,         o.orderer_id,         o.orderer_name,         o.total_amounts,         o.receiver_name,         o.state,         o.order_date,         p.product_id,         p.name as product_name         from purchase_order o inner join order_line ol             on o.order_number = ol.order_number             cross join product p         where         ol.line_idx = 0         and ol.product_id = p.product_id\"\"\" ) @Synchronize({\"purchase_order\", \"order_line\", \"product\"}) public class OrderSummary {     @Id     private String number;     private long version;     @Column(name = \"orderer_id\")     private String ordererId;     ...ìƒëµ...     protected OrderSummary() {     } }           6. ì‘ìš© ì„œë¹„ìŠ¤ì™€ í‘œí˜„ ì˜ì—­   6.1 í‘œí˜„ ì˜ì—­ê³¼ ì‘ìš© ì˜ì—­    í‘œí˜„ ì˜ì—­     í‘œí˜„ ì˜ì—­ì€ ì‚¬ìš©ìì˜ ìš”ì²­ì„ í•´ì„í•œë‹¤.   ì‚¬ìš©ìê°€ ì‹¤í–‰í•˜ê³  ì‹¶ì€ ê¸°ëŠ¥ì„ íŒë³„í•˜ê³  ê·¸ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ì‘ìš© ì„œë¹„ìŠ¤ë¥¼ ì‹¤í–‰í•œë‹¤.   ì‘ìš© ì„œë¹„ìŠ¤ê°€ ìš”êµ¬í•˜ëŠ” í˜•ì‹ìœ¼ë¡œ ì‚¬ìš©ì ìš”ì²­ì„ ë³€í™˜í•œë‹¤.   ì‘ìš© ì„œë¹„ìŠ¤ì˜ ì‹¤í–‰ ê²°ê³¼ë¥¼ ì‚¬ìš©ìì—ê²Œ ì•Œë§ì€ í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•œë‹¤.   ì‘ìš© ì˜ì—­     ì‹¤ì œ ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.   ì‘ìš© ì„œë¹„ìŠ¤ëŠ” í‘œí˜„ ì˜ì—­ì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤.   6.2 ì‘ìš© ì„œë¹„ìŠ¤ì˜ ì—­í•      ì‚¬ìš©ì(í‘œí˜„ ì˜ì—­)ê°€ ìš”ì²­í•œ ê¸°ëŠ¥ì„ ì‹¤í–‰í•œë‹¤.   ë„ë©”ì¸ ê°ì²´ë¥¼ ì‚¬ìš©í•´ì„œ ìš”ì²­ì„ ì²˜ë¦¬í•œë‹¤.   ë„ë©”ì¸ ê°ì²´ ê°„ì˜ íë¦„ì„ ì œì–´í•œë‹¤.   íŠ¸ëœì­ì…˜ ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•œë‹¤.   ì ‘ê·¼ ì œì–´ì™€ ì´ë²¤íŠ¸ ì²˜ë¦¬ë¥¼ í•œë‹¤.   6.2.1 ë„ë©”ì¸ ë¡œì§ ë„£ì§€ ì•Šê¸°  ë„ë©”ì¸ ë¡œì§ì€ ë„ë©”ì¸ ì˜ì—­ì— ìœ„ì¹˜í•˜ê³ , ì‘ìš© ì„œë¹„ìŠ¤ëŠ” ë„ë©”ì¸ ë¡œì§ì„ êµ¬í˜„í•˜ì§€ ì•ŠëŠ”ë‹¤.   ì´ìœ      ì½”ë“œì˜ ì‘ì§‘ì„±ì´ ë–¨ì–´ì§„ë‹¤.   ì—¬ëŸ¬ ì‘ìš© ì„œë¹„ìŠ¤ì—ì„œ ë™ì¼í•œ ë„ë©”ì¸ ë¡œì§ì„ êµ¬í˜„í•  ê°€ëŠ¥ì„±ì´ ë†’ì•„ì§„ë‹¤.   ê²°ê³¼ì ìœ¼ë¡œ ì½”ë“œ ë³€ê²½ì„ ì–´ë µê²Œ ë§Œë“ ë‹¤.   6.3 ì‘ìš© ì„œë¹„ìŠ¤ì˜ êµ¬í˜„  ì‘ìš© ì„œë¹„ìŠ¤ëŠ” í‘œí˜„ ì˜ì—­ê³¼ ë„ë©”ì¸ ì˜ì—­ì„ ì—°ê²°í•˜ëŠ” ë§¤ê°œì²´ ì—­í• ì„ í•œë‹¤.(íŒŒì‚¬ë“œ facade)   6.3.1 ì‘ìš© ì„œë¹„ìŠ¤ì˜ í¬ê¸°  ì‘ìš© ì„œë¹„ìŠ¤ì˜ êµ¬í˜„ ë°©ë²•ì€ í¬ê²Œ ë‘ ê°€ì§€ê°€ ìˆë‹¤.     í•œ ì‘ìš© ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ì— íšŒì› ë„ë©”ì¸ ëª¨ë“  ê¸°ëŠ¥ êµ¬í˜„í•˜ê¸°   êµ¬ë¶„ë˜ëŠ” ê¸°ëŠ¥ë³„ë¡œ ì‘ìš© ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ë¥¼ ë”°ë¡œ êµ¬í˜„í•˜ê¸°(ì¶”ì²œ) ğŸ‘   // ê° ì‘ìš© ì„œë¹„ìŠ¤ì—ì„œ ê³µí†µë˜ëŠ” ë¡œì§ì„ ë³„ë„ í´ë˜ìŠ¤ë¡œ êµ¬í˜„ public final class MemberServiceHelper {     public static Member findExistingMember(MemberRepository repo, String memberId) {         Member member = memberRepository.findById(memberId);         if (member == null) {             throw new NoMemberException(memberId);         }         return member;     } }  // ê³µí†µ ë¡œì§ì„ ì œê³µí•˜ëŠ” ë©”ì„œë“œë¥¼ ì‘ìš© ì„œë¹„ìŠ¤ì—ì„œ ì‚¬ìš© import static com.myshop.member.application.MemberServiceHelper.*;  public class ChangePasswordService {     private MemberRepository memberRepository;      public void changePassword(String memberId, String curPw, String newPw) {         Member member = findExistingMember(memberRepository, memberId);         member.changePassword(curPw, newPw);     } }   6.3.2 ì‘ìš© ì„œë¹„ìŠ¤ì˜ ì¸í„°í˜ì´ìŠ¤ì™€ í´ë˜ìŠ¤  ì¸í„°í˜ì´ìŠ¤ê°€ ëª…í™•í•˜ê²Œ í•„ìš”í•˜ì§€ ì•Šë‹¤ë©´ ì‘ìš© ì„œë¹„ìŠ¤ì˜ ì¸í„°í˜ì´ìŠ¤ ì‘ì„±ì€ ì¢‹ì€ ì„ íƒì´ ì•„ë‹ˆë‹¤. ì†ŒìŠ¤ íŒŒì¼ë§Œ ë§ì•„ì§€ê³  ê°„ì ‘ ì°¸ì¡°ê°€ ì¦ê°€í•´ì„œ ì „ì²´ êµ¬ì¡°ê°€ ë³µì¡í•´ì§„ë‹¤.   ì¸í„°í˜ì´ìŠ¤ê°€ í•„ìš”í•œ ìƒí™©     êµ¬í˜„ í´ë˜ìŠ¤ê°€ ì—¬ëŸ¬ê°œì¸ ê²½ìš°   6.3.3 ë©”ì„œë“œ íŒŒë¼ë¯¸í„°ì™€ ê°’ ë¦¬í„´     ë„ë©”ì¸ì„ ì´ìš©í•´ ê¸°ëŠ¥ì„ ì‹¤í–‰í•˜ëŠ” ë° í•„ìš”í•œ ê°’ì„ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ë°›ì•„ì•¼ í•œë‹¤.   ê° ê°’ì„ ê°œë³„ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ë°›ì„ ìˆ˜ë„ ìˆê³  DTOë¥¼ ë§Œë“¤ì–´ ì „ë‹¬ë°›ì„ ìˆ˜ë„ ìˆë‹¤.   ì‘ìš© ì„œë¹„ìŠ¤ì˜ ê²°ê³¼ë¥¼ í‘œí˜„ ì˜ì—­ì—ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤ë©´, ì‘ìš© ì„œë¹„ìŠ¤ì˜ ê²°ê³¼ë¡œ í•„ìš”í•œ ë°ì´í„°ë¥¼ ë¦¬í„´í•œë‹¤.   ì• ê·¸ë¦¬ê±°íŠ¸ ìì²´ë¥¼ ë¦¬í„´í•˜ëŠ” ê²ƒì€ ì‘ì§‘ë„ë¥¼ ë‚®ì¶”ì–´ ë¹„ì¶”ì²œí•œë‹¤.   6.3.4 í‘œí˜„ ì˜ì—­ì— ì˜ì¡´í•˜ì§€ ì•Šê¸°  í‘œí˜„ ì˜ì—­ì— í•´ë‹¹í•˜ëŠ” HttpServletRequest, HttpSession ë“±ì„ ì‘ìš© ì„œë¹„ìŠ¤ì—ì— íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•˜ë©´ ì•ˆ ëœë‹¤.  private ChangePasswordService changePasswordService;  @PostMapping public String sumbit(HttpServletRequest request) {     // ì‘ìš© ì„œë¹„ìŠ¤ê°€ í‘œí˜„ ì˜ì—­ì„ ì˜ì¡´í•˜ë©´ ì•ˆëœë‹¤.     changePasswordService.changePassword(request);     ...ìƒëµ... }   6.3.5 íŠ¸ëœì­ì…˜ ì²˜ë¦¬  ìŠ¤í”„ë§ê³¼ ê°™ì€ í”„ë ˆì„ì›Œí¬ê°€ ì œê³µí•˜ëŠ” íŠ¸ëœì­ì…˜ ê´€ë¦¬ ê¸°ëŠ¥ì„ ì´ìš©í•œë‹¤.  @Transactional   6.4 í‘œí˜„ ì˜ì—­     ì‚¬ìš©ìê°€ ì‹œìŠ¤í…œì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” íë¦„(í™”ë©´)ì„ ì œê³µí•˜ê³  ì œì–´í•œë‹¤.   ì‚¬ìš©ìì˜ ìš”ì²­ì„ ì•Œë§ì€ ì‘ìš© ì„œë¹„ìŠ¤ì— ì „ë‹¬í•˜ê³  ê²°ê³¼ë¥¼ ì‚¬ìš©ìì—ê²Œ ì œê³µí•œë‹¤.   ì‚¬ìš©ìì˜ ì„¸ì…˜ì„ ê´€ë¦¬í•œë‹¤.    6.5 ê°’ ê²€ì¦  ê°’ ê²€ì¦ì€ í‘œí˜„ ì˜ì—­ê³¼ ì‘ìš© ì„œë¹„ìŠ¤ ë‘ ê³³ì—ì„œ ëª¨ë‘ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤. ì›ì¹™ì ìœ¼ë¡œëŠ” ì‘ìš© ì„œë¹„ìŠ¤ì—ì„œ ì²˜ë¦¬í•œë‹¤.   ì‘ìš© ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” í‘œí˜„ ì˜ì—­ì˜ ì½”ë“œê°€ í•œ ê³³ì´ë©´ êµ¬í˜„ì˜ í¸ë¦¬í•¨ì„ ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì´ ì—­í• ì„ ë‚˜ëˆ„ì–´ ê²€ì¦ì„ ìˆ˜í–‰í•  ìˆ˜ë„ ìˆë‹¤.     í‘œí˜„ ì˜ì—­: í•„ìˆ˜ ê°’, ê°’ì˜ í˜•ì‹, ë²”ìœ„ ë“±ì„ ê²€ì¦í•œë‹¤.   ì‘ìš© ì„œë¹„ìŠ¤: ë°ì´í„°ì˜ ì¡´ì¬ ìœ ë¬´ì™€ ê°™ì€ ë…¼ë¦¬ì  ì˜¤ë¥˜ë¥¼ ê²€ì¦í•œë‹¤.   6.6 ê¶Œí•œ ê²€ì‚¬  ë‹¤ìŒ ì„¸ ê³³ì—ì„œ ê¶Œí•œ ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.     í‘œí˜„ ì˜ì—­            ì„œë¸”ë¦¿ í•„í„°           ì‘ìš© ì„œë¹„ìŠ¤            AOP           ë„ë©”ì¸            ì§ì ‘ ë¡œì§ êµ¬í˜„           // ìŠ¤í”„ë§ ì‹œíë¦¬í‹° í™œìš© @PreAuthorize(\"hasRole('ADMIN')\")   6.7 ì¡°íšŒ ì „ìš© ê¸°ëŠ¥ê³¼ ì‘ìš© ì„œë¹„ìŠ¤  ì‘ìš© ì„œë¹„ìŠ¤ê°€ ì‚¬ìš©ì ìš”ì²­ ê¸°ëŠ¥ì„ ì‹¤í–‰í•˜ëŠ” ë° ë³„ë‹¤ë¥¸ ê¸°ì—¬ë¥¼ í•˜ì§€ ëª»í•œë‹¤ë©´ êµ³ì´ ì„œë¹„ìŠ¤ë¥¼ ë§Œë“¤ì§€ ì•Šì•„ë„ ëœë‹¤.              7. ë„ë©”ì¸ ì„œë¹„ìŠ¤  7.1 ì—¬ëŸ¬ ì• ê·¸ë¦¬ê±°íŠ¸ê°€ í•„ìš”í•œ ê¸°ëŠ¥  í•œ ì• ê·¸ë¦¬ê±°íŠ¸ì— ë„£ê¸° ì• ë§¤í•œ, ì—¬ëŸ¬ ì• ê·¸ë¦¬ê±°íŠ¸ê°€ í•„ìš”í•œ ê¸°ëŠ¥ì´ë¼ë©´ ë³„ë„ ë„ë©”ì¸ ì„œë¹„ìŠ¤ë¡œ êµ¬í˜„í•œë‹¤.   7.2 ë„ë©”ì¸ ì„œë¹„ìŠ¤  ë„ë©”ì¸ ì„œë¹„ìŠ¤ëŠ” ë„ë©”ì¸ ì˜ì—­ì— ìœ„ì¹˜í•œ ë„ë©”ì¸ ë¡œì§ì„ í‘œí˜„í•  ë•Œ ì‚¬ìš©í•œë‹¤. ì£¼ë¡œ ë‹¤ìŒ ìƒí™©ì—ì„œ ë„ë©”ì¸ ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤.     ê³„ì‚° ë¡œì§: ì—¬ëŸ¬ ì• ê·¸ë¦¬ê±°íŠ¸ê°€ í•„ìš”í•œ ê³„ì‚°ë¡œì§ì´ë‚˜, í•œ ì• ê·¸ë¦¬ê±°íŠ¸ì— ë„£ê¸°ì—ëŠ” ë‹¤ì†Œ ë³µì¡í•œ ê³„ì‚° ë¡œì§   ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™ì´ í•„ìš”í•œ ë„ë©”ì¸ ë¡œì§: êµ¬í˜„í•˜ê¸° ìœ„í•´ íƒ€ ì‹œìŠ¤í…œì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ë„ë©”ì¸ ë¡œì§   7.2.1 ê³„ì‚° ë¡œì§ê³¼ ë„ë©”ì¸ ì„œë¹„ìŠ¤   ë„ë©”ì¸ ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì£¼ì²´     ì• ê·¸ë¦¬ê±°íŠ¸   ì‘ìš© ì„œë¹„ìŠ¤   // ì• ê·¸ë¦¬ê±°íŠ¸ê°€ ì‚¬ìš© public class OrderService {     // ë„ë©”ì¸ ì„œë¹„ìŠ¤     private DiscountCalculationService discountCalculationService;      private Order createOrder(OrderNo orderNo, OrderRequest orderReq) {         Member member = findMember(orderReq.getOrdererId());         Order order = new Order(orderNo, ...ìƒëµ);         // ì• ê·¸ë¦¬ê±°íŠ¸ ê°ì²´ì— ë„ë©”ì¸ ì„œë¹„ìŠ¤ ì „ë‹¬         order.calculateAmounts(this.discountCalculationService, member.getGrade());     } }   // ì‘ìš© ì„œë¹„ìŠ¤ê°€ ì‚¬ìš© public class TransferService { // ë„ë©”ì¸ ì„œë¹„ìŠ¤      // ë„ë©”ì¸ ì„œë¹„ìŠ¤ì˜ ê¸°ëŠ¥ì„ ì‹¤í–‰í•  ë•Œ ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ ì „ë‹¬     public void transfer(Account fromAcc, Account toAcc, Money amounts) {         fromAcc.withdraw(amounts);         toAcc.credit(amounts);     }     ... }       íŠ¹ì • ê¸°ëŠ¥ì´ ì‘ìš© ì„œë¹„ìŠ¤ì¸ì§€ ë„ë©”ì¸ ì„œë¹„ìŠ¤ì¸ì§€ í™•ì¸í•˜ëŠ” ë°©ë²•   ì•„ë˜ì˜ í–‰ìœ„ê°€ ì¼ì–´ë‚˜ë©´ ë„ë©”ì¸ ì„œë¹„ìŠ¤     ì• ê·¸ë¦¬ê±°íŠ¸ì˜ ìƒíƒœë¥¼ ë³€ê²½   ì• ê·¸ë¦¬ê±°íŠ¸ì˜ ìƒíƒœ ê°’ì„ ê³„ì‚°   7.2.2 ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™ê³¼ ë„ë©”ì¸ ì„œë¹„ìŠ¤  ì‹œìŠ¤í…œ ê°„ ì—°ë™ì€ HTTP API í˜¸ì¶œë¡œ ì´ë£¨ì–´ì§ˆ ìˆ˜ ìˆì§€ë§Œ, ë„ë©”ì¸ ì…ì¥ì—ì„œëŠ” ë„ë©”ì¸ ë¡œì§ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆë‹¤. ë„ë©”ì¸ ê´€ì ì—ì„œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‘ì„±í•œë‹¤.   // ë„ë©”ì¸ ì„œë¹„ìŠ¤ public interface SurveyPermissionChecker {     boolean hasUserCreationPermission(String userId); }  //ì‘ìš© ì„œë¹„ìŠ¤ëŠ” ë„ë©”ì¸ ì„œë¹„ìŠ¤ë¥¼ ì´ìš© public class CreateSurveyService {     private SurveyPermissionChecker surveyPermissionChecker;      public Long createSurvey(CreateSurveyRequest req) {         validate(req);          // ë„ë©”ì¸ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•´ì„œ ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™ì„ í‘œí˜„         if (surveyPermissionChecker.hasUserCreationPermission(req.getRequestorId())) {             throw new NoPermissionException();         }         ...ìƒëµ...     } }  SurveyPermissionChecker ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ëŠ” ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ ì˜ì—­ì— ìœ„ì¹˜í•œë‹¤.   7.2.3 ë„ë©”ì¸ ì„œë¹„ìŠ¤ì˜ íŒ¨í‚¤ì§€ ìœ„ì¹˜        ë„ë©”ì¸ ì„œë¹„ìŠ¤ì˜ ê°œìˆ˜ê°€ ë§ê±°ë‚˜ ëª…ì‹œì ìœ¼ë¡œ êµ¬ë¶„í•˜ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ í•˜ìœ„ íŒ¨í‚¤ì§€ë¡œ êµ¬ë¶„í•œë‹¤.     domain            domain.model       domain.service       domain.repository           7.2.4 ë„ë©”ì¸ ì„œë¹„ìŠ¤ì˜ ì¸í„°í˜ì´ìŠ¤ì™€ í´ë˜ìŠ¤  ë„ë©”ì¸ ì„œë¹„ìŠ¤ì˜ ë¡œì§ì´ ê³ ì •ë˜ì–´ ìˆì§€ ì•Šì€ ê²½ìš° ë„ë©”ì¸ ì„œë¹„ìŠ¤ ìì²´ë¥¼ ì¸í„°í˜ì´ìŠ¤ë¡œ êµ¬í˜„í•˜ê³  ì´ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ë¥¼ ë‘˜ ìˆ˜ë„ ìˆë‹¤.             8. ì• ê·¸ë¦¬ê±°íŠ¸ íŠ¸ëœì­ì…˜ ê´€ë¦¬   8.1 ì• ê·¸ë¦¬ê±°íŠ¸ì™€ íŠ¸ëœì­ì…˜    íŠ¸ëœì­ì…˜ ì²˜ë¦¬ ë°©ì‹     ì„ ì  ì ê¸ˆ (Pessimistic Lock, ë¹„ê´€ì  ì ê¸ˆ)   ë¹„ì„ ì  ì ê¸ˆ (Optimistic Lock, ë‚™ê´€ì  ì ê¸ˆ)   8.2 ì„ ì  ì ê¸ˆ    // JPA Order order = entityManager.find(Order.class, orderNo, LockModeType.PESSIMISTIC_WRITE);  // ìŠ¤í”„ë§ ë°ì´í„° JPA public interface MemberREpository extends Repository&lt;Member, MemberId&gt; {      @Lock(LockModeType.PESSIMISTIC_WRITE)     Optional&lt;Member&gt; findById(MemberId memberId); }   8.2.1 ì„ ì  ì ê¸ˆê³¼ êµì°© ìƒíƒœ  ë‹¤ìŒ ìƒí™©ì€ êµì°© ìƒíƒœì— ë¹ ì§„ë‹¤.     ìŠ¤ë ˆë“œ 1: ğŸ³ ì• ê·¸ë¦¬ê±°íŠ¸ì— ëŒ€í•œ ì„ ì  ì ê¸ˆ êµ¬í•¨   ìŠ¤ë ˆë“œ 2: ğŸ¦ ì• ê·¸ë¦¬ê±°íŠ¸ì— ëŒ€í•œ ì„ ì  ì ê¸ˆ êµ¬í•¨   ìŠ¤ë ˆë“œ 1: ğŸ¦ ì• ê·¸ë¦¬ê±°íŠ¸ì— ëŒ€í•œ ì„ ì  ì ê¸ˆ ì‹œë„   ìŠ¤ë ˆë“œ 2: ğŸ³ ì• ê·¸ë¦¬ê±°íŠ¸ì— ëŒ€í•œ ì„ ì  ì ê¸ˆ ì‹œë„       í•´ê²° ë°©ë²•  íŒíŠ¸ë¥¼ ì œê³µí•´ ìµœëŒ€ ëŒ€ê¸°ì‹œê°„ì„ ì§€ì •í•œë‹¤.   // JPA Map&lt;String, Object&gt; hints = new HashMap&lt;&gt;(); hints.put(\"javax.persistence.lock.timeout\", 2000); Order order = entityManager.find(Order.class, orderNo, LockModeType.PESSIMISTIC_WRITE, hints);  // ìŠ¤í”„ë§ ë°ì´í„° JPA public interface MemberREpository extends Repository&lt;Member, MemberId&gt; {      @Lock(LockModeType.PESSIMISTIC_WRITE)     @QueryHints({         @QueryHint(name = \"javax.persistence.lock.timeout\", value = \"2000\")     })     Optional&lt;Member&gt; findById(MemberId memberId); }  DBMSì— ë”°ë¼ êµì°© ìƒíƒœì— ë¹ ì§„ ì»¤ë„¥ì…˜ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì´ ë‹¤ë¥´ë‹¤. ì‚¬ìš©í•˜ëŠ” DBMSì— ëŒ€í•´ JPAê°€ ì–´ë–¤ ì‹ìœ¼ë¡œ ëŒ€ê¸°ì‹œê°„ì„ ì²˜ë¦¬í•˜ëŠ”ì§€ ë°˜ë“œì‹œ í™•ì¸í•´ì•¼ í•œë‹¤.   8.3 ë¹„ì„ ì  ì ê¸ˆ  ì„ ì  ì ê¸ˆìœ¼ë¡œ ëª¨ë“  íŠ¸ëœì­ì…˜ ì¶©ëŒ ë¬¸ì œê°€ í•´ê²°ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤    ë¹„ì„ ì  ì ê¸ˆì€ ë™ì‹œì— ì ‘ê·¼í•˜ëŠ” ê²ƒì„ ë§‰ëŠ” ëŒ€ì‹  ë³€ê²½í•œ ë°ì´í„°ë¥¼ ì‹¤ì œ DBMSì— ë°˜ì˜í•˜ëŠ” ì‹œì ì— ë³€ê²½ ê°€ëŠ¥ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ëŠ” ë°©ì‹ì´ë‹¤.   ë¹„ì„ ì  ì ê¸ˆì„ êµ¬í˜„í•˜ë ¤ë©´ ì• ê·¸ë¦¬ê±°íŠ¸ì— ë²„ì „ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ«ì íƒ€ì… í”„ë¡œí¼í‹°ë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤. ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ ìˆ˜ì •í•  ë•Œë§ˆë‹¤ ë²„ì „ìœ¼ë¡œ ì‚¬ìš©í•  í”„ë¡œí¼í‹° ê°’ì´ 1ì”© ì¦ê°€í•œë‹¤.     // JPA @Entity @Table(name = \"purchase_order\") @Access(AccessType.FIELD) public class Order {     ...ìƒëµ...     @Version     private long version;     ...ìƒëµ... }  JPA ì—”í‹°í‹°ê°€ ë³€ê²½ë˜ì–´ UPDATE ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•  ë•Œ @Versionì— ëª…ì‹œí•œ í•„ë“œë¥¼ ì´ìš©í•´ì„œ ë¹„ì„ ì  ì ê¸ˆ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•œë‹¤. ì‘ìš© ì„œë¹„ìŠ¤ëŠ” ë²„ì „ì— ëŒ€í•´ ì•Œ í•„ìš”ê°€ ì—†ë‹¤.   íŠ¸ëœì­ì…˜ ì¶©ëŒì´ ë°œìƒí•˜ë©´ OptimisticLockingFailureExceptionì´ ë°œìƒí•œë‹¤.       ë¹„ì„ ì  ì ê¸ˆ í™•ì¥        ë¹„ì„ ì  ì ê¸ˆ ë°©ì‹ì„ ì—¬ëŸ¬ íŠ¸ëœì­ì…˜ìœ¼ë¡œ í™•ì¥í•˜ë ¤ë©´ ì• ê·¸ë¦¬ê±°íŠ¸ ë²„ì „ ì •ë³´ë¥¼ ì‘ìš© ì„œë¹„ìŠ¤ì— ì „ë‹¬í•œë‹¤. ì‘ìš© ì„œë¹„ìŠ¤ëŠ” ì „ë‹¬ë°›ì€ ë²„ì „ ê°’ì„ ì´ìš©í•´ì„œ ì• ê·¸ë¦¬ê±°íŠ¸ ë²„ì „ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•˜ê³ , ì¼ì¹˜í•˜ëŠ” ê²½ìš°ì—ë§Œ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•œë‹¤.  public class StartShippingRequest {     private String orderNumber;     private long version;     ...ìƒëµ... }  // ì‘ìš© ì„œë¹„ìŠ¤ public StartShippingService {      @PreAuthorize(\"hasRole('ADMIN')\")     @Transactional     public void startShipping(StartShippingRequest req) {         Order order = orderRepository.findById(new OrderNo(req.getOrderNumber()));         // version í™•ì¸         if (!order.matchVersion(req.getVersion())) {             throw new VersionConflictException();         }         ...ìƒëµ...     } }   8.3.1 ê°•ì œ ë²„ì „ ì¦ê°€  ê¸°ëŠ¥ ì‹¤í–‰ ë„ì¤‘ ë£¨íŠ¸ê°€ ì•„ë‹Œ ë‹¤ë¥¸ ì—”í‹°í‹°ì˜ ê°’ë§Œ ë³€ê²½ëœë‹¤ë©´, JPAëŠ” ë£¨íŠ¸ ì—”í‹°í‹° ë²„ì „ ê°’ì„ ì¦ê°€ì‹œí‚¤ì§€ ì•ŠëŠ”ë‹¤.   JPAëŠ” ì´ëŸ° ë¬¸ì œë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ EntityManager#find() ë©”ì„œë“œë¡œ ì—”í‹°í‹°ë¥¼ êµ¬í•  ë•Œ ê°•ì œë¡œ ë²„ì „ ê°’ì„ ì¦ê°€ì‹œí‚¤ëŠ” ì ê¸ˆ ëª¨ë“œë¥¼ ì§€ì›í•œë‹¤. LockModeType.OPTIMISTIC_FORCE_INCREMENTë¥¼ ì‚¬ìš©í•˜ë©´ í•´ë‹¹ ì—”í‹°í‹°ì˜ ìƒíƒœê°€ ë³€ê²½ë˜ì—ˆëŠ”ì§€ì— ìƒê´€ì—†ì´ íŠ¸ëœì­ì…˜ ì¢…ë£Œ ì‹œì ì— ë²„ì „ ê°’ ì¦ê°€ ì²˜ë¦¬ë¥¼ í•œë‹¤.   // JPA Order order = entityManager.find(Order.class, orderNo, LockModeType.OPTIMISTIC_FORCE_INCREMENT);  // ìŠ¤í”„ë§ ë°ì´í„° JPA public interface MemberREpository extends Repository&lt;Member, MemberId&gt; {      @Lock(LockModeType.OPTIMISTIC_FORCE_INCREMENT)     Optional&lt;Member&gt; findById(MemberId memberId); }   8.4 ì˜¤í”„ë¼ì¸ ì„ ì  ì ê¸ˆ  ëˆ„êµ°ê°€ ìˆ˜ì • í™”ë©´ì„ ë³´ê³  ìˆì„ ë•Œ ìˆ˜ì • í™”ë©´ ìì²´ë¥¼ ì‹¤í–‰í•˜ì§€ ëª»í•˜ê²Œ í•˜ëŠ” ê²ƒì´ ì˜¤í”„ë¼ì¸ ì„ ì  ì ê¸ˆ ë°©ì‹ì´ë‹¤.    8.4.1 ì˜¤í”„ë¼ì¸ ì„ ì  ì ê¸ˆì„ ìœ„í•œ LockManager ì¸í„°í˜ì´ìŠ¤ì™€ ê´€ë ¨ í´ë˜ìŠ¤  í•„ìš” ê¸°ëŠ¥     ì ê¸ˆ ì„ ì  ì‹œë„   ì ê¸ˆ í™•ì¸   ì ê¸ˆ í•´ì œ   ì ê¸ˆ ìœ íš¨ì‹œê°„   êµ¬í˜„ ì½”ë“œëŠ” ì±…ì—ì„œ í™•ì¸í•´ì£¼ì„¸ìš”. ğŸ”   8.4.2 DBë¥¼ ì´ìš©í•œ LockManager êµ¬í˜„  êµ¬í˜„ ì½”ë“œëŠ” ì±…ì—ì„œ í™•ì¸í•´ì£¼ì„¸ìš”. ğŸ”           9. ë„ë©”ì¸ ëª¨ë¸ê³¼ ë°”ìš´ë””ë“œ ì»¨í…ìŠ¤íŠ¸  9.1 ë„ë©”ì¸ ëª¨ë¸ê³¼ ê²½ê³„  ë…¼ë¦¬ì ìœ¼ë¡œ ê°™ì€ ì¡´ì¬ì²˜ëŸ¼ ë³´ì´ì§€ë§Œ í•˜ìœ„ ë„ë©”ì¸ì— ë”°ë¼ ë‹¤ë¥¸ ìš©ì–´ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ë„ ìˆë‹¤.    ì´ë ‡ê²Œ í•˜ìœ„ ë„ë©”ì¸ë§ˆë‹¤ ê°™ì€ ìš©ì–´ë¼ë„ ì˜ë¯¸ê°€ ë‹¤ë¥´ê³  ê°™ì€ ëŒ€ìƒì´ë¼ë„ ì§€ì¹­í•˜ëŠ” ìš©ì–´ê°€ ë‹¤ë¥¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— í•œê°œì˜ ëª¨ë¸ë¡œ ëª¨ë“  í•˜ìœ„ ë„ë©”ì¸ì„ í‘œí˜„í•˜ë ¤ëŠ” ì‹œë„ëŠ” ì˜¬ë°”ë¥¸ ë°©ë²•ì´ ì•„ë‹ˆë©° í‘œí˜„í•  ìˆ˜ë„ ì—†ë‹¤.   ëª¨ë¸ì€ íŠ¹ì •í•œ ì»¨í…ìŠ¤íŠ¸(ë¬¸ë§¥) í•˜ì—ì„œ ì™„ì „í•œ ì˜ë¯¸ë¥¼ ê°–ëŠ”ë‹¤. ê°™ì€ ì œí’ˆì´ë¼ë„ ì¹´íƒˆë¡œê·¸ ì»¨í…ìŠ¤íŠ¸ì™€ ì¬ê³  ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì˜ë¯¸ê°€ ì„œë¡œ ë‹¤ë¥´ë‹¤. ì´ë ‡ê²Œ êµ¬ë¶„ë˜ëŠ” ê²½ê³„ë¥¼ ê°–ëŠ” ì»¨í…ìŠ¤íŠ¸ë¥¼ DDDì—ì„œëŠ” ë°”ìš´ë””ë“œ ì»¨í…ìŠ¤íŠ¸(Bounded Context)ë¼ê³  ë¶€ë¥¸ë‹¤.   9.2 ë°”ìš´ë””ë“œ ì»¨í…ìŠ¤íŠ¸     ë„ë©”ì¸ ëª¨ë¸ì˜ ê²½ê³„ë¥¼ ê²°ì •í•œë‹¤.   ìš©ì–´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ êµ¬ë¶„í•œë‹¤.   í•œ ê°œì˜ ë°”ìš´ë””ë“œ ì»¨í…ìŠ¤íŠ¸ëŠ” ë…¼ë¦¬ì ìœ¼ë¡œ í•œ ê°œì˜ ëª¨ë¸ì„ ê°–ëŠ”ë‹¤.   í•œ ê°œì˜ ë°”ìš´ë””ë“œ ì»¨í…ìŠ¤íŠ¸ê°€ ì—¬ëŸ¬ í•˜ìœ„ ë„ë©”ì¸ì„ í¬í•¨í•˜ë”ë¼ë„, í•˜ìœ„ ë„ë©”ì¸ë§ˆë‹¤ êµ¬ë¶„ë˜ëŠ” íŒ¨í‚¤ì§€ë¥¼ ê°–ë„ë¡ êµ¬í˜„í•´ì•¼ í•œë‹¤.       ì•„ì§ ëª…í™•í•˜ê²Œ êµ¬ë¶„ë˜ì§€ ì•Šì€ ê²½ìš° ë‘ í•˜ìœ„ ë„ë©”ì¸ì„ í•˜ë‚˜ì˜ ë°”ìš´ë””ë“œ ì»¨í…ìŠ¤íŠ¸ì—ì„œ êµ¬í˜„í•˜ê¸°ë„ í•œë‹¤.         í•œ ê°œì˜ ë°”ìš´ë””ë“œ ì»¨í…ìŠ¤íŠ¸ê°€ ì—¬ëŸ¬ í•˜ìœ„ ë„ë©”ì¸ì„ í¬í•¨í•˜ë”ë¼ë„, í•˜ìœ„ ë„ë©”ì¸ë§ˆë‹¤ êµ¬ë¶„ë˜ëŠ” íŒ¨í‚¤ì§€ë¥¼ ê°–ë„ë¡ êµ¬í˜„í•´ì•¼ í•œë‹¤.         ê°™ì€ ìƒí’ˆì´ë¼ë„ ê°ì êµ¬í˜„í•˜ëŠ” í•˜ìœ„ ë„ë©”ì¸ì— ë§ëŠ” ëª¨ë¸ì„ ê°–ëŠ”ë‹¤.     9.3 ë°”ìš´ë””ë“œ ì»¨í…ìŠ¤íŠ¸ êµ¬í˜„  ë°”ìš´ë””ë“œ ì»¨í…ìŠ¤íŠ¸ëŠ” ë„ë©”ì¸ ê¸°ëŠ¥ì„ ì‚¬ìš©ìì—ê²Œ ì œê³µí•˜ëŠ” ë° í•„ìš”í•œ í‘œí˜„ ì˜ì—­, ì‘ìš© ì„œë¹„ìŠ¤, ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜, í…Œì´ë¸” ì˜ì—­ì„ í¬í•¨í•œë‹¤.          CQRS (Command Query Responsibility Segregation, ëª…ë ¹ ì¡°íšŒ ì±…ì„ ë¶„ë¦¬) íŒ¨í„´ì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.          ë°”ìš´ë””ë“œ ì»¨í…ìŠ¤íŠ¸ëŠ” UIë¥¼ ê°–ì§€ ì•Šì„ ìˆ˜ë„ ìˆë‹¤.          ë°”ìš´ë””ë“œ ì»¨í…ìŠ¤íŠ¸ëŠ” UIì„œë²„ë¥¼ í†µí•´ ê°„ì ‘ì ìœ¼ë¡œ ë¸Œë¼ìš°ì €ì™€ í†µì‹ í•  ìˆ˜ë„ ìˆë‹¤. ì—¬ê¸°ì„œ UIì„œë²„ëŠ” íŒŒì‚¬ë“œ ì—­í• ì„ ìˆ˜í–‰í•œë‹¤.    9.4 ë°”ìš´ë””ë“œ ì»¨í…ìŠ¤íŠ¸ ê°„ í†µí•©  ë°”ìš´ë””ë“œ ì»¨í…ìŠ¤íŠ¸ ê°„ í†µí•©ì´ í•„ìš”í•  ë•Œë„ ìˆë‹¤.   REST APIë¥¼ ì´ìš©í•œ ì§ì ‘ í†µí•©     í†µì‹              ë„ë©”ì¸ì— ë§ëŠ” ëª¨ë¸ë¡œ ë³€í™˜            ë©”ì‹œì§€ íë¥¼ ì‚¬ìš©í•˜ì—¬ í†µí•©             ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì™€ ë°”ìš´ë””ë“œ ì»¨í…ìŠ¤íŠ¸  ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‘ì€ ì„œë¹„ìŠ¤ë¡œ ë‚˜ëˆ„ì–´ ê°œë°œí•˜ëŠ” ì•„í‚¤í…ì²˜ ìŠ¤íƒ€ì¼ì´ë‹¤. ê°œë³„ ì„œë¹„ìŠ¤ë¥¼ ë…ë¦½ëœ í”„ë¡œì„¸ìŠ¤ë¡œ ì‹¤í–‰í•˜ê³  ê° ì„œë¹„ìŠ¤ê°€ REST APIë‚˜ ë©”ì‹œì§•ì„ ì´ìš©í•´ì„œ í†µì‹ í•˜ëŠ” êµ¬ì¡°ë¥¼ ê°–ëŠ”ë‹¤.   ë°”ìš´ë””ë“œ ì»¨í…ìŠ¤íŠ¸ë¥¼ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¡œ êµ¬í˜„í•˜ë©´ ìì—°ìŠ¤ëŸ½ê²Œ ì»¨í…ìŠ¤íŠ¸ë³„ë¡œ ëª¨ë¸ì´ ë¶„ë¦¬ëœë‹¤. ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë§ˆë‹¤ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ë¯€ë¡œ ë°”ìš´ë””ë“œ ì»¨í…ìŠ¤íŠ¸ë§ˆë‹¤ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ê²Œ ëœë‹¤. ì´ê²ƒì€ ì½”ë“œ ìˆ˜ì¤€ì—ì„œ ëª¨ë¸ì„ ë¶„ë¦¬í•˜ì—¬ ë‘ ë°”ìš´ë””ë“œ ì»¨í…ìŠ¤íŠ¸ì˜ ëª¨ë¸ì´ ì„ì´ì§€ ì•Šë„ë¡ í•´ì¤€ë‹¤.   9.5 ë°”ìš´ë””ë“œ ì»¨í…ìŠ¤íŠ¸ ê°„ ê´€ê³„  ë°”ìš´ë””ë“œ ì»¨í…ìŠ¤íŠ¸ëŠ” ì–´ë–¤ ì‹ìœ¼ë¡œë“  ì—°ê²°ë˜ê¸° ë•Œë¬¸ì— ë‘ ë°”ìš´ë””ë“œ ì»¨í…ìŠ¤íŠ¸ëŠ” ë‹¤ì–‘í•œ ë°©ì‹ìœ¼ë¡œ ê´€ê³„ë¥¼ ë§ºëŠ”ë‹¤.   REST API           ë‹¨ì¼ API           ë…ë¦½ ë°©ì‹  ê·¸ëƒ¥ ì„œë¡œ í†µí•©í•˜ì§€ ì•ŠëŠ” ë°©ì‹ì´ë‹¤. ì„œë¡œ ë…ë¦½ì ìœ¼ë¡œ ëª¨ë¸ì„ ë°œì „ ì‹œí‚¨ë‹¤. í•˜ì§€ë§Œ ê·œëª¨ê°€ ì»¤ì§ˆìˆ˜ë¡ í•œê³„ê°€ ìˆìœ¼ë¯€ë¡œ ê·¸ ì „ì— ë‘ ë°”ìš´ë””ë“œ ì»¨í…ìŠ¤íŠ¸ë¥¼ í†µí•©í•´ì•¼ í•œë‹¤.         9.6 ì»¨í…ìŠ¤íŠ¸ ë§µ  ê°œë³„ ë°”ìš´ë””ë“œ ì»¨í…ìŠ¤íŠ¸ì— ë§¤ëª°ë˜ë©´ ì „ì²´ë¥¼ ë³´ì§€ ëª»í•  ë•Œê°€ ìˆë‹¤. ì „ì²´ ë°”ìš´ë””ë“œ ì»¨í…ìŠ¤íŠ¸ ê°„ ê´€ê³„ë¥¼ ë³¼ ìˆ˜ ìˆëŠ” ì§€ë„ê°€ í•„ìš”í•œë° ê·¸ê²ƒì´ ë°”ë¡œ ì»¨í…ìŠ¤íŠ¸ ë§µì´ë‹¤.              10. ì´ë²¤íŠ¸  10.1 ì‹œìŠ¤í…œ ê°„ ê°•ê²°í•© ë¬¸ì œ     íŠ¸ë Œì ì…˜ ë¬¸ì œ   ì™¸ë¶€ ì„œë¹„ìŠ¤ì˜ ì„±ëŠ¥ì— ì˜í–¥ì„ ë°›ìŒ   ì„¤ê³„ìƒ ë¬¸ì œ (ë¡œì§ì´ ì„ì„)   ê¸°ëŠ¥ ì¶”ê°€ì˜ ì–´ë ¤ì›€   10.2 ì´ë²¤íŠ¸ ê°œìš”  ì—¬ê¸°ì„œ ì‚¬ìš©ë˜ëŠ” ì´ë²¤íŠ¸ë¼ëŠ” ìš©ì–´ëŠ” â€˜ê³¼ê±°ì— ë²Œì–´ì§„ ì–´ë–¤ ê²ƒâ€™ì„ ì˜ë¯¸í•œë‹¤.     ì´ë²¤íŠ¸ ë°œìƒ   ì´ë²¤íŠ¸ì— ë°˜ì‘í•˜ì—¬ ë™ì‘ ìˆ˜í–‰   10.2.1 ì´ë²¤íŠ¸ ê´€ë ¨ êµ¬ì„±ìš”ì†Œ     ì´ë²¤íŠ¸   ì´ë²¤íŠ¸ ìƒì„± ì£¼ì²´   ì´ë²¤íŠ¸ ë””ìŠ¤íŒ¨ì²˜ (í¼ë¸”ë¦¬ì…”)   ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ (êµ¬ë…ì)      ë„ë©”ì¸ ëª¨ë¸ì—ì„œ ì´ë²¤íŠ¸ ìƒì„± ì£¼ì²´ëŠ” ì—”í‹°í‹°, ë°¸ë¥˜, ë„ë©”ì¸ ì„œë¹„ìŠ¤ì™€ ê°™ì€ ë„ë©”ì¸ ê°ì²´ì´ë‹¤. ë„ë©”ì¸ ê°ì²´ëŠ” ë„ë©”ì¸ ë¡œì§ì„ ì‹¤í–‰í•´ì„œ ìƒíƒœê°€ ë°”ë€Œë©´ ê´€ë ¨ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.   10.2.2 ì´ë²¤íŠ¸ì˜ êµ¬ì„±  ì´ë²¤íŠ¸ëŠ” ë°œìƒí•œ ì´ë²¤íŠ¸ì— ëŒ€í•œ ì •ë³´ë¥¼ ë‹´ëŠ”ë‹¤.     ì´ë²¤íŠ¸ ì¢…ë¥˜: í´ë˜ìŠ¤ ì´ë¦„ìœ¼ë¡œ ì´ë²¤íŠ¸ ì¢…ë¥˜ë¥¼ í‘œí˜„   ì´ë²¤íŠ¸ ë°œìƒ ì‹œê°„   ì¶”ê°€ ë°ì´í„°: ì£¼ë¬¸ë²ˆí˜¸, ì‹œê·œë°°ì†¡ì§€ ì •ë³´ ë“± ì´ë²¤íŠ¸ì™€ ê´€ë ¨ëœ ì •ë³´   10.2.3 ì´ë²¤íŠ¸ ìš©ë„     í›„ì²˜ë¦¬ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•œ íŠ¸ë¦¬ê±°   ì„œë¡œ ë‹¤ë¥¸ ì‹œìŠ¤í…œ ê°„ì˜ ë°ì´í„° ë™ê¸°í™”      10.2.4 ì´ë²¤íŠ¸ ì¥ì      ì„œë¡œ ë‹¤ë¥¸ ë„ë©”ì¸ ë¡œì§ì´ ì„ì´ëŠ” ê²ƒì„ ë°©ì§€   ë„ë©”ì¸ ë¡œì§ì— ì˜í–¥ ì—†ì´ ê¸°ëŠ¥ í™•ì¥      10.3 ì´ë²¤íŠ¸, í•¸ë“¤ëŸ¬, ë””ìŠ¤íŒ¨ì²˜ êµ¬í˜„  ì´ë²¤íŠ¸ì™€ ê´€ë ¨ëœ ì½”ë“œ     ì´ë²¤íŠ¸ í´ë˜ìŠ¤: ì´ë²¤íŠ¸ë¥¼ í‘œí˜„í•œë‹¤.   ë””ìŠ¤íŒ¨ì²˜: ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” ApplicationEventPublisherë¥¼ ì´ìš©í•œë‹¤.   Events: ì´ë²¤íŠ¸ë¥¼ ë°œí–‰í•œë‹¤. ì´ë²¤íŠ¸ ë°œí–‰ì„ ìœ„í•´ ApplicationEventPublisherë¥¼ ì‚¬ìš©í•œë‹¤.   ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬: ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì‹ í•´ì„œ ì²˜ë¦¬í•œë‹¤. ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì„ ì‚¬ìš©í•œë‹¤.   10.3.1 ì´ë²¤íŠ¸ í´ë˜ìŠ¤  // ê³µí†µ ì¶”ìƒ í´ë˜ìŠ¤ package com.myshop.common.event;  public abstract class Event {     private long timestamp;      public Event() {         this.timestamp = System.currentTimeMillis();     }     ...ìƒëµ... }  public class OrderCanceledEvent extends Event {      // ì´ë²¤íŠ¸ëŠ” í•¸ë“¤ëŸ¬ì—ì„œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë° í•„ìš”í•œ ë°ì´í„°ë¥¼ í¬í•¨     private String orderNumber;      public OrderCanceledEvent(String number) {         super();         this.orderNumber = number;     }     ...ìƒëµ... }   10.3.2 Events í´ë˜ìŠ¤ì™€ ApplicationEventPublisher  ì´ë²¤íŠ¸ ë°œìƒê³¼ ì¶œíŒì„ ìœ„í•´ ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” ApplicationEventPublisherë¥¼ ì‚¬ìš©í•œë‹¤.   // ì„¤ì • @Configuration public class EventsConfiguration {     @Autowired     private ApplicationContext applicationContext;      @Bean     public InitializingBean eventsInitializer() {         return () -&gt; Events.setPublisher(applicationContext);     } }  // EventsëŠ” ApplicationEventPublisherë¥¼ ì‚¬ìš©í•´ì„œ ì´ë²¤íŠ¸ë¥¼ ë°œìƒ public class Events {     private static ApplicationEventPublisher publisher;      static void setPublisher(ApplicationEventPublisher publisher) {         Events.publisher = publisher;     }      public static void raise(Object event) {         if (publisher != null) {             publisher.publishEvent(event);         }     } }   10.3.3 ì´ë²¤íŠ¸ ë°œìƒê³¼ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬  // ì´ë²¤íŠ¸ ë°œìƒ public class Order {     public void cancel() {         ...ìƒëµ...         Events.raise(new OrderCanceledEvent(number.getNumber()));     } }  // ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ @Service public class OrderCanceledEventHandler {     private RefundService refundService;      public OrderCanceledEventHandler(RefundService refundService) {         this.refundService = refundService;     }      @EventListener(OrderCanceledEvent.class)     public void handle(OrderCanceledEvent event) {         refundService.refund(event.getOrderNumber());     } }   10.3.4 íë¦„ ì •ë¦¬     10.4 ë™ê¸° ì´ë²¤íŠ¸ ì²˜ë¦¬ ë¬¸ì œ  ë™ê¸° ì´ë²¤íŠ¸ ì²˜ë¦¬ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œê°€ ë°œìƒí•œë‹¤.     ì™¸ë¶€ ì—°ë™ ê³¼ì •ì—ì„œ ìµì…‰ì…˜ì´ ë°œìƒí•˜ë©´ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ëŠ”?   ì´ë²¤íŠ¸ ì²˜ë¦¬í•˜ëŠ” ì½”ë“œê°€ ëŠë ¤ì§€ê±°ë‚˜ ìµì…‰ì…˜ì´ ë°œìƒí•˜ë©´?   10.5 ë¹„ë™ê¸° ì´ë²¤íŠ¸ ì²˜ë¦¬  ë¹„ë™ê¸° ì´ë²¤íŠ¸ ì²˜ë¦¬ë¡œ í•´ê²°í•œë‹¤.     ë¡œì»¬ í•¸ë“¤ëŸ¬ë¥¼ ë¹„ë™ê¸°ë¡œ ì‹¤í–‰í•˜ê¸°   ë©”ì‹œì§€ íë¥¼ ì‚¬ìš©í•˜ê¸°   ì´ë²¤íŠ¸ ì €ì¥ì†Œì™€ ì´ë²¤íŠ¸ í¬ì›Œë” ì‚¬ìš©í•˜ê¸°   ì´ë²¤íŠ¸ ì €ì¥ì†Œì™€ ì´ë²¤íŠ¸ ì œê³µ API ì‚¬ìš©í•˜ê¸°   10.5.1 ë¡œì»¬ í•¸ë“¤ëŸ¬ ë¹„ë™ê¸° ì‹¤í–‰  ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë³„ë„ ìŠ¤ë ˆë“œë¡œ ì‹¤í–‰í•œë‹¤. ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” @Async ì—ë„ˆí…Œì´ì…˜ì„ ì‚¬ìš©í•˜ë©´ ì†ì‰½ê²Œ ë¹„ë™ê¸°ë¡œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.   @SpringBootApplication @EnableAsync  // ê¸°ëŠ¥ í™œì„±í™” public class ShopApplication {      public static void main(String[] args) {         SpringApplication.run(ShopApplication.class, args);     } }  // í•¸ë“¤ëŸ¬ @Service public class OrderCanceledEventHandler {      @Async // @Async ì—ë„ˆí…Œì´ì…˜ ì‚¬ìš©     @EventListener(OrderCanceledEvent.class)     public void handle(OrderCanceledEvent event) {         refundService.refund(event.getOrderNumber());     } }   10.5.2 ë©”ì‹œì§• ì‹œìŠ¤í…œì„ ì´ìš©í•œ ë¹„ë™ê¸° êµ¬í˜„  Kafkaë‚˜ RabbitMQì™€ ê°™ì€ ë©”ì‹œì§• ì‹œìŠ¤í…œì„ ì‚¬ìš©     RabbitMQ            ê¸€ë¡œë²Œ íŠ¸ëœì­ì…˜ ì§€ì›           Kafka            ê¸€ë¡œë²Œ íŠ¸ëœì­ì…˜ ì§€ì› X       ë‹¤ë¥¸ ë©”ì‹œì§• ì‹œìŠ¤í…œì— ë¹„í•´ ë†’ì€ ì„±ëŠ¥              10.5.3 ì´ë²¤íŠ¸ ì €ì¥ì†Œë¥¼ ì´ìš©í•œ ë¹„ë™ê¸° ì²˜ë¦¬  ì´ë²¤íŠ¸ë¥¼ ì¼ë‹¨ DBì— ì €ì¥í•œ ë’¤ì— ë³„ë„ í”„ë¡œê·¸ë¨ì„ ì´ìš©í•´ì„œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì— ì „ë‹¬             APIë°©ì‹ê³¼ í¬ì›Œë” ë°©ì‹ì˜ ì°¨ì´ì ì€ ì´ë²¤íŠ¸ë¥¼ ì „ë‹¬í•˜ëŠ” ë°©ì‹ì— ìˆë‹¤.     í¬ì›Œë”            í¬ì›Œë”ë¥¼ ì´ìš©í•´ì„œ ì´ë²¤íŠ¸ë¥¼ ì™¸ë¶€ì— ì „ë‹¬.       ì´ë²¤íŠ¸ë¥¼ ì–´ë””ê¹Œì§€ ì²˜ë¦¬í–ˆëŠ”ì§€ ì¶”ì í•˜ëŠ” ì—­í• ì´ í¬ì›Œë”ì— ìˆë‹¤.           API            ì™¸ë¶€ í•¸ë“¤ëŸ¬ê°€ API ì„œë²„ë¥¼ í†µí•´ ì´ë²¤íŠ¸ ëª©ë¡ì„ ê°€ì ¸ê°.       ì´ë²¤íŠ¸ë¥¼ ì–´ë””ê¹Œì§€ ì²˜ë¦¬í–ˆëŠ”ì§€ ì¶”ì í•˜ëŠ” ì—­í• ì´ ì™¸ë¶€ í•¸ë“¤ëŸ¬ì— ìˆë‹¤.               êµ¬í˜„ ë°©ë²•ì€ ì±… ì°¸ê³   â€¦ìƒëµâ€¦ğŸ˜…       ìë™ ì¦ê°€ ì¹¼ëŸ¼ ì£¼ì˜ ì‚¬í•­  íŠ¸ëœì­ì…˜ ì»¤ë°‹ ì‹œì ì— ë”°ë¥¸ ìë™ ì¦ê°€ ì¹¼ëŸ¼ ë¬¸ì œ  ìë™ ì¦ê°€ ì¹¼ëŸ¼ ì£¼ì˜ ì‚¬í•­ ë§í¬  // íŠ¸ëœì­ì…˜ ì»¤ë°‹ ì‹œì ì— ë”°ë¥¸ ID ê°’ ì‹œê°„ íë¦„ ---&gt;   íŠ¸ëœì­ì…˜ 1: 1, 2       5, 6 íŠ¸ëœì­ì…˜ 2:       3, 4      7, 8   10.6 ì´ë²¤íŠ¸ ì ìš© ì‹œ ì¶”ê°€ ê³ ë ¤ ì‚¬í•­  ì´ë²¤íŠ¸ ì ìš© ì‹œ ë‹¤ìŒ ê³ ë ¤ì‚¬í•­ì„ ìƒê°í•´ë³¸ë‹¤.     ì´ë²¤íŠ¸ ì†ŒìŠ¤ë¥¼ EventEntryì— ì¶”ê°€í• ì§€?            EventEntryëŠ” ì´ë²¤íŠ¸ ë°œìƒ ì£¼ì²´ì— ëŒ€í•œ ì •ë³´ë¥¼ ê°–ì§€ ì•ŠëŠ”ë‹¤.       íŠ¹ì • ì£¼ì²´ê°€ ë°œìƒì‹œí‚¨ ì´ë²¤íŠ¸ë§Œ ì¡°íšŒí•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ì—†ë‹¤.       ì´ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë ¤ë©´ ì´ë²¤íŠ¸ì— ë°œìƒ ì£¼ì²´ ì •ë³´ë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤.           í¬ì›Œë”ì—ì„œ ì „ì†¡ ì‹¤íŒ¨ë¥¼ ì–¼ë§ˆë‚˜ í—ˆìš©í• ì§€?            í¬ì›Œë”ëŠ” ì´ë²¤íŠ¸ ì „ì†¡ì— ì‹¤íŒ¨í•˜ë©´ ì‹¤íŒ¨í•œ ì´ë²¤íŠ¸ë¶€í„° ë‹¤ì‹œ ì½ì–´ì™€ ì „ì†¡ì„ ì‹œë„í•œë‹¤.       íŠ¹ì • ì´ë²¤íŠ¸ê°€ ê³„ì† ì‹¤íŒ¨í•œë‹¤ë©´?       ì‹¤íŒ¨í•œ ì´ë²¤íŠ¸ì˜ ì¬ì „ì†¡ íšŸìˆ˜ ì œí•œì„ ë‘ì–´ì•¼ í•œë‹¤.       ì‹¤íŒ¨í•œ ì´ë²¤íŠ¸ëŠ” ì‹¤íŒ¨ìš© DBë‚˜ ë©”ì‹œì§€ íì— ì €ì¥í•œë‹¤.           ì´ë²¤íŠ¸ ì†ì‹¤ì€?            ì´ë²¤íŠ¸ ì €ì¥ì†Œë¥¼ ì‚¬ìš©í•˜ë©´ ì´ë²¤íŠ¸ ë°œìƒê³¼ ì´ë²¤íŠ¸ ì €ì¥ì„ í•œ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì— íŠ¸ëœì­ì…˜ì— ì„±ê³µí•˜ë©´ ì´ë²¤íŠ¸ê°€ ì €ì¥ì†Œì— ë³´ê´€ëœë‹¤ëŠ” ê²ƒì„ ë³´ì¥í•  ìˆ˜ ìˆë‹¤.       ì´ë²¤íŠ¸ë¥¼ ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬í•  ê²½ìš° ì´ë²¤íŠ¸ ì²˜ë¦¬ì— ì‹¤íŒ¨í•˜ë©´ ì´ë²¤íŠ¸ë¥¼ ìœ ì‹¤í•˜ê²Œ ëœë‹¤.           ì´ë²¤íŠ¸ ìˆœì„œëŠ”?            ì´ë²¤íŠ¸ ë°œìƒ ìˆœì„œëŒ€ë¡œ ì™¸ë¶€ ì‹œìŠ¤í…œì— ì „ë‹¬í•´ì•¼ í•  ê²½ìš°ëŠ” ì´ë²¤íŠ¸ ì €ì¥ì†Œë¥¼ ì‚¬ìš©í•œë‹¤.       ë©”ì‹œì§• ì‹œìŠ¤í…œì€ ì‚¬ìš© ê¸°ìˆ ì— ë”°ë¼ ì´ë²¤íŠ¸ ë°œìƒ ìˆœì„œì™€ ë©”ì‹œì§€ ìˆœì„œê°€ ë‹¤ë¥¼ ìˆ˜ ìˆë‹¤.           ì´ë²¤íŠ¸ ì¬ì²˜ë¦¬ëŠ”?            ì´ë²¤íŠ¸ì˜ ìˆœë²ˆì„ ê¸°ì–µí•œë‹¤.       ì´ë²¤íŠ¸ ë©±ë“±ì„±ìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤           ë©±ë“±ì„±ì´ë€?  ì—°ì‚°ì„ ì—¬ëŸ¬ë²ˆ ì ìš©í•´ë„ ê²°ê³¼ê°€ ë‹¬ë¼ì§€ì§€ ì•ŠëŠ” ì„±ì§ˆì„ ë©±ë“±ì„±ì´ë¼ê³  í•œë‹¤.   10.6.1 ì´ë²¤íŠ¸ ì²˜ë¦¬ì™€ DB íŠ¸ëœì­ì…˜ ê³ ë ¤  ì´ë²¤íŠ¸ ì²˜ë¦¬ë¥¼ ë™ê¸°ë¡œ í•˜ë“  ë¹„ë™ê¸°ë¡œ í•˜ë“  ì´ë²¤íŠ¸ ì²˜ë¦¬ ì‹¤íŒ¨ì™€ íŠ¸ëœì­ì…˜ ì‹¤íŒ¨ë¥¼ í•¨ê»˜ ê³ ë ¤í•´ì•¼ í•œë‹¤. íŠ¸ëœì­ì…˜ ì‹¤íŒ¨ì™€ ì´ë²¤íŠ¸ ì²˜ë¦¬ ì‹¤íŒ¨ ëª¨ë‘ ê³ ë ¤í•˜ë©´ ë³µì¡í•´ì§€ë¯€ë¡œ ê²½ìš°ì˜ ìˆ˜ë¥¼ ì¤„ì´ë©´ ë„ì›€ì´ ëœë‹¤. ê²½ìš°ì˜ ìˆ˜ë¥¼ ì¤„ì´ëŠ” ë°©ë²•ì€ íŠ¸ëœì­ì…˜ì´ ì„±ê³µí•  ë•Œë§Œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ë‹¤.   ìŠ¤í”„ë§ì€ @TransactionalEventListener ì—ë„ˆí…Œì´ì…˜ì„ ì§€ì›í•œë‹¤. ì´ ì• ë„ˆí…Œì´ì…˜ì€ íŠ¸ëœì­ì…˜ ìƒíƒœì— ë”°ë¼ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ í•œë‹¤.   @TransactionalEventListener(         classes = OrderCanceledEvent.class,         phase = TransactionPhase.AFTER_COMMIT ) public void handle(OrderCanceledEvent event) {     refundService.refund(event.getOrderNumber()); }           11. CQRS  11.1 ë‹¨ì¼ ëª¨ë¸ì˜ ë‹¨ì   ì¡°íšŒ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë ¤ë©´ ì—¬ëŸ¬ ì• ê·¸ë¦¬ê±°íŠ¸ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì•¼ í•  ê²½ìš°ê°€ ë§ë‹¤. ì´ ë•Œ ì‹ë³„ìë¥¼ ì´ìš©í•œ ì°¸ì¡° ë°©ì‹ì´ë“ , ì§ì ‘ ì°¸ì¡°í•˜ëŠ” ë°©ì‹ì´ë“  ê³ ë¯¼í•´ì•¼ í•  ê²ƒë“¤ì´ ë§ë‹¤. ì´ëŠ” êµ¬í˜„ ë³µì¡ë„ë¥¼ ë†’ì¸ë‹¤.   ì´ëŸ° êµ¬í˜„ ë³µì¡ë„ë¥¼ ë‚®ì¶”ëŠ” ê°„ë‹¨í•œ ë°©ë²•ì´ ë°”ë¡œ CQRS (Command Query Responsibility Segregation, ëª…ë ¹ ì¡°íšŒ ì±…ì„ ë¶„ë¦¬)ë‹¤.   11.2 CQRS          CQRSë¥¼ ì‚¬ìš©í•˜ë©´ ê° ëª¨ë¸ì— ë§ëŠ” êµ¬í˜„ ê¸°ìˆ ì„ ì„ íƒí•  ìˆ˜ ìˆë‹¤.         ë‹¨ìˆœíˆ ë°ì´í„°ë¥¼ ì½ì–´ì™€ ì¡°íšŒí•˜ëŠ” ê¸°ëŠ¥ì€ ì‘ìš© ì„œë¹„ìŠ¤ë¥¼ ì œì™¸í•  ìˆ˜ë„ ìˆë‹¤.       CQRSë¥¼ ì‚¬ìš©í•˜ë©´ ê° ëª¨ë¸ì— ë§ëŠ” ë°ì´í„° ì €ì¥ì†Œë¥¼ ì„ íƒí•  ìˆ˜ ìˆë‹¤.      ëª…ë ¹ ëª¨ë¸ì€ íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ëŠ” RDBMSë¥¼ ì‚¬ìš©í•˜ê³ , ì¡°íšŒ ëª¨ë¸ì€ ì¡°íšŒ ì„±ëŠ¥ì´ ì¢‹ì€ ë©”ëª¨ë¦¬ ê¸°ë°˜ NoSQLì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.   11.2.1 ì›¹ê³¼ CQRS  ì¼ë°˜ì ì¸ ì›¹ ì„œë¹„ìŠ¤ëŠ” ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ìš”ì²­ë³´ë‹¤ ìƒíƒœë¥¼ ì¡°íšŒí•˜ëŠ” ìš”ì²­ì´ ë§ë‹¤. ëŒ€ê·œëª¨ íŠ¸ë˜í”½ì´ ë°œìƒí•˜ëŠ” ì›¹ ì„œë¹„ìŠ¤ëŠ” ì•Œê²Œ ëª¨ë¥´ê²Œ CQRSë¥¼ ì ìš©í•˜ê²Œ ëœë‹¤. ì¡°íšŒ ì†ë„ë¥¼ ë†’ì´ê¸° ìœ„í•´ ë³„ë„ ì²˜ë¦¬ë¥¼ í•˜ê³  ìˆë‹¤ë©´ CQRSë¥¼ ì ìš©í•˜ì. ì´ë¥¼ í†µí•´ ì¡°íšŒ ê¸°ëŠ¥ ë•Œë¬¸ì— ëª…ë ¹ ëª¨ë¸ì´ ë³µì¡í•´ì§€ëŠ” ê²ƒì„ ë§‰ì„ ìˆ˜ ìˆê³ , ëª…ë ¹ ëª¨ë¸ì— ê´€ê³„ì—†ì´ ì¡°íšŒ ê¸°ëŠ¥ì— íŠ¹í™”ëœ êµ¬í˜„ ê¸°ë²•ì„ ë³´ë‹¤ ì‰½ê²Œ ì ìš©í•  ìˆ˜ ìˆë‹¤.   11.2.2 CQRS ì¥ë‹¨ì      ì¥ì             ëª…ë ¹ ëª¨ë¸ì„ êµ¬í˜„í•  ë•Œ ë„ë©”ì¸ ìì²´ì— ì§‘ì¤‘í•  ìˆ˜ ìˆë‹¤.       ì¡°íšŒ ì„±ëŠ¥ í–¥ìƒì— ìœ ë¦¬           ë‹¨ì             êµ¬í˜„í•´ì•¼ í•  ì½”ë“œê°€ ë” ë§ë‹¤.       ë” ë§ì€ êµ¬í˜„ ê¸°ìˆ ì´ í•„ìš”í•˜ë‹¤.           ì¥ë‹¨ì ì„ ê³ ë ¤í•´ CQRS íŒ¨í„´ ë„ì… ì—¬ë¶€ë¥¼ ê²°ì •í•œë‹¤. ë„ë©”ì¸ì´ ë³µì¡í•˜ì§€ ì•Šì€ë° CQRSë¥¼ ë„ì…í•˜ë©´ ìœ ì§€ ë¹„ìš©ë§Œ ë†’ì•„ì§„ë‹¤. ë°˜ë©´ íŠ¸ë˜í”½ì´ ë†’ì€ ì„œë¹„ìŠ¤ì¸ë° ë‹¨ì¼ ëª¨ë¸ì„ ê³ ì§‘í•˜ë©´ ìœ ì§€ ë³´ìˆ˜ ë¹„ìš©ì´ ì˜¤íˆë ¤ ë†’ì•„ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ CQRS ë„ì…ì„ ê³ ë ¤í•˜ì.             ê°ì‚¬í•©ë‹ˆë‹¤ ğŸ™‡ğŸ»â€â™‚ï¸      ë„ë©”ì¸ ì£¼ë„ ê°œë°œ ì‹œì‘í•˜ê¸°: DDD í•µì‹¬ ê°œë… ì •ë¦¬ë¶€í„° êµ¬í˜„ê¹Œì§€   ì˜ˆì œ ì½”ë“œ  ","categories": ["Books"],
        "tags": ["Books","DDD"],
        "url": "/books/%EB%8F%84%EB%A9%94%EC%9D%B8%EC%A3%BC%EB%8F%84%EA%B0%9C%EB%B0%9C%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0/",
        "teaser": null
      },{
        "title": "ğŸ“– ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë°",
        "excerpt":"ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë° ì±…ì„ ì½ê³  ë‚´ìš©ì„ ì•„ì£¼ ê°„ë‹¨í•˜ê²Œ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤. ì±…ì—ëŠ” ìì„¸í•œ ì„¤ëª…ê³¼ ì˜ˆì œê°€ ë§ìœ¼ë‹ˆ ê¼­ êµ¬ì…í•´ì„œ ì½ëŠ”ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤~ğŸ‘     1. JPA ì†Œê°œ  1.1 SQLì„ ì§ì ‘ ë‹¤ë£° ë•Œ ë°œìƒí•˜ëŠ” ë¬¸ì œì      ìë°”ë¡œ ê°œë°œí•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ëŒ€ë¶€ë¶„ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë°ì´í„° ì €ì¥ì†Œë¡œ ì‚¬ìš©í•œë‹¤.   JDBC APIë¥¼ ì‚¬ìš©í•´ SQLì„ ì „ë‹¬í•œë‹¤.   1.1.1 ë°˜ë³µ, ë°˜ë³µ ê·¸ë¦¬ê³  ë°˜ë³µ  ê°ì²´ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— CURD í•˜ë ¤ë©´ ë„ˆë¬´ë§ì€ SQLê³¼ JDBC APIë¥¼ ì½”ë“œë¡œ ì‘ì„±í•´ì•¼ í•œë‹¤. í…Œì´ë¸”ì´ ì—¬ëŸ¬ê°œë¼ë©´ ë¬´ìˆ˜íˆ ë§ì€ SQLì„ ì‘ì„±í•´ì•¼ í•œë‹¤.   1.1.2 SQLì— ì˜ì¡´ì ì¸ ê°œë°œ  ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ SQLì„ ì§ì ‘ ë‹¤ë£° ë•Œ ë°œìƒí•˜ëŠ” ë¬¸ì œì      ì§„ì •í•œ ì˜ë¯¸ì˜ ê³„ì¸µ ë¶„í• ì´ ì–´ë µë‹¤.   ì—”í‹°í‹°ë¥¼ ì‹ ë¢°í•  ìˆ˜ ì—†ë‹¤.   SQLì— ì˜ì¡´ì ì¸ ê°œë°œì„ í”¼í•˜ê¸° ì–´ë µë‹¤.   1.1.3 JPAì™€ ë¬¸ì œ í•´ê²°  JPAë¥¼ ì‚¬ìš©í•˜ë©´ ê°ì²´ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ê³  ê´€ë¦¬í•  ë•Œ, ê°œë°œìê°€ ì§ì ‘ SQLì„ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ JPAê°€ ì œê³µí•˜ëŠ” APIë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.   // ì €ì¥ jpa.persist(member);  // ì¡°íšŒ String memberId = \"helloId\" Member member = jpa.find(Member.class, memberId);  // ìˆ˜ì • Member member = jpa.find(Member.class, memberId); member.setName(\"ì´ë¦„ë³€ê²½\"); // jpaëŠ” update ë©”ì†Œë“œê°€ ë”°ë¡œ ì—†ë‹¤.  // ì—°ê´€ëœ ê°ì²´ ì¡°íšŒ Member member = jpa.find(Member.class, memberId); Team team = member.getTeam();   1.2 íŒ¨ëŸ¬ë‹¤ì„ ë¶ˆì¼ì¹˜     ê°ì²´ì™€ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì§€í–¥í•˜ëŠ” ëª©ì ì´ ì„œë¡œ ë‹¤ë¥´ë‹¤.   ê¸°ëŠ¥ê³¼ í‘œí˜„ ë°©ë²•ë„ ë‹¤ë¥´ë‹¤.   ê°ì²´ êµ¬ì¡°ë¥¼ í…Œì´ë¸” êµ¬ì¡°ì— ì €ì¥í•˜ëŠ” ë°ëŠ” í•œê³„ê°€ ìˆë‹¤.   1.2.1 ìƒì†  ê°ì²´ëŠ” ìƒì†ì´ë¼ëŠ” ê¸°ëŠ¥ì„ ê°€ì§€ê³  ìˆì§€ë§Œ í…Œì´ë¸”ì€ ìƒì†ì´ë¼ëŠ” ê¸°ëŠ¥ì´ ì—†ë‹¤.(ì¼ë¶€ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ìƒì† ê¸°ëŠ¥ì„ ì§€ì›í•˜ì§€ë§Œ ê°ì²´ì˜ ìƒì†ê³¼ëŠ” ì•½ê°„ ë‹¤ë¥´ë‹¤.)         ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ë§ì—ì„œëŠ” ìŠˆí¼íƒ€ì… ì„œë¸Œíƒ€ì… ê´€ê³„ë¥¼ ì‚¬ìš©í•˜ë©´ ìœ ì‚¬í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.         ìœ„ì˜ êµ¬ì¡°ë¥¼ JDBC APIë¥¼ ì‚¬ìš©í•´ì„œ êµ¬í˜„í•˜ë ¤ë©´ ì‘ì„±í•´ì•¼ í•  ì½”ë“œëŸ‰ì´ ë§Œë§Œì¹˜ ì•Šë‹¤.     INSERT INTO ITEMâ€¦   INSERT INTO ALBUMâ€¦       JPAì™€ ìƒì†  JPAëŠ” ìƒì†ê³¼ ê´€ë ¨ëœ íŒ¨ëŸ¬ë‹¤ì„ ë¶ˆì¼ì¹˜ ë¬¸ì œë¥¼ ê°œë°œì ëŒ€ì‹  í•´ê²°í•´ ì¤€ë‹¤.   // ì €ì¥ jpa.persist(album);  // JPAì—ì„œ ì‹¤í–‰ í•´ì£¼ëŠ” SQL INSERT INTO ITEM... INSERT INTO ALBUM...       1.2.2 ì—°ê´€ê´€ê³„     ê°ì²´ëŠ” ì°¸ì¡°ë¥¼ ì‚¬ìš©í•´ ë‹¤ë¥¸ ê°ì²´ì™€ ì—°ê´€ê´€ê³„ë¥¼ ê°€ì§„ë‹¤. ì°¸ì¡°ì— ì ‘ê·¼í•´ì„œ ì—°ê´€ëœ ê°ì²´ë¥¼ ì¡°íšŒí•œë‹¤.   í…Œì´ë¸”ì€ ì™¸ë˜ í‚¤ë¥¼ ì‚¬ìš©í•´ ë‹¤ë¥¸ í…Œì´ë¸”ê³¼ ì—°ê´€ê´€ê³„ë¥¼ ê°€ì§„ë‹¤. ì¡°ì¸ì„ ì‚¬ìš©í•´ì„œ ì—°ê´€ëœ í…Œì´ë¸”ì„ ì¡°íšŒí•œë‹¤.   ê°ì²´ëŠ” ì°¸ì¡°ê°€ ìˆëŠ” ë°©í–¥ìœ¼ë¡œë§Œ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.        ê°ì²´ë¥¼ í…Œì´ë¸”ì— ë§ì¶”ì–´ ëª¨ë¸ë§  // ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ê°€ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì— ë§ì¶”ë©´ ê°ì²´ ì°¸ì¡°ë¥¼ í†µí•´ ì¡°íšŒí•  ìˆ˜ ì—†ë‹¤. class Member {     String id;   // MEMBER_ID ì»¬ëŸ¼ ì‚¬ìš©     Long teamId; // TEAM_ID FK ì»¬ëŸ¼ ì‚¬ìš© }       ê°ì²´ì§€í–¥ ëª¨ë¸ë§  // íŒ¨ëŸ¬ë‹¤ì„ ë¶ˆì¼ì¹˜ë¥¼ í•´ê²°í•˜ë ¤ê³  ì†Œëª¨í•˜ëŠ” ì½”ë“œê°€ ë§ë‹¤. class Member {     String id;   // MEMBER_ID ì»¬ëŸ¼ ì‚¬ìš©     Team team; // ì°¸ì¡°ë¡œ ì—°ê´€ê´€ê³„ë¥¼ ë§ºëŠ”ë‹¤. }  // ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ member.getId(); member.getTeam.getId(); // TEAM_ID FKë¥¼ ì§ì ‘ êµ¬í•´ì•¼ í•¨ ...ìƒëµ...  // ì¡°íšŒ SQL ì‹¤í–‰ Member member = new Member (); Team team = new Team(); ...ìƒëµ... member.setTeam(team); // ì§ì ‘ íšŒì›ê³¼ íŒ€ ê´€ê³„ ì„¤ì •       JPAì™€ ì—°ê´€ê´€ê³„  // JPAëŠ” ì—°ê´€ê´€ê³„ì™€ ê´€ë ¨ëœ íŒ¨ëŸ¬ë‹¤ì„ ë¶ˆì¼ì¹˜ ë¬¸ì œë¥¼ í•´ê²°í•´ì¤€ë‹¤.  // ì €ì¥ member.setTeam(team); jpa.persist(member); // TEAM_ID FKë¥¼ ì§ì ‘ ì§€ì •í•  í•„ìš” ì—†ìŒ  // ì¡°íšŒ Member member = jpa.find(Member.class, memberId); Team team = member.getTeam(); // ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥       1.2.3 ê°ì²´ ê·¸ë˜í”„ íƒìƒ‰  ê°ì²´ì—ì„œ íšŒì›ì— ì†Œì†ëœ íŒ€ì„ ì¡°íšŒí•  ë•ŒëŠ” ë‹¤ìŒì²˜ëŸ¼ ì°¸ì¡°ë¥¼ ì‚¬ìš©í•´ì„œ ì—°ê´€ëœ íŒ€ì„ ì°¾ìœ¼ë©´ ë˜ëŠ”ë°, ì´ê²ƒì„ ê°ì²´ ê·¸ë˜í”„ íƒìƒ‰ì´ë¼ í•œë‹¤.         // ê°ì²´ ê·¸ë˜í”„ íƒìƒ‰ member.getOrder().getOrderItem()...  // ë¬¸ì œ ë°œìƒ member.getOrder(); // ë§Œì•½ nullì´ë¼ë©´?   SQLì„ ì§ì ‘ ë‹¤ë£¨ë©´ ì²˜ìŒ ì‹¤í–‰í•˜ëŠ” SQLì— ë”°ë¼ ê°ì²´ ê·¸ë˜í”„ë¥¼ ì–´ë””ê¹Œì§€ íƒìƒ‰í•  ìˆ˜ ìˆëŠ”ì§€ ì •í•´ì§„ë‹¤. ì´ëŠ” ê°ì²´ ê·¸ë˜í”„ê°€ ì–¸ì œ ëŠì–´ì§ˆì§€ ëª¨ë¥´ê¸° ë•Œë¬¸ì— í•¨ë¶€ë¡œ íƒìƒ‰í•  ìˆ˜ ì—†ë‹¤.   JPAì™€ ê°ì²´ ê·¸ë˜í”„ íƒìƒ‰  JPAëŠ” ì—°ê´€ëœ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” ì‹œì ì— ì ì ˆí•œ SELECT SQLì„ ì‹¤í–‰í•œë‹¤(ì§€ì—°ë¡œë”©). ë”°ë¼ì„œ JPAë¥¼ ì‚¬ìš©í•˜ë©´ ì—°ê´€ëœ ê°ì²´ë¥¼ ì‹ ë¢°í•˜ê³  ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.   1.2.4 ë¹„êµ     ë°ì´í„°ë² ì´ìŠ¤ëŠ” ê¸°ë³¸ í‚¤ì˜ ê°’ìœ¼ë¡œ ê° rowë¥¼ êµ¬ë¶„   ê°ì²´ëŠ” ë™ì¼ì„±, ë™ë“±ì„± ë¹„êµ.            ë™ì¼ì„±ì€ == ë¹„êµ. ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ì˜ ì£¼ì†Œ ê°’ì„ ë¹„êµí•œë‹¤.       ë™ë“±ì„±ì€ equals() ë¹„êµ. ê°ì²´ ë‚´ë¶€ì˜ ê°’ì„ ë¹„êµí•œë‹¤.           JDBC API ë¹„êµ  String memberId = \"100\"; Member member1 = memberDAO.getMember(memberID); Member member2 = memberDAO.getMember(memberID);  // false member1 == member2;      JPA ë¹„êµ  String memberId = \"100\"; Member member1 = jpa.find(memberID); Member member2 = jpa.find(memberID);  // true member1 == member2;       1.2.5 ì •ë¦¬     ê°ì²´ ëª¨ë¸ê³¼ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ì€ ì§€í–¥í•˜ëŠ” íŒ¨ëŸ¬ë‹¤ì„ì´ ì„œë¡œ ë‹¤ë¥´ë‹¤.   ì´ íŒ¨ëŸ¬ë‹¤ì„ ì°¨ì´ë¥¼ ê·¹ë³µí•˜ë ¤ê³  ê°œë°œìê°€ ë„ˆë¬´ ë§ì€ ì‹œê°„ê³¼ ì½”ë“œë¥¼ ì†Œë¹„í•œë‹¤.   ê²°êµ­, ê°ì²´ ëª¨ë¸ë§ì€ í˜ì„ ìƒê³  ì ì  ë°ì´í„° ì¤‘ì‹¬ì˜ ëª¨ë¸ë¡œ ë³€í•´ê°„ë‹¤.   JPAëŠ” íŒ¨ëŸ¬ë‹¤ì„ ë¶ˆì¼ì¹˜ ë¬¸ì œë¥¼ í•´ê²°í•˜ê³ , ì •êµí•œ ê°ì²´ ëª¨ë¸ë§ì„ ìœ ì§€í•˜ê²Œ ë„ì™€ì¤€ë‹¤.         1.3 JPAë€ ë¬´ì—‡ì¸ê°€?  JPAë€?     JPA(java persistence API)ëŠ” ìë°”ì§„ì˜ ORM ê¸°ìˆ  í‘œì¤€ì´ë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ JDBC ì‚¬ì´ì—ì„œ ë™ì‘í•œë‹¤.         ORMì´ë€?     ORM(Object-Relational Mapping)ì€ ê°ì²´ì™€ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë§¤í•‘í•œë‹¤ëŠ” ëœ»ì´ë‹¤.   ë‹¤ì–‘í•œ ORM í”„ë ˆì„ì›Œí¬ë“¤ì´ ìˆëŠ”ë° ìë°” ì§„ì˜ì—ì„œëŠ” í•˜ì´ë²„ë„¤ì´íŠ¸ í”„ë ˆì„ì›Œí¬ê°€ ê°€ì¥ ë§ì´ ì‚¬ìš©ëœë‹¤.            1.3.1 JPA ì†Œê°œ          JPAëŠ” ìë°” ORM ê¸°ìˆ ì— ëŒ€í•œ API í‘œì¤€ ëª…ì„¸ë‹¤.   ì‰½ê²Œ ì´ì•¼ê¸°í•´ì„œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ëª¨ì•„ë‘” ê²ƒì´ë‹¤.   ë”°ë¼ì„œ JPAë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ JPAë¥¼ êµ¬í˜„í•œ ORM í”„ë ˆì„ì›Œí¬ë¥¼ ì„ íƒí•´ì•¼ í•œë‹¤.   ORM í”„ë ˆì„ì›Œí¬ ì¤‘ í•˜ì´ë²„ë„¤ì´íŠ¸ê°€ ê°€ì¥ ëŒ€ì¤‘ì ì´ë‹¤.        1.3.2 ì™œ JPAë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ê°€?     ìƒì‚°ì„±   ìœ ì§€ë³´ìˆ˜   íŒ¨ëŸ¬ë‹¤ì„ ë¶ˆì¼ì¹˜ í•´ê²°   ì„±ëŠ¥ (ìºì‹œ)   ë°ì´í„° ì ‘ê·¼ ì¶”ìƒí™”ì™€ ë²¤ë” ë…ë¦½ì„±            ë°ì´í„°ë² ì´ìŠ¤ë§ˆë‹¤ ì‚¬ìš©ë²•ì´ ë‹¤ë¥´ë‹¤ (ì˜ˆ: í˜ì´ì§• ì¿¼ë¦¬)       JPAì—ê²Œ ë°ì´í„°ë² ì´ìŠ¤ë§Œ ì•Œë ¤ì£¼ë©´ ìë™ìœ¼ë¡œ í•´ê²°ëœë‹¤           í‘œì¤€            ìë°” ì§„ì˜ ORM ê¸°ìˆ  í‘œì¤€       í‘œì¤€ì„ ì‚¬ìš©í•˜ë©´ ë‹¤ë¥¸ êµ¬í˜„ ê¸°ìˆ ë¡œ ì†ì‰½ê²Œ ë³€ê²½ ê°€ëŠ¥                  1.4 ì •ë¦¬     SQLì„ ì§ì ‘ ë‹¤ë£° ë•Œ ë°œìƒí•˜ëŠ” ë‹¤ì–‘í•œ ë¬¸ì œ   ê°ì²´ì§€í–¥ ì–¸ì–´ì™€ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ì´ì˜ íŒ¨ëŸ¬ë‹¤ì„ ë¶ˆì¼ì¹˜ ë¬¸ì œ   JPAê°€ ê° ë¬¸ì œë¥¼ ì–´ë–»ê²Œ í•´ê²°í•˜ëŠ”ì§€   JPAê°€ ë¬´ì—‡ì¸ì§€   JPA ì¥ì           2. JPA ì‹œì‘  2.1 ì´í´ë¦½ìŠ¤ ì„¤ì¹˜ì™€ í”„ë¡œì íŠ¸ ë¶ˆëŸ¬ì˜¤ê¸°  2.2 H2 ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì¹˜  2.3 ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ í”„ë¡œì íŠ¸ êµ¬ì¡°  2.4 ê°ì²´ ë§¤í•‘ ì‹œì‘  // ê°ì²´ ë§¤í•‘ ì˜ˆ @Entity @Table(name=\"MEMBER\") public class Member {      @Id     @Column(name = \"ID\")     private String id;      @Column(name = \"NAME\")     private String username;      private Integer age;     ... }                  ì–´ë…¸í…Œì´ì…˜       ì„¤ëª…                       @Entity       ì´ í´ë˜ìŠ¤ë¥¼ í…Œì´ë¸”ê³¼ ë§¤í•‘í•œë‹¤ê³  JPAì—ê²Œ ì•Œë ¤ì¤€ë‹¤. @Entityê°€ ì‚¬ìš©ëœ í´ë˜ìŠ¤ë¥¼ ì—”í‹°í‹° í´ë˜ìŠ¤ë¼ í•œë‹¤.                 @Table       ì—”í‹°í‹° í´ë˜ìŠ¤ì— ë§¤í•‘í•  í…Œì´ë¸” ì •ë³´ë¥¼ ì•Œë ¤ì¤€ë‹¤. ì´ ì–´ë…¸í…Œì´ì…˜ì„ ìƒëµí•˜ë©´ í´ë˜ìŠ¤ ì´ë¦„ì„ í…Œì´ë¸” ì´ë¦„ìœ¼ë¡œ ë§¤í•‘í•œë‹¤. (ì •í™•íˆëŠ” ì—”í‹°í‹° ì´ë¦„ì„ ì‚¬ìš©í•¨)                 @Id       ì—”í‹°í‹° í´ë˜ìŠ¤ì˜ í•„ë“œë¥¼ í…Œì´ë¸” ê¸°ë³¸í‚¤(primary key)ì— ë§¤í•‘í•œë‹¤. @Idê°€ ì‚¬ìš©ëœ í•„ë“œë¥¼ ì‹ë³„ì í•„ë“œë¼ í•œë‹¤.                 @Column       í•„ë“œë¥¼ ì»¬ëŸ¼ì— ë§¤í•‘í•œë‹¤.                 ë§¤í•‘ ì •ë³´ê°€ ì—†ëŠ” í•„ë“œ       í•„ë“œëª…ì„ ì‚¬ìš©í•´ì„œ ì»¬ëŸ¼ëª…ìœ¼ë¡œ ë§¤í•‘í•œë‹¤. ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë¶„í•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ @Column(name=â€AGEâ€)ì²˜ëŸ¼ ëª…ì‹œì ìœ¼ë¡œ ë§¤í•‘í•´ì•¼ í•œë‹¤.                 2.5 ê°ì²´ ë§¤í•‘ ì‹œì‘  2.5.1 ë°ì´í„°ë² ì´ìŠ¤ ë°©ì–¸  ë°ì´í„°ë² ì´ìŠ¤ë§ˆë‹¤ SQL ë¬¸ë²•ê³¼ í•¨ìˆ˜ê°€ ì¡°ê¸ˆì”© ë‹¤ë¥´ë‹¤ëŠ” ë¬¸ì œì ì´ ìˆë‹¤.     ë°ì´í„° íƒ€ì…: ê°€ë³€ ë¬¸ì íƒ€ì…ìœ¼ë¡œ MySQLì€ VARCHAR, ì˜¤ë¼í´ì€ VARCHAR2 ì‚¬ìš©   ë‹¤ë¥¸ í•¨ìˆ˜ëª…: ë¬¸ìì—´ì„ ìë¥´ëŠ” í•¨ìˆ˜ë¡œ SQL í‘œì¤€ì€ SUBSTRING(), ì˜¤ë¼í´ì€ SUBSTR()   í˜ì´ì§• ì²˜ë¦¬: MySQLì€ LIMIT, ì˜¤ë¼í´ì€ ROWNUM   ë°ì´í„°ë² ì´ìŠ¤ë§Œì˜ ê³ ìœ í•œ ê¸°ëŠ¥ì„ JPAì—ì„œëŠ” ë°©ì–¸(Dialect)ì´ë¼ í•œë‹¤. í•˜ì´ë²„ë„¤ì´íŠ¸ë¥¼ í¬í•¨í•œ ëŒ€ë¶€ë¶„ì˜ JPA êµ¬í˜„ì²´ë“¤ì€ ìœ„ì™€ ê°™ì€ ë¬¸ì œì ì„ í•´ê²°í•˜ë ¤ê³  ë‹¤ì–‘í•œ ë°ì´í„°ë² ì´ìŠ¤ ë°©ì–¸ í´ë˜ìŠ¤ë¥¼ ì œê³µí•œë‹¤. ë°©ì–¸ë§Œ êµì²´í•˜ë©´ ë°ì´í„°ë² ì´ìŠ¤ì— ë§ëŠ” SQLì´ ì•Œì•„ì„œ ì‹¤í–‰ëœë‹¤.     &lt;!-- í•„ìˆ˜ ì†ì„± --&gt; &lt;property name=\"javax.persistence.jdbc.driver\" value=\"org.h2.Driver\"/&gt; &lt;property name=\"javax.persistence.jdbc.user\" value=\"sa\"/&gt; &lt;property name=\"javax.persistence.jdbc.password\" value=\"\"/&gt; &lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:h2:tcp://localhost/~/test\"/&gt; &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.H2Dialect\" /&gt; &lt;!-- ë°©ì–¸ ì„¤ì • --&gt;  &lt;!-- ì˜µì…˜ --&gt; &lt;property name=\"hibernate.show_sql\" value=\"true\" /&gt; &lt;!-- í•˜ì´ë²„ë„¤ì´íŠ¸ê°€ ì‹¤í–‰í•œ SQLì„ ì¶œë ¥í•œë‹¤ --&gt; &lt;property name=\"hibernate.format_sql\" value=\"true\" /&gt; &lt;!-- í•˜ì´ë²„ë„¤ì´íŠ¸ê°€ ì‹¤í–‰í•œ SQLì„ ë³´ê¸° ì‰½ê²Œ ì •ë ¬í•œë‹¤ --&gt; &lt;property name=\"hibernate.use_sql_comments\" value=\"true\" /&gt; &lt;!-- ì¿¼ë¦¬ë¥¼ ì¶œë ¥í•  ë•Œ ì£¼ì„ë„ í•¨ê»˜ ì¶œë ¥í•œë‹¤ --&gt; &lt;property name=\"hibernate.id.new_generator_mappings\" value=\"true\" /&gt; &lt;!-- JPA í‘œì¤€ì— ë§ì¶˜ ìƒˆë¡œìš´ í‚¤ ìƒì„± ì „ëµì„ ì‚¬ìš©í•œë‹¤. --&gt;          2.6 ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œ  ì‹œì‘ì½”ë“œë¥¼ ì‚´í´ë³´ì  public class JpaMain {      public static void main(String[] args) {          //ì—”í‹°í‹° ë§¤ë‹ˆì € íŒ©í† ë¦¬ ìƒì„±         EntityManagerFactory emf = Persistence.createEntityManagerFactory(\"jpabook\");         EntityManager em = emf.createEntityManager(); //ì—”í‹°í‹° ë§¤ë‹ˆì € ìƒì„±          EntityTransaction tx = em.getTransaction(); //íŠ¸ëœì­ì…˜ ê¸°ëŠ¥ íšë“          try {             tx.begin(); //íŠ¸ëœì­ì…˜ ì‹œì‘             logic(em);  //ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§             tx.commit();//íŠ¸ëœì­ì…˜ ì»¤ë°‹          } catch (Exception e) {             e.printStackTrace();             tx.rollback(); //íŠ¸ëœì­ì…˜ ë¡¤ë°±         } finally {             em.close(); //ì—”í‹°í‹° ë§¤ë‹ˆì € ì¢…ë£Œ         }          emf.close(); //ì—”í‹°í‹° ë§¤ë‹ˆì € íŒ©í† ë¦¬ ì¢…ë£Œ     }      // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§     public static void logic(EntityManager em) {...} }  ì½”ë“œëŠ” í¬ê²Œ 3ë¶€ë¶„ìœ¼ë¡œ ë‚˜ë‰˜ì–´ ìˆë‹¤     ì—”í‹°í‹° ë§¤ë‹ˆì € ìƒì„±   íŠ¸ëœì­ì…˜ ê´€ë¦¬   ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§        2.6.1 ì—”í‹°í‹° ë§¤ë‹ˆì € ì„¤ì •  ì—”í‹°í‹° ë§¤ë‹ˆì € íŒ©í† ë¦¬ ìƒì„±  JPAë¥¼ ì‹œì‘í•˜ë ¤ë©´ ìš°ì„  ì—”í‹°í‹° ë§¤ë‹ˆì € íŒ©í† ë¦¬ë¥¼ ìƒì„±í•´ì•¼ í•œë‹¤.  EntityManagerFactory emf = Persistence.createEntityManagerFactory(\"jpabook\");  ì—”í‹°í‹° ë§¤ë‹ˆì € íŒ©í† ë¦¬ëŠ” JPAë¥¼ ë™ì‘ì‹œí‚¤ê¸° ìœ„í•œ ê¸°ë°˜ ê°ì²´ë¥¼ ë§Œë“¤ê³  ë°ì´í„°ë² ì´ìŠ¤ ì»¤ë„¥ì…˜ í’€ë„ ìƒì„±í•˜ë¯€ë¡œ ìƒì„± ë¹„ìš©ì€ ì•„ì£¼ í¬ë‹¤. ë”°ë¼ì„œ ì—”í‹°í‹° ë§¤ë‹ˆì € íŒ©í† ë¦¬ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ì— ë”± í•œ ë²ˆë§Œ ìƒì„±í•˜ê³  ê³µìœ í•´ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.      ì—”í‹°í‹° ë§¤ë‹ˆì € ìƒì„±  EntityManager em = emf.createEntityManager();  JPAì˜ ê¸°ëŠ¥ ëŒ€ë¶€ë¶„ì€ ì—”í‹°í‹° ë§¤ë‹ˆì €ê°€ ì œê³µí•œë‹¤. ëŒ€í‘œì ìœ¼ë¡œ ì—”í‹°í‹°ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ë“±ë¡,ìˆ˜ì •,ì‚­ì œ,ì¡°íšŒí•  ìˆ˜ ìˆë‹¤. ì—”í‹°í‹° ë§¤ë‹ˆì €ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì»¤ë„¥ì…˜ê³¼ ë°€ì ‘í•œ ê´€ê³„ê°€ ìˆìœ¼ë¯€ë¡œ ìŠ¤ë ˆë“œê°„ì— ê³µìœ í•˜ê±°ë‚˜ ì¬ì‚¬ìš©í•˜ë©´ ì•ˆëœë‹¤.      ì¢…ë£Œ  ì‚¬ìš©ì´ ëë‚œ ì—”í‹°í‹° ë§¤ë‹ˆì €, ì—”í‹°í‹° ë§¤ë‹ˆì € íŒ©í† ë¦¬ëŠ” ë°˜ë“œì‹œ ì¢…ë£Œí•´ì•¼í•œë‹¤.  em.close(); // ì—”í‹°í‹° ë§¤ë‹ˆì € ì¢…ë£Œ emf.close() // ì—”í‹°í‹° ë§¤ë‹ˆì € íŒ©í† ë¦¬ ì¢…ë£Œ          2.6.2 íŠ¸ëœì­ì…˜ ê´€ë¦¬  JPAë¥¼ ì‚¬ìš©í•˜ë©´ í•­ìƒ íŠ¸ëœì­ì…˜ ì•ˆì—ì„œ ë°ì´í„°ë¥¼ ë³€ê²½í•´ì•¼ í•œë‹¤. íŠ¸ëœì­ì…˜ ì—†ì´ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ë©´ ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤.   EntityTransaction tx = em.getTransaction(); //íŠ¸ëœì­ì…˜ ê¸°ëŠ¥ íšë“ try {     tx.begin(); //íŠ¸ëœì­ì…˜ ì‹œì‘     logic(em);  //ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§     tx.commit();//íŠ¸ëœì­ì…˜ ì»¤ë°‹  } catch (Exception e) {     e.printStackTrace();     tx.rollback(); //íŠ¸ëœì­ì…˜ ë¡¤ë°± } finally {     em.close(); //ì—”í‹°í‹° ë§¤ë‹ˆì € ì¢…ë£Œ }  emf.close(); //ì—”í‹°í‹° ë§¤ë‹ˆì € íŒ©í† ë¦¬ ì¢…ë£Œ          2.6.3 ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§  JPAë¥¼ ì´ìš©í•œ ë“±ë¡, ìˆ˜ì •, ì¡°íšŒ, ì‚­ì œ ì˜ˆëŠ” ì•„ë˜ì™€ ê°™ë‹¤.  public static void logic(EntityManager em) {          String id = \"id1\";         Member member = new Member();         member.setId(id);         member.setUsername(\"ì§€í•œ\");         member.setAge(2);          //ë“±ë¡         // INSERT INTO MEMBER ...         em.persist(member);          //ìˆ˜ì •         // JPAëŠ” ì—”í‹°í‹° ë³€ê²½ ì¶”ì  ê¸°ëŠ¥ì´ ìˆì–´ ì—”í‹°í‹°ì˜ ê°’ë§Œ ë³€ê²½í•˜ë©´ ìˆ˜ì •ë¨         // UPDATE MEMBER SET AGE=20, NAME='ì§€í•œ' WHERE ID = 'id1';         member.setAge(20);          //í•œ ê±´ ì¡°íšŒ         // SELECT * FROM MEMBER WHERE ID = 'id1';         Member findMember = em.find(Member.class, id);         System.out.println(\"findMember=\" + findMember.getUsername() + \", age=\" + findMember.getAge());          //ëª©ë¡ ì¡°íšŒ         List&lt;Member&gt; members = em.createQuery(\"select m from Member m\", Member.class).getResultList();         System.out.println(\"members.size=\" + members.size());          //ì‚­ì œ         // DELETE FROM MEMBER WHERE ID = 'id1';         em.remove(member);     }          2.6.4 JPQL  JPAëŠ” SQLì„ ì¶”ìƒí™”í•œ JPQLì´ë¼ëŠ” ê°ì²´ ì§€í–¥ ì¿¼ë¦¬ ì–¸ì–´ë¥¼ ì œê³µí•œë‹¤.  //ëª©ë¡ ì¡°íšŒ List&lt;Member&gt; members = em.createQuery(\"select m from Member m\", Member.class).getResultList(); System.out.println(\"members.size=\" + members.size());   JPQLê³¼ SQLì˜ ê°€ì¥ í° ì°¨ì´ì      JPQLì€ ì—”í‹°í‹° ê°ì²´ë¥¼ ëŒ€ìƒìœ¼ë¡œ ì¿¼ë¦¬í•œë‹¤.   SQLì€ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì„ ëŒ€ìƒìœ¼ë¡œ ì¿¼ë¦¬í•œë‹¤.    JPQLì€ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì„ ì „í˜€ ì•Œì§€ ëª»í•œë‹¤.         2.7 ì •ë¦¬     JPAë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ê°œë°œ í™˜ê²½ ì„¤ì •   JPAë¥¼ ì‚¬ìš©   JPQL ì„¤ëª…            3. ì˜ì†ì„± ê´€ë¦¬  3.1 ì—”í‹°í‹° ë§¤ë‹ˆì € íŒ©í† ë¦¬ì™€ ì—”í‹°í‹° ë§¤ë‹ˆì €     ì—”í‹°í‹° ë§¤ë‹ˆì € íŒ©í† ë¦¬ë¥¼ ë§Œë“œëŠ” ë¹„ìš©ì€ ìƒë‹¹íˆ í¬ë‹¤.   ë”°ë¼ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ì—ì„œ ê³µìœ í•˜ë„ë¡ ì„¤ê³„ë˜ì–´ ìˆë‹¤. (ê·¸ë˜ì„œ ì¼ë°˜ì ìœ¼ë¡œ í•˜ë‚˜ë§Œ ìƒì„± í•œë‹¤)   ì—”í‹°í‹° ë§¤ë‹ˆì € íŒ©í† ë¦¬ëŠ” ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ë™ì‹œì— ì ‘ê·¼í•´ë„ ì•ˆì „í•˜ë‹¤.   ì—”í‹°í‹° ë§¤ë‹ˆì €ëŠ” ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ë™ì‹œì— ì ‘ê·¼í•˜ë©´ ë™ì‹œì„± ë¬¸ì œê°€ ë°œìƒí•œë‹¤.          3.2 ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë€?  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸(persistence context)ë€ í•´ì„í•˜ìë©´ ì—”í‹°í‹°ë¥¼ ì˜êµ¬ ì €ì¥í•˜ëŠ” í™˜ê²½ì´ë€ ëœ»ì´ë‹¤.   // ì´ ë©”ì†Œë“œëŠ” ì •í™•íˆ í‘œí˜„í•˜ìë©´ 'ì—”í‹°í‹° ë§¤ë‹ˆì €ë¥¼ ì‚¬ìš©í•´ì„œ íšŒì› ì—”í‹°í‹°ë¥¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥í•œë‹¤' ì´ë‹¤. em.persist(memeber);  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ”     ì—”í‹°í‹° ë§¤ë‹ˆì €ë¥¼ ìƒì„±í•  ë•Œ í•˜ë‚˜ ë§Œë“¤ì–´ì§„ë‹¤.   ì—”í‹°í‹° ë§¤ë‹ˆì €ë¥¼ í†µí•´ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.   ì—”í‹°í‹° ë§¤ë‹ˆì €ë¥¼ í†µí•´ ê´€ë¦¬ë°›ëŠ”ë‹¤.   ì—¬ëŸ¬ ì—”í‹°í‹° ë§¤ë‹ˆì €ê°€ ì ‘ê·¼í•  ìˆ˜ë„ ìˆë‹¤.          3.3 ì—”í‹°í‹°ì˜ ìƒëª…ì£¼ê¸°  ì—”í‹°í‹°ì—ëŠ” 4ê°€ì§€ ìƒíƒœê°€ ì¡´ì¬í•œë‹¤.     ë¹„ì˜ì†(new / transient): ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì™€ ì „í˜€ ê´€ê³„ê°€ ì—†ëŠ” ìƒíƒœ   ì˜ì†(managed): ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥ëœ ìƒíƒœ   ì¤€ì˜ì†(detached): ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥ë˜ì—ˆë‹¤ê°€ ë¶„ë¦¬ëœ ìƒíƒœ   ì‚­ì œ(removed): ì‚­ì œëœ ìƒíƒœ           3.4 ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ íŠ¹ì§•  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ íŠ¹ì§•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.      ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” ì—”í‹°í‹°ë¥¼ ì‹ë³„ìê°’(@Id)ìœ¼ë¡œ êµ¬ë¶„í•œë‹¤. ì˜ì† ìƒíƒœëŠ” ì‹ë³„ì ê°’ì´ ë°˜ë“œì‹œ ìˆì–´ì•¼ í•œë‹¤.   JPAëŠ” ë³´í†µ íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•˜ëŠ” ìˆœê°„ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ìƒˆë¡œ ì €ì¥ëœ ì—”í‹°í‹°ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ë°˜ì˜í•˜ëŠ”ë° ì´ê²ƒì„ í”ŒëŸ¬ì‹œ(flush)ë¼ í•œë‹¤.    ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ì—”í‹°í‹°ë¥¼ ê´€ë¦¬í•  ë•Œ ì¥ì      1ì°¨ ìºì‹œ   ë™ì¼ì„± ë³´ì¥   íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ëŠ” ì“°ê¸° ì§€ì—°   ë³€ê²½ ê°ì§€   ì§€ì—°ë¡œë”©         3.4.1 ì—”í‹°í‹° ì¡°íšŒ  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” ë‚´ë¶€ì— ìºì‹œë¥¼ ê°€ì§€ê³  ìˆëŠ”ë° ì´ê²ƒì„ 1ì°¨ ìºì‹œë¼ í•œë‹¤. ì˜ì† ìƒíƒœì˜ ì—”í‹°í‹°ëŠ” ëª¨ë‘ ì´ê³³ì— ì €ì¥ëœë‹¤.   1ì°¨ ìºì‹œì—ì„œ ì¡°íšŒ       1ì°¨ ìºì‹œì˜ í‚¤ëŠ” ì‹ë³„ì(@Id) ê°’.   ì‹ë³„ì ê°’ì€ ë°ì´í„°ë² ì´ìŠ¤ ê¸°ë³¸ í‚¤ì™€ ë§¤í•‘.   1ì°¨ ìºì‹œì—ì„œ ì—”í‹°í‹°ë¥¼ ì°¾ê³  ì—”í‹°í‹°ê°€ ì—†ìœ¼ë©´ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¡°íšŒí•œë‹¤.   // ë¹„ì˜ì† ìƒíƒœ Member member = new Member(); member.setId(\"member1\"); member.setUsername(\"íšŒì›1\");  // ì˜ì† ìƒíƒœ (1ì°¨ ìºì‹œì— ì €ì¥ë¨) em.persist(member);  // 1ì°¨ ìºì‹œì—ì„œ ì¡°íšŒ Member findMember = em.find(Member.class, \"member1\");        ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¡°íšŒ     ì¡°íšŒì‹œ ì—”í‹°í‹°ê°€ 1ì°¨ ìºì‹œì— ì—†ìœ¼ë©´ ì—”í‹°í‹° ë§¤ë‹ˆì €ëŠ” ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°íšŒí•´ì„œ ì—”í‹°í‹°ë¥¼ ìƒì„±.   1ì°¨ ìºì‹œì— ì €ì¥í•œ í›„ì— ì˜ì† ìƒíƒœì˜ ì—”í‹°í‹°ë¥¼ ë°˜í™˜í•œë‹¤.          ì˜ì† ì—”í‹°í‹°ì˜ ë™ì¼ì„± ë³´ì¥  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” ì„±ëŠ¥ìƒ ì´ì ê³¼ ì—”í‹°í‹°ì˜ ë™ì¼ì„±ì„ ë³´ì¥í•œë‹¤.  Member a = em.find(Member.class, \"member1\"); Member b = em.find(Member.class, \"member1\");  System.out.println(a == b);    ë™ì¼ì„±ê³¼ ë™ë“±ì„±     ë™ì¼ì„±(identity): ì‹¤ì œ ì¸ìŠ¤í„´ìŠ¤ê°€ ê°™ë‹¤. ë”°ë¼ì„œ ì°¸ì¡° ê°’ì„ ë¹„êµí•˜ëŠ” == ë¹„êµì˜ ê°’ì´ ê°™ë‹¤.   ë™ë“±ì„±(equality): ì‹¤ì œ ì¸ìŠ¤í„´ìŠ¤ëŠ” ë‹¤ë¥¼ ìˆ˜ ìˆì§€ë§Œ ì¸ìŠ¤í„´ìŠ¤ê°€ ê°€ì§€ê³  ìˆëŠ” ê°’ì´ ê°™ë‹¤.         3.4.2 ì—”í‹°í‹° ë“±ë¡  EntityManager em = emf.createEntityManager();  EntityTransaction tx = em.getTransaction(); // ì—”í‹°í‹° ë§¤ë‹ˆì €ëŠ” ë°ì´í„° ë³€ê²½ ì‹œ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•´ì•¼ í•œë‹¤. tx.begin(); //íŠ¸ëœì­ì…˜ ì‹œì‘  em.persist(memberA); em.persist(memberB); // ì—¬ê¸°ê¹Œì§€ INSERT SQLì„ ë°ì´í„°ë² ì´ìŠ¤ì— ë³´ë‚´ì§€ ì•ŠëŠ”ë‹¤.  // ì»¤ë°‹í•˜ëŠ” ìˆœê°„ ë°ì´í„°ë² ì´ìŠ¤ì— INSERT SQLì„ ë³´ë‚¸ë‹¤. tx.commit();     ì—”í‹°í‹° ë§¤ë‹ˆì €ëŠ” íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•˜ê¸° ì§ì „ê¹Œì§€ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ì§€ ì•Šê³  ë‚´ë¶€ ì¿¼ë¦¬ ì €ì¥ì†Œì— INSERT SQLì„ ëª¨ì•„ë‘”ë‹¤.   íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•  ë•Œ ëª¨ì•„ë‘” ì¿¼ë¦¬ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ë³´ë‚¸ë‹¤. ì´ë¥¼ íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ëŠ” ì“°ê¸° ì§€ì—°ì´ë¼ í•œë‹¤.              í”ŒëŸ¬ì‹œ     í”ŒëŸ¬ì‹œëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ë³€ê²½ ë‚´ìš©ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ë™ê¸°í™” í•˜ëŠ” ì‘ì—…   êµ¬ì²´ì ìœ¼ë¡œ ì´ì•¼ê¸°í•˜ë©´ ì“°ê¸° ì§€ì—° SQLì„ ë°ì´í„°ë² ì´ìŠ¤ì— ë³´ë‚´ëŠ” ì‘ì—…ì´ë‹¤.     íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ëŠ” ì“°ê¸° ì§€ì—°ì´ ê°€ëŠ¥í•œ ì´ìœ      ë“±ë¡ ì¿¼ë¦¬ë¥¼ ê·¸ë•Œ ê·¸ë•Œ ë°ì´í„°ë² ì´ìŠ¤ì— ì „ë‹¬í•´ë„ íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•˜ì§€ ì•Šìœ¼ë©´ ì•„ë¬´ ì†Œìš© ì—†ë‹¤.   ê²°êµ­ ë°ì´í„°ë² ì´ìŠ¤ì— SQLì„ ê·¸ë•Œ ê·¸ë•Œ ì „ë‹¬í•˜ë‚˜, ì»¤ë°‹ ì§ì „ì—ë§Œ ì „ë‹¬í•˜ë‚˜ ê²°ê³¼ëŠ” ê°™ë‹¤.         3.4.3 ì—”í‹°í‹° ìˆ˜ì •  SQL ìˆ˜ì • ì¿¼ë¦¬ì˜ ë¬¸ì œì      ìˆ˜ì • ì¿¼ë¦¬ê°€ ë§ì•„ì§„ë‹¤.   ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë¶„ì„í•˜ê¸° ìœ„í•´ SQLì„ ê³„ì† í™•ì¸í•´ì•¼í•œë‹¤.   ê²°êµ­ ì§ê°„ì ‘ì ìœ¼ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ SQLì— ì˜ì¡´í•œë‹¤.      JPAì˜ ìˆ˜ì •: ë³€ê²½ê°ì§€     JPAì—ì„œ ì—”í‹°í‹° ìˆ˜ì •ì€ ë‹¨ìˆœíˆ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•´ì„œ ë°ì´í„°ë§Œ ë³€ê²½í•˜ë©´ ëœë‹¤.   ì´ë ‡ê²Œ ì—”í‹°í‹°ì˜ ë³€ê²½ì‚¬í•­ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ìë™ìœ¼ë¡œ ë°˜ì˜í•˜ëŠ” ê¸°ëŠ¥ì„ ë³€ê²½ ê°ì§€ë¼ í•œë‹¤.   ë³€ê²½ ê°ì§€ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ê´€ë¦¬í•˜ëŠ” ì˜ì† ìƒíƒœì˜ ì—”í‹°í‹°ì—ë§Œ ì ìš©ëœë‹¤.   EntityManager em = emf.createEntityManager();  EntityTransaction tx = em.getTransaction();  // íŠ¸ëœì­ì…˜ ì‹œì‘ tx.begin();  // ì˜ì† ì—”í‹°í‹° ì¡°íšŒ Member memberA = em.find(Member.class, \"memberA\");  // ì˜ì† ì—”í‹°í‹° ë°ì´í„° ìˆ˜ì • memberA.setUserName(\"hi\"); memberA.setAge(10);  // íŠ¸ëœì­ì…˜ ì»¤ë°‹ tx.commit();           JPAì˜ ìˆ˜ì • ê¸°ë³¸ì „ëµì€ ì—”í‹°í‹°ì˜ ëª¨ë“  í•„ë“œë¥¼ ì—…ë°ì´íŠ¸ í•œë‹¤.   í•„ë“œê°€ ë„ˆë¬´ ë§ê±°ë‚˜ ì €ì¥ë˜ëŠ” ë‚´ìš©ì´ ë„ˆë¬´ í¬ë©´ ìˆ˜ì •ëœ ë°ì´í„°ë§Œ ì‚¬ìš©í•´ì„œ ë™ì ìœ¼ë¡œ UPDATE SQLì„ ìƒì„±í•˜ëŠ” ì „ëµì„ ì„ íƒí•  ìˆ˜ ìˆë‹¤.   @Entity @org.hibernate.annotations.DynamicUpdate public class Member{...}    ì°¸ê³   ìƒí™©ì— ë”°ë¼ ë‹¤ë¥´ê² ì§€ë§Œ ì»¬ëŸ¼ì´ ëŒ€ëµ 30ê°œ ì •ë„ê°€ ì•„ë‹ˆë¼ë©´ ê¸°ë³¸ ì „ëµì˜ ìˆ˜ì • ì¿¼ë¦¬ê°€ ë¹ ë¥´ë‹¤.  ì¶”ê°€ë¡œ INSERT SQLì„ ë™ì ìœ¼ë¡œ ìƒì„±í•˜ëŠ” @DynamicInsertë„ ìˆë‹¤.         3.4.4 ì—”í‹°í‹° ì‚­ì œ  // ì˜ì† ì—”í‹°í‹° ì¡°íšŒ Member memberA = em.find(Member.class, \"memberA\"); em.remove(memberA);     em.remove(); í˜¸ì¶œ   í˜¸ì¶œ ìˆœê°„ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì—”í‹°í‹° ì œê±°   ì“°ê¸° ì§€ì—° SQL ì €ì¥ì†Œì— ì‚­ì œ ì¿¼ë¦¬ ë“±ë¡   íŠ¸ëœì­ì…˜ ì»¤ë°‹ì‹œ í”ŒëŸ¬ì‹œ (ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ì— ì‚­ì œ ì¿¼ë¦¬ ì „ë‹¬)   ë°ì´í„°ë² ì´ìŠ¤ íŠ¸ëœì­ì…˜ ì»¤ë°‹        3.5 í”ŒëŸ¬ì‹œ  í”ŒëŸ¬ì‹œëŠ”(flush())ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ë³€ê²½ ë‚´ìš©ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ë°˜ì˜í•œë‹¤. ë™ì‘ ìˆœì„œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.     ë³€ê²½ ê°ì§€ê°€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ìˆëŠ” ëª¨ë“  ì—”í‹°í‹°ë¥¼ ìŠ¤ëƒ…ìƒ·ê³¼ ë¹„êµí•´ì„œ ìˆ˜ì •ëœ ì—”í‹°í‹°ë¥¼ ì°¾ëŠ”ë‹¤.   ìˆ˜ì •ëœ ì—”í‹°í‹°ëŠ” ìˆ˜ì • ì¿¼ë¦¬ë¥¼ ë§Œë“¤ì–´ ì“°ê¸° ì§€ì—° SQL ì €ì¥ì†Œì— ë“±ë¡í•œë‹¤.   ì“°ê¸° ì§€ì—° SQL ì €ì¥ì†Œì˜ ì¿¼ë¦¬ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì „ì†¡í•œë‹¤.(ë“±ë¡,ìˆ˜ì •,ì‚­ì œ ì¿¼ë¦¬)      ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ í”ŒëŸ¬ì‹œí•˜ëŠ” ë°©ë²• 3ê°€ì§€     ì§ì ‘ í˜¸ì¶œ (em.flush())   íŠ¸ëœì­ì…˜ ì»¤ë°‹   JPQL ì¿¼ë¦¬ ì‹¤í–‰            JPQLì€ SQLë¡œ ë³€í™˜ë˜ì–´ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì—”í‹°í‹° ì¡°íšŒ       ë§Œì•½ ì—”í‹°í‹°ê°€ ë°ì´í„°ë² ì´ìŠ¤ì— ì—†ìœ¼ë©´ ì¡°íšŒ ë¶ˆê°€       ë”°ë¼ì„œ í”ŒëŸ¬ì‹œë¥¼ í†µí•´ ë³€ê²½ ë‚´ìš©ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ë°˜ì˜í•´ì•¼ í•¨            ì°¸ê³   ì‹ë³„ìë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì¡°íšŒí•˜ëŠ” find() ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•  ë•ŒëŠ” í”ŒëŸ¬ì‹œê°€ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.         3.5.1 í”ŒëŸ¬ì‹œ ëª¨ë“œ ì˜µì…˜     FlushModeType.AUTO: ì»¤ë°‹ì´ë‚˜ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•  ë•Œ í”ŒëŸ¬ì‹œ(ê¸°ë³¸ê°’)   FlushModeType.COMMIT: ì»¤ë°‹í•  ë•Œë§Œ í”ŒëŸ¬ì‹œ   em.setFlushMode(FlushModeType.COMMIT); // í”ŒëŸ¬ì‹œ ëª¨ë“œ ì§ì ‘ ì„¤ì •          3.6 ì¤€ì˜ì†     ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ê´€ë¦¬í•˜ëŠ” ì˜ì† ìƒíƒœì˜ ì—”í‹°í‹°ê°€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ë¶„ë¦¬ëœ ê²ƒì„ ì¤€ì˜ì† ìƒíƒœë¼ í•œë‹¤.   ì¤€ì˜ì† ìƒíƒœì˜ ì—”í‹°í‹°ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.      ì˜ì† ìƒíƒœì˜ ì—”í‹°í‹°ë¥¼ ì¤€ì˜ì† ìƒíƒœë¡œ ë§Œë“œëŠ” ë°©ë²•     em.detach(entity): íŠ¹ì • ì—”í‹°í‹°ë§Œ ì¤€ì˜ì† ìƒíƒœë¡œ ì „í™˜   em.clear(): ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì™„ì „íˆ ì´ˆê¸°í™”   em.close(): ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì¢…ë£Œ        3.6.1 ì—”í‹°í‹°ë¥¼ ì¤€ì˜ì† ìƒíƒœë¡œ ì „í™˜: detach()  íŠ¹ì • ì—”í‹°í‹°ë§Œ ì¤€ì˜ì† ìƒíƒœë¡œ ì „í™˜        3.6.2 ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì´ˆê¸°í™”: clear()  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì´ˆê¸°í™”í•´ì„œ í•´ë‹¹ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ëª¨ë“  ì—”í‹°í‹°ë¥¼ ì¤€ì˜ì† ìƒíƒœë¡œ ë§Œë“¬        3.6.3 ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì¢…ë£Œ: close()  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì¢…ë£Œí•˜ë©´ í•´ë‹¹ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ê´€ë¦¬í•˜ë˜ ì˜ì† ìƒíƒœì˜ ì—”í‹°í‹°ê°€ ëª¨ë‘” ì¤€ì˜ì† ìƒíƒœê°€ ëœë‹¤.        3.6.4 ì¤€ì˜ì† ìƒíƒœì˜ íŠ¹ì§•     ê±°ì˜ ë¹„ì˜ì† ìƒíƒœì— ê°€ê¹ë‹¤.   ì‹ë³„ì ê°’ì„ ê°€ì§€ê³  ìˆë‹¤. (ì¤€ì˜ì† ìƒíƒœëŠ” ì´ë¯¸ í•œ ë²ˆ ì˜ì† ìƒíƒœì˜€ìœ¼ë¯€ë¡œ ì‹ë³„ì ê°’ì„ ê°€ì§€ê³  ìˆë‹¤)   ì§€ì—° ë¡œë”©ì„ í•  ìˆ˜ ì—†ë‹¤.        3.6.5 ë³‘í•©: merge()  ì¤€ì˜ì† ìƒíƒœì˜ ì—”í‹°í‹°ë¥¼ ë‹¤ì‹œ ì˜ì† ìƒíƒœë¡œ ë³€ê²½í•˜ë ¤ë©´ ë³‘í•©ì„ ì‚¬ìš©í•œë‹¤. merge() ë©”ì†Œë“œëŠ” ì¤€ì˜ì† ìƒíƒœì˜ ì—”í‹°í‹°ë¥¼ ë°›ì•„ì„œ ê·¸ ì •ë³´ë¡œ ìƒˆë¡œìš´ ì˜ì† ìƒíƒœì˜ ì—”í‹°í‹°ë¥¼ ë°˜í™˜í•œë‹¤.   Member mergeMember = em.merge(member);      ì¤€ì˜ì† ë³‘í•©  ì¤€ì˜ì† ìƒíƒœì¸ memberì—”í‹°í‹°ì™€ ì˜ì† ìƒíƒœì¸ mergeMember ì—”í‹°í‹°ëŠ” ì„œë¡œ ë‹¤ë¥¸ ì¸ìŠ¤í„´ìŠ¤ë‹¤. ë”°ë¼ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì°¸ì¡°í•˜ë„ë¡ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•ˆì „í•˜ë‹¤.  // Member mergeMember = em.merge(member); // ì´ ì½”ë“œëŠ” ìœ„í—˜ member = em2.merge(member); // ì´ë ‡ê²Œ ì‚¬ìš©      ë¹„ì˜ì† ë³‘í•©  ë³‘í•©ì€ ë¹„ì˜ì† ì—”í‹°í‹°ë„ ì˜ì† ìƒíƒœë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.  Member member = new Member(); Mmeber newMember = em.merge(member); // ë¹„ì˜ì† ë³‘í•© tx.commit();      ë³‘í•© ë™ì‘ ìˆœì„œ     íŒŒë¼ë¯¸í„°ë¡œ ë„˜ì–´ì˜¨ ì—”í‹°í‹°ì˜ ì‹ë³„ì ê°’ìœ¼ë¡œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì¡°íšŒ   ì°¾ëŠ” ì—”í‹°í‹°ê°€ ì—†ìœ¼ë©´ ë°ì´í„°ë² ì´ìŠ¤ ì¡°íšŒ   ë°ì´í„°ë² ì´ìŠ¤ì—ì„œë„ ì—†ìœ¼ë©´ ì—”í‹°í‹° ìƒì„±í•´ì„œ ë³‘í•©        3.7 ì •ë¦¬     ì—”í‹°í‹° ë§¤ë‹ˆì €ëŠ” ì•¤í‹°í‹° ë§¤ë‹ˆì € íŒ©í† ë¦¬ì—ì„œ ìƒì„±í•œë‹¤.   ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” ì—”í‹°í‹° ë§¤ë‹ˆì €ë¥¼ í†µí•´ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.   ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ì´ì—ì„œ ê°ì²´ë¥¼ ë³´ê´€í•˜ëŠ” ê°€ìƒì˜ ë°ì´í„°ë² ì´ìŠ¤ ê°™ì€ ì—­í• ì„ í•œë‹¤.   ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ë•ë¶„ì— 1ì°¨ ìºì‹œ, ë™ì¼ì„± ë³´ì¥, íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ëŠ” ì“°ê¸°ì§€ì—°, ë³€ê²½ ê°ì§€, ì§€ì—° ë¡œë”© ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.   ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥í•œ ì—”í‹°í‹°ëŠ” í”ŒëŸ¬ì‹œ ì‹œì ì— ë°ì´í„°ë² ì´ìŠ¤ì— ë°˜ì˜ëœë‹¤.   í”ŒëŸ¬ì‹œëŠ” ì¼ë°˜ì ìœ¼ë¡œ íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•  ë•Œ ë™ì‘í•œë‹¤.   ì˜ì† ìƒíƒœ: ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ê´€ë¦¬í•˜ëŠ” ì—”í‹°í‹°   ì¤€ì˜ì† ìƒíƒœ: ì˜ì† ìƒíƒœì˜ ì—”í‹°í‹°ê°€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ë¶„ë¦¬ëœ ê²ƒì„ ì¤€ì˜ì† ìƒíƒœ             4. ì—”í‹°í‹° ë§¤í•‘     ê°ì²´ì™€ í…Œì´ë¸” ë§¤í•‘: @Entity, @Table   ê¸°ë³¸ í‚¤ ë§¤í•‘: @Id   í•„ë“œì™€ ì»¬ëŸ¼ ë§¤í•‘: @Column   ì—°ê´€ê´€ê³„ ë§¤í•‘: @ManyToOne, @JoinColumn       4.1 @Entity  JPAë¥¼ ì‚¬ìš©í•´ì„œ í…Œì´ë¸”ê³¼ ë§¤í•‘í•  í´ë˜ìŠ¤                  ì†ì„±       ê¸°ëŠ¥       ê¸°ë³¸ê°’                       name       JPAì—ì„œ ì‚¬ìš©í•  ì—”í‹°í‹° ì´ë¦„ì„ ì§€ì •í•œë‹¤. ê¸°ë³¸ê°’ì€ í´ë˜ìŠ¤ ì´ë¦„ì´ë‹¤. ë§Œì•½ ë‹¤ë¥¸ íŒ¨í‚¤ì§€ì— ì´ë¦„ì´ ê°™ì€ ì—”í‹°í‹° í´ë˜ìŠ¤ê°€ ìˆë‹¤ë©´ ì¶œëŒí•œë‹¤.       í´ë˜ìŠ¤ì´ë¦„ (ì˜ˆ: Member)            ì£¼ì˜ì‚¬í•­     ê¸°ë³¸ ìƒì„±ìëŠ” í•„ìˆ˜ (public ë˜ëŠ” protected)   final, enum, interface, inner í´ë˜ìŠ¤ì—ëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.   ì €ì¥í•  í•„ë“œì— finalì„ ì‚¬ìš©í•˜ë©´ ì•ˆëœë‹¤.         4.2 @Table  ì—”í‹°í‹°ì™€ ë§¤í•‘í•  í…Œì´ë¸”ì„ ì§€ì •. ìƒëµí•˜ë©´ ë§¤í•‘í•œ ì—”í‹°í‹° ì´ë¦„ì„ í…Œì´ë¸” ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.                  ì†ì„±       ê¸°ëŠ¥       ê¸°ë³¸ê°’                       name       ë§¤í•‘í•  í…Œì´ë¸” ì´ë¦„       ì—”í‹°í‹° ì´ë¦„ì„ ì‚¬ìš©í•œë‹¤.                 catalog       catalog ê¸°ëŠ¥ì´ ìˆëŠ” ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ catalogë¥¼ ë§¤í•‘í•œë‹¤.       Â                  schema       schema ê¸°ëŠ¥ì´ ìˆëŠ” ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ schemaë¥¼ ë§¤í•‘í•œë‹¤.       Â                  uniqueConstraints       DDL ìƒì„± ì‹œ ìœ ë‹ˆí¬ ì œì•½ì¡°ê±´ì„ ë§Œë“ ë‹¤. 2ê°œ ì´ìƒì˜ ë³µí•© ìœ ë‹ˆí¬ ì œì•½ì¡°ê±´ë„ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ì´ ê¸°ëŠ¥ì€ ìŠ¤í‚¤ë§ˆ ìë™ ìƒì„± ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ì„œ DDLì„ ë§Œë“¤ ë•Œë§Œ ì‚¬ìš©ëœë‹¤.       Â                  4.3 ë‹¤ì–‘í•œ ë§¤í•‘ ì‚¬ìš©   @Entity @Table(name=\"MEMBER\",     uniqueConstraints = {@UniqueConstraint(         name = \"NAME_AGE_UNIQUE\",         columnNames = {\"NAME\", \"AGE\"}      )} ) public class Member {     ...ìƒëµ...      // enumì„ ì‚¬ìš©í•˜ë ¤ë©´ @Enumerated ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ë§¤í•‘     @Enumerated(EnumType.STRING)     private RoleType roleType;      // ìë°”ì˜ ë‚ ì§œ íƒ€ì…ì€ @Temporal ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ë§¤í•‘     @Temporal(TemporalType.TIMESTAMP)     private Date createdDate;      // CLOB, BLOBíƒ€ì…ì€ @Lob ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ë§¤í•‘     @Lob     private String description;      ...ìƒëµ... }        4.4 ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ìë™ ìƒì„±  JPAëŠ” ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤.   &lt;!-- ìŠ¤í‚¤ë§ˆ ìë™ ìƒì„± --&gt; &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"create\" /&gt;  &lt;!-- ì½˜ì†”ì— í…Œì´ë¸” ìƒì„± DDL ì¶œë ¥ --&gt; &lt;property name=\"hibernate.show_sql\" value=\"true\" /&gt;      hibernate.hbm2ddl.auto ì†ì„±                  ì˜µì…˜       ì„¤ëª…                       create       ê¸°ì¡´ í…Œì´ë¸”ì„ ì‚­ì œí•˜ê³  ìƒˆë¡œ ìƒì„±í•œë‹¤. DROP + CREATE                 create-drop       create ì†ì„±ì— ì¶”ê°€ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì¢…ë£Œí•  ë•Œ ìƒì„±í•œ DDLì„ ì œê±°í•œë‹¤. DROP + CREATE + DROP                 update       ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ê³¼ ì—”í‹°í‹° ë§¤í•‘ì •ë³´ë¥¼ ë¹„êµí•´ì„œ ë³€ê²½ ì‚¬í•­ë§Œ ìˆ˜ì •í•œë‹¤.                 validate       ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ê³¼ ì—”í‹°í‹° ë§¤í•‘ì •ë³´ë¥¼ ë¹„êµí•´ì„œ ì°¨ì´ê°€ ìˆìœ¼ë©´ ê²½ê³ ë¥¼ ë‚¨ê¸°ê³  ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ì§€ ì•ŠëŠ”ë‹¤.                 none       ìë™ ìƒì„± ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë ¤ë©´ hibernate.hbm2ddl.auto ì†ì„± ìì²´ë¥¼ ì‚­ì œí•˜ê±°ë‚˜ ìœ íš¨í•˜ì§€ ì•Šì€ ì˜µì…˜ ê°’ì„ ì£¼ë©´ ëœë‹¤.            hibernate.hbm2ddl.auto ì£¼ì˜ì‚¬í•­  ìš´ì˜ ì„œë²„ì—ì„œëŠ” DDLì„ ìˆ˜ì •í•˜ëŠ” ì˜µì…˜ì€ ì ˆëŒ€ ì‚¬ìš©í•˜ë©´ ì•ˆëœë‹¤.     ê°œë°œ ì´ˆê¸° ë‹¨ê³„: create, update   ì´ˆê¸°í™” ìƒíƒœë¡œ í…ŒìŠ¤íŠ¸, CIì„œë²„: create, create-drop   í…ŒìŠ¤íŠ¸ ì„œë²„: update, validate   ìŠ¤í…Œì´ì§•, ìš´ì˜ ì„œë²„: validate, none         ê¸°ë³¸ ì´ë¦„ ë§¤í•‘ ì „ëµ ë³€ê²½í•˜ê¸°  í…Œì´ë¸” ëª…ì´ë‚˜ ì»¬ëŸ¼ ëª…ì´ ìƒëµë˜ë©´ ìë°”ì˜ ì¹´ë©œ í‘œê¸°ë²•ì„ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì˜ ì–¸ë”ìŠ¤ì½”ì–´ í‘œê¸°ë²•ìœ¼ë¡œ ë§¤í•‘í•œë‹¤.   &lt;property name=\"hibernate.ejb.naming_strategy\" value=\"org.hibernate.cfg.ImprovedNamingStrategy\" /&gt;          4.5 DDL ìƒì„± ê¸°ëŠ¥  ì œì•½ ì¡°ê±´ ì¶”ê°€  ìŠ¤í‚¤ë§ˆ ìë™ ìƒì„±í•˜ê¸°ë¥¼ í†µí•´ DDLì— ì œì•½ì¡°ê±´ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. ë‹¤ë§Œ DDLì„ ìë™ ìƒì„±í•  ë•Œë§Œ ì‚¬ìš©ë˜ê³  JPAì˜ ì‹¤í–‰ ë¡œì§ì—ëŠ” ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ”ë‹¤.   @Entity @Table(name=\"MEMBER\",      /**       *  ìœ ë‹ˆí¬ ì œì•½ì¡°ê±´ ì¶”ê°€      *  ALET TABLE MEMBER      *      ADD CONSTRAINT NAME_AGE_UNIQUE UNIQUE (NAME, AGE)      */     uniqueConstraints = {@UniqueConstraint(         name = \"NAME_AGE_UNIQUE\",         columnNames = {\"NAME\", \"AGE\"}      )} ) public class Member {     ...ìƒëµ...      // ì»¬ëŸ¼ëª… NAME, not null, ë¬¸ìí¬ê¸° 10     @Column(name = \"NAME\", nullable = false, length = 10)     private String username;      ...ìƒëµ... }        4.6 DDL ìƒì„± ê¸°ëŠ¥  JPAê°€ ì œê³µí•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ê¸°ë³¸ í‚¤ ìƒì„± ì „ëµì€ ë‹¤ìŒê³¼ ê°™ë‹¤.     ì§ì ‘ í• ë‹¹: ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì§ì ‘ í• ë‹¹   ìë™ ìƒì„±: ëŒ€ë¦¬ í‚¤ ì‚¬ìš© ë°©ì‹            IDENTITY: ê¸°ë³¸ í‚¤ ìƒì„±ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ìœ„ì„       SEQUENCE: ë°ì´í„°ë² ì´ìŠ¤ ì‹œí€€ìŠ¤ë¥¼ ì‚¬ìš©       TABLE: í‚¤ ìƒì„± í…Œì´ë¸”ì„ ì‚¬ìš©           ìë™ ìƒì„± ì „ëµì´ ë‹¤ì–‘í•œ ì´ìœ ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ë²¤ë”ë§ˆë‹¤ ì§€ì›í•˜ëŠ” ë°©ì‹ì´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì´ë‹¤. í‚¤ ìƒì„± ì „ëµì„ ì‚¬ìš©í•˜ë ¤ë©´ ë‹¤ìŒ ì†ì„±ì„ ì¶”ê°€í•œë‹¤.  &lt;property name=\"hibernate.id.new_generator_mappings\" value=\"true\" /&gt;        4.6.1 ê¸°ë³¸ í‚¤ ì§ì ‘ í• ë‹¹ ì „ëµ  @Id @Column(name = \"ID\") private String id;  Board board = new Board(); board.setId(\"id\"); // ê¸°ë³¸ í‚¤ ì§ì ‘ í• ë‹¹ em.persist(board);        4.6.2 IDENTITY ì „ëµ     IDENTITYëŠ” ê¸°ë³¸ í‚¤ ìƒì„±ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ìœ„ì„í•˜ëŠ” ì „ëµì´ë‹¤.   IDENTITY ì‹ë³„ì ìƒì„± ì „ëµì€ ì—”í‹°í‹°ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•´ì•¼ ì‹ë³„ìë¥¼ êµ¬í•  ìˆ˜ ìˆë‹¤.   em.persist()ë¥¼ í˜¸ì¶œí•˜ëŠ” ì¦‰ì‹œ INSERT SQLì´ ë°ì´í„°ë² ì´ìŠ¤ì— ì „ë‹¬ëœë‹¤.   ë”°ë¼ì„œ íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ëŠ” ì“°ê¸° ì§€ì—°ì´ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.   @Id @GeneratedValue(strategy = GenerationType.IDENTITY) private Long id;  Board board = new Board(); em.persist(board); board.getId(); // 1    ì°¸ê³   IDENTITY ì „ëµì€ ë°ì´í„°ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— INSERTí•œ í›„ì— ê¸°ë³¸ í‚¤ê°’ì„ ì¡°íšŒí•  ìˆ˜ìˆë‹¤. ë”°ë¼ì„œ ì—”í‹°í‹°ì— ì‹ë³„ì ê°’ì„ í• ë‹¹í•˜ë ¤ë©´ JPAëŠ” ì¶”ê°€ë¡œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°íšŒí•´ì•¼ í•œë‹¤. í•˜ì§€ë§Œ í•˜ì´ë²„ë„¤ì´íŠ¸ëŠ” JDBC3ì— ì¶”ê°€ëœ Statement.getGeneratedKeys() ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•´ì„œ ë°ì´í„°ë² ì´ìŠ¤ì™€ í•œë²ˆë§Œ í†µì‹ í•œë‹¤.         4.6.3 SEQUENCE ì „ëµ  SEQUENCE ì „ëµì€ ë°ì´í„°ë² ì´ìŠ¤ ì‹œí€€ìŠ¤ë¥¼ ì´ìš©í•´ ê¸°ë³¸ í‚¤ë¥¼ ìƒì„±í•œë‹¤.   -- ë°ì´í„°ë² ì´ìŠ¤ ì‹œí€€ìŠ¤ ìƒì„± CREATE SEQUENCE BOARD_SEQ START WITH 1 INCREMENT BY 1;  @Entity @SequenceGenerator(     name = \"BOARD_SEQ_GENERATOR\",     sequenceName = \"BOARD_SEQ\", // ë§¤í•‘í•  ë°ì´í„°ë² ì´ìŠ¤ ì‹œí€€ìŠ¤ ì´ë¦„     initialValue = 1,     allocationsSize = 1 ) public class BOARD {      @Id     @GeneratedValue(         strategy = GenerationType.SEQUENCE,         generator = \"BOARD_SEQ_GENERATOR\"     )     private Long id; }      @SequenceGenerator                  ì†ì„±       ê¸°ëŠ¥       ê¸°ë³¸ê°’                       name       ì‹ë³„ì ìƒì„±ê¸° ì´ë¦„       í•„ìˆ˜                 sequenceName       ë°ì´í„°ë² ì´ìŠ¤ì— ë“±ë¡ë˜ì–´ ìˆëŠ” ì‹œí€€ìŠ¤ ì´ë¦„       hibernate_sequence                 initialValue       DDL ìƒì„± ì‹œì—ë§Œ ì‚¬ìš©ë¨. ì‹œí€€ìŠ¤ DDLì„ ìƒì„±í•  ë•Œ ì²˜ìŒ ì‹œì‘í•˜ëŠ” ìˆ˜ë¥¼ ì§€ì •í•œë‹¤.       1                 allocationsSize       ì‹œí€€ìŠ¤ í•œ ë²ˆ í˜¸ì¶œì— ì¦ê°€í•˜ëŠ” ìˆ˜ (ì„±ëŠ¥ ìµœì í™”ì— ì‚¬ìš©ë¨)       50                 catalog, schema       ë°ì´í„°ë² ì´ìŠ¤ catalog, schema ì´ë¦„       Â                SEQUENCE ì „ëµê³¼ ìµœì í™”  SEQUENCE ì „ëµì€ ë°ì´í„°ë² ì´ìŠ¤ì™€ 2ë²ˆ í†µì‹ í•œë‹¤.     ì‹ë³„ì êµ¬í•˜ê¸° (SELECT BOARD_SEQ.NEXTVAL FROM DUAL)   ì¡°íšŒí•œ ì‹œí€€ìŠ¤ë¥¼ ê¸°ë³¸ í‚¤ ê°’ìœ¼ë¡œ ì‚¬ìš©í•´ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ (INSERT INTO BOARD â€¦)   JPAëŠ” ì‹œí€€ìŠ¤ ì ‘ê·¼í•˜ëŠ” íšŸìˆ˜ë¥¼ ì¤„ì´ê¸° ìœ„í•´ @SequenceGenerator.allocationsSizeë¥¼ ì‚¬ìš©í•œë‹¤. ì—¬ê¸°ì— ì„¤ì •í•œ ê°’ë§Œí¼ í•œ ë²ˆì— ì‹œí€€ìŠ¤ ê°’ì„ ì¦ê°€ì‹œí‚¤ê³ , ê·¸ë§Œí¼ ë©”ëª¨ë¦¬ì— ì‹œí€€ìŠ¤ ê°’ì„ í• ë‹¹í•œë‹¤. ì´ ë°©ë²•ì€ ì‹œí€€ìŠ¤ ê°’ì„ ì„ ì í•˜ë¯€ë¡œ ì—¬ëŸ¬ JVMì´ ë™ì‹œì— ë™ì‘í•´ë„ ê¸°ë³¸ í‚¤ ê°’ì´ ì¶©ëŒí•˜ì§€ ì•ŠëŠ”ë‹¤. ë°˜ë©´ì— ì‹œí€€ìŠ¤ ê°’ì„ í•œ ë²ˆì— ë§ì´ ì¦ê°€ì‹œí‚¨ë‹¤. ì´ëŸ° ìƒí™©ì´ ë¶€ë‹´ìŠ¤ëŸ½ê³  INSERT ì„±ëŠ¥ì´ ì¤‘ìš”í•˜ì§€ ì•Šìœ¼ë©´ allocationsSizeê°’ì„ 1ë¡œ ì„¤ì •í•œë‹¤.        4.6.4 TABLE ì „ëµ  TABLE ì „ëµì€ í‚¤ ìƒì„± ì „ìš© í…Œì´ë¸”ì„ í•˜ë‚˜ ë§Œë“¤ê³  ì—¬ê¸°ì— ì´ë¦„ê³¼ ê°’ìœ¼ë¡œ ì‚¬ìš©í•  ì»¬ëŸ¼ì„ ë§Œë“¤ì–´ ë°ì´í„°ë² ì´ìŠ¤ ì‹œí€€ìŠ¤ë¥¼ í‰ë‚´ë‚´ëŠ” ì „ëµì´ë‹¤.   -- ë°ì´í„°ë² ì´ìŠ¤ í‚¤ ìƒì„± ìš©ë„ í…Œì´ë¸” ìƒì„± create table MY_SEQUENCES (     sequence_name varchar(255) not null,     next_val bigint,     primary key (sequence_name) )  @Entity @TableGenerator(     name = \"BOARD_SEQ_GENERATOR\",     table = \"MY_SEQUENCES\",     pkColumnValue = \"BOARD_SEQ\",     allocationsSize = 1 ) public class BOARD {      @Id     @GeneratedValue(         strategy = GenerationType.TABLE,         generator = \"BOARD_SEQ_GENERATOR\"     )     private Long id; }       @TableGenerator                  ì†ì„±       ê¸°ëŠ¥       ê¸°ë³¸ê°’                       name       ì‹ë³„ì ìƒì„±ê¸° ì´ë¦„       í•„ìˆ˜                 table       í‚¤ìƒì„± í…Œì´ë¸”ëª…       hibernate_sequences                 pkColumnName       ì‹œí€€ìŠ¤ ì»¬ëŸ¼ëª…       sequence_name                 valueColumnName       ì‹œí€€ìŠ¤ ê°’ ì»¬ëŸ¼ëª…       next_val                 pkColumnValue       í‚¤ë¡œ ì‚¬ìš©í•  ê°’ ì´ë¦„       ì—”í‹°í‹° ì´ë¦„                 initialValue       ì´ˆê¸° ê°’, ë§ˆì§€ë§‰ìœ¼ë¡œ ìƒì„±ëœ ê°’ì´ ê¸°ì¤€ì´ë‹¤.       0                 allocationsSize       ì‹œí€€ìŠ¤ í•œ ë²ˆ í˜¸ì¶œì— ì¦ê°€í•˜ëŠ” ìˆ˜ (ì„±ëŠ¥ ìµœì í™”ì— ì‚¬ìš©ë¨)       50                 catalog, schema       ë°ì´í„°ë² ì´ìŠ¤ catalog, schema ì´ë¦„       Â                  uniqueConstraints(DDL)       ìœ ë‹ˆí¬ ì œì•½ ì¡°ê±´ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.       Â                TABLE ì „ëµê³¼ ìµœì í™”  TABLE ì „ëµì€ ê°’ì„ ì¡°íšŒí•˜ë©´ì„œ SELECT ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ê³ , ë‹¤ìŒ ê°’ìœ¼ë¡œ ì¦ê°€ì‹œí‚¤ê¸° ìœ„í•´ UPDATE ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•œë‹¤. SEQUENCE ì „ëµê³¼ ë¹„êµí•´ì„œ ë°ì´í„°ë² ì´ìŠ¤ì™€ í•œ ë²ˆ ë” í†µì‹ í•˜ëŠ” ë‹¨ì ì´ ìˆë‹¤.        4.6.5 AUTO ì „ëµ  ë°ì´í„°ë² ì´ìŠ¤ì˜ ë°©ì–¸ì— ë”°ë¼ IDENTITY, SEQUENCE, TABLE ì „ëµ ì¤‘ í•˜ë‚˜ë¥¼ ìë™ìœ¼ë¡œ ì„ íƒí•œë‹¤. @GeneratedValue.strategyì˜ ê¸°ë³¸ê°’ì€ AUTOë‹¤.   @Id @GeneratedValue private Long id;       4.6.6 ê¸°ë³¸ í‚¤ ë§¤í•‘ ì •ë¦¬     ì§ì ‘ í• ë‹¹: ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì§ì ‘ ì‹ë³„ì ê°’ì„ í• ë‹¹   SEQUENCE: ë°ì´í„°ë² ì´ìŠ¤ ì‹œí€€ìŠ¤ì—ì„œ ì‹ë³„ì ê°’ì„ íšë“ í›„ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥   TABLE: ë°ì´í„°ë² ì´ìŠ¤ ì‹œí€€ìŠ¤ ìƒì„±ìš© í…Œì´ë¸”ì—ì„œ ì‹ë³„ì ê°’ì„ íšë“± í›„ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥   IDENTITY: ë°ì´í„°ë² ì´ìŠ¤ì— ì—”í‹°í‹°ë¥¼ ì €ì¥í•´ì„œ ì‹ë³„ì ê°’ì„ íšë“í•œ í›„ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥      ì‹ë³„ì ì„ íƒ ì „ëµ  í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ë¥¼ ì„ íƒí•˜ëŠ” ì „ëµì€ í¬ê²Œ 2ê°€ì§€ê°€ ìˆë‹¤.     ìì—° í‚¤(natural key)            ë¹„ì¦ˆë‹ˆìŠ¤ì— ì˜ë¯¸ê°€ ìˆëŠ” í‚¤       ì˜ˆ) ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸, ì´ë©”ì¼, ì „í™”ë²ˆí˜¸           ëŒ€ë¦¬ í‚¤(surrogate key)            ë¹„ì¦ˆë‹ˆìŠ¤ì™€ ê´€ë ¨ì´ ì—†ëŠ” ì„ì˜ë¡œ ë§Œë“¤ì–´ì§„ í‚¤, ëŒ€ì²´ í‚¤ë¡œë„ ë¶ˆë¦°ë‹¤       ì˜ˆ) ì˜¤ë¼í´ ì‹œí€€ìŠ¤, auto_increment, í‚¤ ìƒì„± í…Œì´ë¸” ì‚¬ìš©            ê¶Œì¥í•˜ëŠ” ì‹ë³„ì ì„ íƒ ì „ëµ  ìì—° í‚¤ë³´ë‹¤ëŠ” ëŒ€ë¦¬ í‚¤ë¥¼ ê¶Œì¥í•œë‹¤.     ìì—° í‚¤ëŠ” ë³€ê²½ë  ìˆ˜ ìˆë‹¤.   ë¹„ì¦ˆë‹ˆìŠ¤ í™˜ê²½ì€ ì–¸ì  ê°€ ë³€í•œë‹¤.   í…Œì´ë¸”ì€ í•œ ë²ˆ ì •ì˜í•˜ë©´ ë³€ê²½í•˜ê¸° ì–´ë µë‹¤.           4.7 í•„ë“œì™€ ì»¬ëŸ¼ ë§¤í•‘: ë ˆí¼ëŸ°ìŠ¤                             ë¶„ë¥˜             ë§¤í•‘ ì–´ë…¸í…Œì´ì…˜             ì„¤ëª…                                         í•„ë“œì™€ ì»¬ëŸ¼ ë§¤í•‘             @Column             ì»¬ëŸ¼ì„ ë§¤í•‘í•œë‹¤.                               @Enumerated             ìë°”ì˜ enum íƒ€ì…ì„ ë§¤í•‘í•œë‹¤.                               @Temporal             ë‚ ì§œ íƒ€ì…ì„ ë§¤í•‘í•œë‹¤.                               @Lob             BLOB, CLOB íƒ€ì…ì„ ë§¤í•‘í•œë‹¤.                               @Transient             íŠ¹ì • í•„ë“œë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ë§¤í•‘í•˜ì§€ ì•ŠëŠ”ë‹¤.                               ê¸°íƒ€             @Access             JPAê°€ ì—”í‹°í‹°ì— ì ‘ê·¼í•˜ëŠ” ë°©ì‹ì„ ì§€ì •í•œë‹¤.                      4.7.1 @Column  @Columnì€ ê°ì²´ í•„ë“œë¥¼ í…Œì´ë¸” ì»¬ëŸ¼ì— ë§¤í•‘í•œë‹¤.                  ì†ì„±       ê¸°ëŠ¥       ê¸°ë³¸ê°’                       name       í•„ë“œì™€ ë§¤í•‘í•  í…Œì´ë¸”ì˜ ì»¬ëŸ¼ ì´ë¦„       ê°ì²´ì˜ í•„ë“œ ì´ë¦„                 insertable (ê±°ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ)       ì—”í‹°í‹° ì €ì¥ ì‹œ ì´ í•„ë“œë„ ê°™ì´ ì €ì¥í•œë‹¤. falseë¡œ ì„¤ì •í•˜ë©´ ì´ í•„ë“œëŠ” ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤.       true                 updatable (ê±°ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ)       ì—”í‹°í‹° ìˆ˜ì • ì‹œ ì´ í•„ë“œë„ ê°™ì´ ìˆ˜ì •í•œë‹¤. falseë¡œ ì„¤ì •í•˜ë©´ ì´ í•„ë“œëŠ” ë°ì´í„°ë² ì´ìŠ¤ì— ìˆ˜ì •í•˜ì§€ ì•ŠëŠ”ë‹¤.       true                 table (ê±°ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ)       í•˜ë‚˜ì˜ ì—”í‹°í‹°ë¥¼ ë‘ ê°œ ì´ìƒì˜ í…Œì´ë¸”ì— ë§¤í•‘í•  ë•Œ ì‚¬ìš©í•œë‹¤. ì§€ì •í•œ í•„ë“œë¥¼ ë‹¤ë¥¸ í…Œì´ë¸”ì— ë§¤í•‘í•  ìˆ˜ ìˆë‹¤.       í˜„ì¬ í´ë˜ìŠ¤ê°€ ë§¤í•‘ëœ í…Œì´ë¸”                 nullable (DDL)       null ê°’ì˜ í—ˆìš© ì—¬ë¶€ ì„¤ì •.       true                 unique (DDL)       @Tableì˜ uniqueConstraintsì™€ ê°™ì§€ë§Œ í•œ ì»¬ëŸ¼ì— ê°„ë‹¨íˆ ìœ ë‹ˆí¬ ì œì•½ì¡°ê±´ì„ ê±¸ ë•Œ ì‚¬ìš©í•œë‹¤. ë§Œì•½ ë‘ ì»¬ëŸ¼ ì´ìƒì„ ì‚¬ìš©í•´ì„œ ìœ ë‹ˆí¬ ì œì•½ì¡°ê±´ì„ ì‚¬ìš©í•˜ë ¤ë©´ @Table.uniqueConstraintsë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.       Â                  length (DDL)       ë¬¸ì ê¸¸ì´ ì œì•½ì¡°ê±´, String íƒ€ì…ì—ë§Œ ì‚¬ìš©í•œë‹¤.       255                 precision, scale (DDL)       BigDecimal íƒ€ì…ì—ì„œ ì‚¬ìš©í•œë‹¤. precisionì€ ì†Œìˆ˜ì ì„ í¬í•¨í•œ ì „ì²´ ìë¦¿ìˆ˜, scaleì€ ì†Œìˆ˜ì˜ ìë¦¿ìˆ˜ë‹¤. double, floatíƒ€ì…ì—ëŠ” ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.       precision = 19, scale=2                 columnDefinition       ë°ì´í„°ë² ì´ìŠ¤ ì»¬ëŸ¼ ì •ë³´ë¥¼ ì§ì ‘ ì¤„ ìˆ˜ ìˆë‹¤.       í•„ë“œì˜ ìë°” íƒ€ì…ê³¼ ë°©ì–¸ ì •ë³´ë¥¼ ì‚¬ìš©í•´ì„œ ì ì ˆí•œ ì»¬ëŸ¼ íƒ€ì…ì„ ìƒì„±í•œë‹¤.                 4.7.2 @Enumerated  ìë°”ì˜ enum íƒ€ì…ì„ ë§¤í•‘í•  ë•Œ ì‚¬ìš©í•œë‹¤.                             ì†ì„±             ê¸°ëŠ¥             ê¸°ë³¸ê°’                                         value             EnumType.ORDINAL: enum ìˆœì„œë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥               EnumType.STRING: enum ì´ë¦„ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥                          EnumType.ORDINAL                      4.7.3 @Temporal  ë‚ ì§œ íƒ€ì…(java.util.Date, java.util.Calendar)ì„ ë§¤í•‘í•  ë•Œ ì‚¬ìš©í•œë‹¤.                             ì†ì„±             ê¸°ëŠ¥             ê¸°ë³¸ê°’                                         value                          - TemporalType.DATE: ë‚ ì§œ, ë°ì´í„°ë² ì´ìŠ¤ date íƒ€ì…ê³¼ ë§¤í•‘ (ì˜ˆ: 2013-10-11)                           - TemporalType.TIME: ì‹œê°„, ë°ì´í„°ë² ì´ìŠ¤ time íƒ€ì…ê³¼ ë§¤í•‘ (ì˜ˆ: 11:11:11)                           - TemporalType.TIMESTAMP: ë‚ ì§œì™€ ì‹œê°„, ë°ì´í„°ë² ì´ìŠ¤ timestamp íƒ€ì…ê³¼ ë§¤í•‘ (ì˜ˆ: 2013-10-11 11:11:11)                          TemporalTypeì€ í•„ìˆ˜ ì§€ì •                    4.7.4 @Lob  ë°ì´í„°ë² ì´ìŠ¤ BLOB, CLOB íƒ€ì…ê³¼ ë§¤í•‘í•œë‹¤. ë§¤í•‘í•˜ëŠ” í•„ë“œ íƒ€ì…ì— ë”°ë¼ ë§¤í•‘ì„ ë‹¬ë¦¬í•œë‹¤.     CLOB: String, char[], java.sql.CLOB   BLOB: byte[], java.sql.BLOB        4.7.5 @Transient  ì´ í•„ë“œëŠ” ë§¤í•‘í•˜ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ì§€ ì•Šê³  ì¡°íšŒí•˜ì§€ ì•ŠëŠ”ë‹¤.        4.7.6 @Access  JPAê°€ ì—”í‹°í‹° ë°ì´í„°ì— ì ‘ê·¼í•˜ëŠ” ë°©ì‹ì„ ì§€ì •í•œë‹¤.     AccessType.FIELD: í•„ë“œ ì ‘ê·¼   AccessType.PROPERTY: í”„ë¡œí¼í‹° ì ‘ê·¼, ì ‘ê·¼ì(Getter) ì‚¬ìš©   @Entity @Access(AccessType.FIELD) public class Member {...}  @Entity @Access(AccessType.PROPERTY) public class Member {...}  /**  * ë‘ ì ‘ê·¼ ë°©ì‹ì„ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.  *  * @IdëŠ” í•„ë“œ ì ‘ê·¼ ë°©ì‹  * getFullName()ëŠ” í”„ë¡œí¼í‹° ì ‘ê·¼ ë°©ì‹  * Member ì—”í‹°í‹°ë¥¼ ì €ì¥í•˜ë©´ í…Œì´ë¸”ì˜ FULLNAME ì»¬ëŸ¼ì—  * firstName + lastNameì˜ ê²°ê³¼ê°€ ì €ì¥ëœë‹¤.  */ @Entity public class Member {          @Id     private String id;      @Transient     private String firstName;      @Transient     private String lastName;      @Access(AccessType.PROPERTY)     public String getFullName() {         return firstName + lastName;     }     ... }              5. ì—°ê´€ê´€ê³„ ë§¤í•‘ ê¸°ì´ˆ  ì—°ê´€ê´€ê³„ ë§¤í•‘ í‚¤ì›Œë“œ ì •ë¦¬     ë°©í–¥(Direction): [ë‹¨ë°©í–¥, ì–‘ë°©í–¥]ì´ ìˆë‹¤. ë°©í–¥ì€ ê°ì²´ê´€ê³„ì—ì„œë§Œ ì¡´ì¬í•˜ê³  í…Œì´ë¸” ê´€ê³„ëŠ” í•­ìƒ ì–‘ë°©í–¥ì´ë‹¤.   ë‹¤ì¤‘ì„±(Multiplcity): [ë‹¤ëŒ€ì¼(N:1), ì¼ëŒ€ë‹¤(1:N), ì¼ëŒ€ì¼(1:1), ë‹¤ëŒ€ë‹¤(N:M)] ë‹¤ì¤‘ì„±ì´ ìˆë‹¤.   ì—°ê´€ê´€ê³„ ì£¼ì¸(Owner): ê°ì²´ë¥¼ ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ë¡œ ë§Œë“¤ë©´ ì—°ê´€ê´€ê³„ ì£¼ì¸ì„ ì •í•´ì•¼ í•œë‹¤.        5.1 ë‹¨ë°©í–¥ ì—°ê´€ê´€ê³„       ê°ì²´ ì—°ê´€ê´€ê³„ì™€ í…Œì´ë¸” ì—°ê´€ê´€ê³„ì˜ ì°¨ì´     ê°ì²´            ì°¸ì¡°(ì£¼ì†Œ)ë¡œ ì—°ê´€ê´€ê³„ë¥¼ ë§ºëŠ”ë‹¤.       ì–¸ì œë‚˜ ë‹¨ë°©í–¥       ì–‘ë°©í–¥ì„ í•˜ë ¤ë©´ ì„œë¡œë‹¤ë¥¸ ë‹¨ë°©í–¥ ê´€ê³„ 2ê°œë¡œ êµ¬í˜„           í…Œì´ë¸”            ì™¸ë˜ í‚¤ë¡œ ì—°ê´€ê´€ê³„ë¥¼ ë§ºëŠ”ë‹¤.       ì™¸ë˜ í‚¤ í•˜ë‚˜ë¡œ ì–‘ë°©í–¥ ì¡°ì¸ ê°€ëŠ¥                5.1.1 ìˆœìˆ˜í•œ ê°ì²´ ì—°ê´€ê´€ê³„  ê°ì²´ ì°¸ì¡°ë¥¼ ì‚¬ìš©í•´ì„œ ì—°ê´€ê´€ê³„ë¥¼ íƒìƒ‰í•  ìˆ˜ ìˆëŠ”ë° ì´ê²ƒì„ ê°ì²´ ê·¸ë˜í”„ íƒìƒ‰ì´ë¼ í•œë‹¤.  public static void main(String[] args) {     Member member1 = new Memeber(\"member1\", \"íšŒì›1\");     Member member2 = new Memeber(\"member2\", \"íšŒì›1\");     Team team = new Team(\"team\", \"íŒ€\");      member1.setTeam(team);     member2.setTeam(team);      // ê°ì²´ ê·¸ë˜í”„ íƒìƒ‰     Team findTeam = member1.getTeam(); }        5.1.2 í…Œì´ë¸” ì—°ê´€ê´€ê³„  ì™¸ë˜ í‚¤ë¥¼ ì‚¬ìš©í•´ì„œ ì—°ê´€ê´€ê³„ë¥¼ íƒìƒ‰í•  ìˆ˜ ì‡ëŠ”ë° ì´ê²ƒì„ ì¡°ì¸ì´ë¼ í•œë‹¤.  SELECT T.* FROM MEMBER M     JOIN TEAM T ON M.TEAM_ID = T.ID WHERE M.MEMBER_ID = 'member1'        5.1.3 ê°ì²´ ê´€ê³„ ë§¤í•‘   @Entity public class Member {      @Id     @Column(name = \"MEMBER_ID\")     private Long id;      private String username;      //ì—°ê´€ ê´€ê³„ ë§¤í•‘     @ManyToOne     @JoinColumn(name=\"TEAM_ID\")     private Team team;      //ì—°ê´€ê´€ê³„ ì„¤ì •     public void setTeam(Team team) {         this.team = team;     }     ...ìƒëµ... }  @Entity public class Team {          @Id     @Column(name = \"TEAM_ID\")     private String id;     ...ìƒëµ... }      @ManyToOne     ë‹¤ëŒ€ì¼(N:1) ê´€ê³„ë¼ëŠ” ë§¤í•‘ ì •ë³´   ì—°ê´€ê´€ê³„ ë§¤í•‘í•  ë•Œ ë‹¤ì¤‘ì„±ì„ ë‚˜íƒ€ë‚´ëŠ” ì–´ë…¸í…Œì´ì…˜ í•„ìˆ˜ë¡œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.      @JoinColumn(name=â€TEAM_IDâ€)     ì¡°ì¸ì»¬ëŸ¼ì€ ì™¸ë˜ í‚¤ë¥¼ ë§¤í•‘í•  ë•Œ ì‚¬ìš©í•œë‹¤.   name ì†ì„±ì— ë§¤í•‘í•  ì™¸ë˜ í‚¤ ì´ë¦„ì„ ì§€ì •í•œë‹¤. (ì—¬ê¸°ì„  íŒ€ í…Œì´ë¸”ì˜ TEAM_ID)   ìƒëµí•  ìˆ˜ ìˆë‹¤.        5.1.4 @JoinColumn  @JoinColumnì€ ì™¸ë˜ í‚¤ë¥¼ ë§¤í•‘í•  ë•Œ ì‚¬ìš©í•œë‹¤.                  ì†ì„±       ê¸°ëŠ¥       ê¸°ë³¸ê°’                       name       ë§¤í•‘í•  ì™¸ë˜ í‚¤ ì´ë¦„       í•„ë“œëª… + _ + ì°¸ì¡°í•˜ëŠ” í…Œì´ë¸”ì˜ ì»¬ëŸ¬ëª…                 referencedColumnName       ì™¸ë˜ í‚¤ê°€ ì°¸ì¡°í•˜ëŠ” ëŒ€ìƒ í…Œì´ë¸”ì˜ ì»¬ëŸ¼ëª…       ì°¸ì¡°í•˜ëŠ” í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ ì»¬ëŸ¼ëª…                 foreignKey (DDL)       ì™¸ë˜ í‚¤ ì œì•½ì¡°ê±´ì„ ì§ì ‘ ì§€ì •í•  ìˆ˜ ìˆë‹¤. ì´ ì†ì„±ì€ í…Œì´ë¸”ì„ ìƒì„±í•  ë•Œë§Œ ì‚¬ìš©í•œë‹¤.       Â                  unique, nullable, insertable, updatable, columnDefinition, table       @Columnì˜ ì†ì„±ê³¼ ê°™ë‹¤.       Â                5.1.5 @ManyToOne  @ManyToOne ì–´ë…¸í…Œì´ì…˜ì€ ë‹¤ëŒ€ì¼ ê´€ê³„ì—ì„œ ì‚¬ìš©í•œë‹¤.                  ì†ì„±       ê¸°ëŠ¥       ê¸°ë³¸ê°’                       optional       falseë¡œ ì„¤ì •í•˜ë©´ ì—°ê´€ëœ ì—”í‹°í‹°ê°€ í•­ìƒ ìˆì–´ì•¼ í•œë‹¤.       true                 fetch       ê¸€ë¡œë²Œ í˜ì¹˜ ì „ëµì„ ì„¤ì •í•œë‹¤.       @ManyToOne=FetchType.EAGER   @OneToMany=FetchType.LAZY                 cascade       ì˜ì†ì„± ì „ì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•œë‹¤.       Â                  targetEntity (ê±°ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ)       ì—°ê´€ëœ ì—”í‹°í‹°ì˜ íƒ€ì… ì •ë³´ë¥¼ ì„¤ì •í•œë‹¤. ì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•´ë„ ì œë„¤ë¦­ìœ¼ë¡œ íƒ€ì… ì •ë³´ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤.       Â                  5.2 ì—°ê´€ê´€ê³„ ì‚¬ìš©  ì—°ê´€ê´€ê³„ë¥¼ ë“±ë¡, ìˆ˜ì •, ì‚­ì œ, ì¡°íšŒí•˜ëŠ” ì˜ˆì œë¥¼ í†µí•´ ì—°ê´€ê´€ê³„ë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ”ì§€ ì•Œì•„ë³¸ë‹¤.        5.2.1 ì €ì¥  JPAì—ì„œ ì—”í‹°í‹°ë¥¼ ì €ì¥í• ë•Œ ì—°ê´€ëœ ëª¨ë“  ì—”í‹°í‹°ëŠ” ì˜ì† ìƒíƒœì—¬ì•¼ í•œë‹¤.   public void testSave() {      // íŒ€1 ì €ì¥     Team team1 = new Team(\"team1\", \"íŒ€1\");     em.persist(team1);      // íšŒì›1 ì €ì¥     Member member1 = new Member(\"member1\", \"íšŒì›1\");     member1.setTeam(team1); //ì—°ê´€ê´€ê³„ ì„¤ì • member1 -&gt; team1     em.persist(member1);      // íšŒì›2 ì €ì¥     Member member2 = new Member(\"member2\", \"íšŒì›2\");     member2.setTeam(team1); //ì—°ê´€ê´€ê³„ ì„¤ì • member2 -&gt; team1     em.persist(member2); }       5.2.2 ì¡°íšŒ  ì—°ê´€ê´€ê³„ê°€ ìˆëŠ” ì—”í‹°í‹° ì¡°íšŒ ë°©ë²•ì€ í¬ê²Œ 2ê°€ì§€ë‹¤.     ê°ì²´ ê·¸ë˜í”„ íƒìƒ‰(ê°ì²´ ì—°ê´€ê´€ê³„ë¥¼ ì‚¬ìš©í•œ ì¡°íšŒ)   ê°ì²´ì§€í–¥ ì¿¼ë¦¬ ì‚¬ìš©(JPQL)      ê°ì²´ ê·¸ë˜í”„ íƒìƒ‰  Member member = em.find(Member.class, \"member1\"); Team team = member.getTeam(); // ê°ì²´ ê·¸ë˜í”„ íƒìƒ‰ System.out.println(\"íŒ€ ì´ë¦„ = \" + team.getName());      ê°ì²´ ì§€í–¥ ì¿¼ë¦¬ ì‚¬ìš©  public static void testJPQL(EntityManager em) {     String jpql1 = \"select m from Member m join m.team t where t.name=:teamName\";      List&lt;Member&gt; resultList = em.createQuery(jpql1, Member.class)         .setParameter(\"teamName\", \"íŒ€1\")         .getResultList();      for (Member member : resultList) {         System.out.println(\"[query] member.username = \" + member.getUsername());     } }  /* * ê²°ê³¼ * [query] member.username=íšŒì›1 * [query] member.username=íšŒì›2 */  ì‹¤í–‰ë˜ëŠ” SQLì€ ë‹¤ìŒê³¼ ê°™ë‹¤.  SELECT M.* FROM MEMBER MEMBER  INNER JOIN      TEAM TEAM ON MEMBER.TEAM_ID = TEAM1_.ID  WHERE     TEAM1_.NAME='íŒ€1'  ì‹¤í–‰ëœ SQLê³¼ JPQLì„ ë¹„êµí•˜ë©´ JPQLì€ ê°ì²´(ì—”í‹°í‹°)ë¥¼ ëŒ€ìƒìœ¼ë¡œ í•˜ê³  SQLë³´ë‹¤ ê°„ê²°í•˜ë‹¤.        5.2.3 ìˆ˜ì •  private static void updateRelation(EntityManager em) {      // ìƒˆë¡œìš´ íŒ€2     Team team2 = new Team(\"team2\", \"íŒ€2\");     em.persist(team2);      //íšŒì›1ì— ìƒˆë¡œìš´ íŒ€2 ì„¤ì •     Member member = em.find(Member.class, \"member1\");     member.setTeam(team2); }  ì‹¤í–‰ë˜ëŠ” ìˆ˜ì • SQLì€ ë‹¤ìŒê³¼ ê°™ë‹¤.  UPDATE MEMBER SET     TEAM_ID='team2', ... WHERE ID = 'member1'         5.2.4 ì—°ê´€ê´€ê³„ ì œê±°   private static void deleteRelation(EntityManager em) {      Member member1 = em.find(Member.class, \"member1\");     member1.setTeam(null); //ì—°ê´€ê´€ê³„ ì œê±° }  ì‹¤í–‰ë˜ëŠ” ì—°ê´€ê´€ê³„ ì œê±° SQLì€ ë‹¤ìŒê³¼ ê°™ë‹¤.  UPDATE MEMBER SET     TEAM_ID=null, ... WHERE ID = 'member1'         5.2.5 ì—°ê´€ê´€ê³„ ì‚­ì œ  ì—°ê´€ëœ ì—”í‹°í‹°ë¥¼ ì‚­ì œí•˜ë ¤ë©´ ê¸°ì¡´ì— ìˆë˜ ì—°ê´€ê´€ê³„ë¥¼ ë¨¼ì € ì œê±°í•˜ê³  ì‚­ì œí•´ì•¼ í•œë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì™¸ë˜ í‚¤ ì œì•½ì¡°ê±´ìœ¼ë¡œ ì¸í•´, ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.   member1.setTeam(null); // íšŒì›1 ì—°ê´€ê´€ê³„ ì œê±° member2.setTeam(null); // íšŒì›2 ì—°ê´€ê´€ê³„ ì œê±° em.remove(team);       // íŒ€ ì‚­ì œ          5.3 ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„  ê°ì²´       íšŒì›ê³¼ íŒ€ì€ ë‹¤ëŒ€ì¼ ê´€ê³„   íŒ€ì—ì„œ íšŒì›ì˜ ê´€ê³„ëŠ” ì¼ëŒ€ë‹¤ ê´€ê³„      ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”       ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì€ ì™¸ë˜ í‚¤ í•˜ë‚˜ë¡œ ì–‘ë°©í–¥ ì¡°íšŒ        5.3.1 ì–‘ë°©í•­ ì—°ê´€ê´€ê³„ ë§¤í•‘  @Entity public class Member {     ...ìƒëµ...      // ì—°ê´€ ê´€ê³„ ë§¤í•‘     @ManyToOne     @JoinColumn(name=\"TEAM_ID\")     private Team team;      ...ìƒëµ... }  @Entity public class Team {     ...ìƒëµ...      // @OneToMany ë§¤í•‘ ì •ë³´ë¥¼ ì‚¬ìš©í–ˆë‹¤.     // mappedBy ì†ì„±ì€ ì–‘ë°©í–¥ ë§¤í•‘ì¼ ë•Œ ì‚¬ìš©í•˜ëŠ”ë° ë°˜ëŒ€ìª½ ë§¤í•‘ì˜ í•„ë“œ ì´ë¦„ì„ ê°’ìœ¼ë¡œ ì£¼ë©´ ëœë‹¤.     @OneToMany(mappedBy = \"team\")     private List&lt;Member&gt; members = new ArrayList&lt;Member&gt;();          ...ìƒëµ...   }          5.4 ì—°ê´€ê´€ê³„ ì£¼ì¸     ê°ì²´ì—ëŠ” ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ë¼ëŠ” ê²ƒì´ ì—†ë‹¤.   ì„œë¡œ ë‹¤ë¥¸ ë‹¨ë°©í–¥ ì—°ê´€ê´€ê³„ 2ê°œë¥¼ ì–‘ë°©í–¥ì¸ ê²ƒì²˜ëŸ¼ ë³´ì´ê²Œ í•  ë¿ì´ë‹¤.   ì—”í‹°í‹°ë¥¼ ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ë¡œ ì„¤ì •í•˜ë©´ ê°ì²´ì˜ ì°¸ì¡°ëŠ” ë‘˜ì¸ë° ì™œë˜ í‚¤ëŠ” í•˜ë‚˜ë‹¤.   JPAì—ì„œëŠ” ë‘ ê°ì²´ ì—°ê´€ê´€ê³„ ì¤‘ í•˜ë‚˜ë¥¼ ì •í•´ì„œ í…Œì´ë¸”ì˜ ì™¸ë˜ í‚¤ë¥¼ ê´€ë¦¬í•´ì•¼ í•˜ëŠ”ë° ì´ê²ƒì„ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ë¼ í•œë‹¤.        5.4.1 ì–‘ë°©í–¥ ë§¤í•‘ì˜ ê·œì¹™: ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸     ë‘ ì—°ê´€ê´€ê³„ ì¤‘ í•˜ë‚˜ë¥¼ ì—°ê´€ê´€ê³„ ì£¼ì¸ìœ¼ë¡œ ì •í•´ì•¼ í•œë‹¤.   ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ë§Œì´ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê´€ê´€ê³„ì™€ ë§¤í•‘ë˜ê³  ì™œë˜ í‚¤ë¥¼ ê´€ë¦¬(ë“±ë¡,ìˆ˜ì •,ì‚­ì œ)í•  ìˆ˜ ìˆë‹¤.   ì£¼ì¸ì´ ì•„ë‹Œ ìª½ì€ ì½ê¸°ë§Œ í•  ìˆ˜ ìˆë‹¤.      mappedBy     ì£¼ì¸ì€ mappedBy ì†ì„±ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.   ì£¼ì¸ì´ ì•„ë‹ˆë©´ mappedBy ì†ì„±ì„ ì‚¬ìš©í•´ì„œ ì†ì„±ì˜ ê°’ìœ¼ë¡œ ì—°ê´€ê´€ê³„ ì£¼ì¸ì„ ì§€ì •í•œë‹¤. (â€˜ë‚´ê°€ ìƒëŒ€ì—ê²Œ ë§¤í•‘ë˜ì—ˆë‹¤â€™ë¼ê³  ìƒê°í•˜ë©´ í¸í•¨)  ì—°ê´€ê´€ê³„ ì£¼ì¸ì„ ì •í•œë‹¤ëŠ” ê²ƒì€ ì™¸ë˜ í‚¤ ê´€ë¦¬ìë¥¼ ì„ íƒí•˜ëŠ” ê²ƒì´ë‹¤.        5.4.2 ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì€ ì™¸ë˜ í‚¤ê°€ ìˆëŠ” ê³³       ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì€ í…Œì´ë¸”ì— ì™¸ë˜ í‚¤ê°€ ìˆëŠ” ê³³ìœ¼ë¡œ ì •í•´ì•¼ í•œë‹¤.   ë‹¤ëŒ€ì¼, ì¼ëŒ€ë‹¤ ê´€ê³„ì—ì„œëŠ” í•­ìƒ ë‹¤ ìª½ì´ ì™¸ë˜ í‚¤ë¥¼ ê°€ì§„ë‹¤.   ë‹¤ ìª½ì¸ @ManyToOneì€ í•­ìƒ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ ë˜ë¯€ë¡œ mappedByë¥¼ ì„¤ì •í•  ìˆ˜ ì—†ë‹¤.   ë”°ë¼ì„œ @ManyToOneì—ëŠ” mappedBy ì†ì„±ì´ ì—†ë‹¤.          5.5 ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ ì €ì¥  public void testSave() {      // íŒ€1 ì €ì¥     Team team1 = new Team(\"team1\", \"íŒ€1\");     em.persist(team1);      // íšŒì›1 ì €ì¥     Member member1 = new Member(\"member1\", \"íšŒì›1\");     member1.setTeam(team1); //ì—°ê´€ê´€ê³„ ì„¤ì • member1 -&gt; team1     em.persist(member1);      // íšŒì›2 ì €ì¥     Member member2 = new Member(\"member2\", \"íšŒì›2\");     member2.setTeam(team1); //ì—°ê´€ê´€ê³„ ì„¤ì • member2 -&gt; team1     em.persist(member2); }  // ì£¼ì¸ì´ ì•„ë‹Œ ê³³ì— ì…ë ¥ëœ ê°’ì€ ì™¸ë˜ í‚¤ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ”ë‹¤.  team1.getMembers().add(member1); //ë¬´ì‹œ(ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ ì•„ë‹˜) team1.getMembers().add(member2); //ë¬´ì‹œ(ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ ì•„ë‹˜)  // Member.teamì€ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ë‹¤. // ì—”í‹°í‹° ë§¤ë‹ˆì €ëŠ” ì´ê³³ì— ì…ë ¥ëœ ê°’ì„ ì‚¬ìš©í•´ ì™¸ë˜ í‚¤ ê´€ë¦¬í•œë‹¤. member1.setTeam(team1); //ì—°ê´€ê´€ê³„ ì„¤ì •(ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸) member2.setTeam(team1); //ì—°ê´€ê´€ê³„ ì„¤ì •(ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸)          5.6 ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ì˜ ì£¼ì˜ì   ê°€ì¥ í”í•œ ì‹¤ìˆ˜ëŠ” ì—°ê´€ê´€ê³„ ì£¼ì¸ì—ëŠ” ê°’ì„ ì…ë ¥í•˜ì§€ ì•Šê³ , ì£¼ì¸ì´ ì•„ë‹Œ ê³³ì—ë§Œ ê°’ì„ ì…ë ¥í•˜ëŠ” ê²ƒì´ë‹¤.  public void testSaveNonOwner() {      // íšŒì›1 ì €ì¥     Member member1 = new Member(\"member1\", \"íšŒì›1\");     em.persist(member1);      // íšŒì›2 ì €ì¥     Member member2 = new Member(\"member2\", \"íšŒì›2\");     em.persist(member2);      Team team1 = new Team(\"team1\", \"íŒ€1\");      // ì£¼ì¸ì´ ì•„ë‹Œ ê³³ì— ì—°ê´€ê´€ê³„ ì„¤ì •     team1.getMembers().add(member1);     team2.getMembers().add(member2);      em.persist(team1); }  ì¡°íšŒ ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.                  MEMBER_ID       USERNAME       TEAM_ID                       member1       íšŒì›1       null                 member2       íšŒì›2       null                 5.6.1 ìˆœìˆ˜í•œ ê°ì²´ê¹Œì§€ ê³ ë ¤í•œ ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„  ê·¸ë ‡ë‹¤ë©´ ì •ë§ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì—ë§Œ ê°’ì„ ì €ì¥í•˜ê³  ì£¼ì¸ì´ ì•„ë‹Œ ê³³ì—ëŠ” ê°’ì„ ì €ì¥í•˜ì§€ ì•Šì•„ë„ ë ê¹Œ? ê°ì²´ ê´€ì ì—ì„œëŠ” ì–‘ìª½ ë°©í–¥ ëª¨ë‘ ê°’ì„ ì…ë ¥í•´ì£¼ëŠ” ê²ƒì´ ê°€ì¥ ì•ˆì „í•˜ë‹¤.   member1.setTeam(team1); // íšŒì› -&gt; íŒ€ team1.getMembers().add(member1); // íŒ€ -&gt; íšŒì›        5.6.2 ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì†Œë“œ  í•œ ë²ˆì— ì–‘ë°©í–¥ ê´€ê³„ë¥¼ ì„¤ì •í•˜ëŠ” ë©”ì†Œë“œë¥¼ ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì†Œë“œë¼ í•œë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ì‹¤ìˆ˜ë„ ì¤„ì–´ë“¤ê³  ì¢€ ë” í¸í•˜ê²Œ ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.   public class Member {      private Team team;      public void setTeam(Team team) {         this.team = team;         team.getMembers().add(this);     } }        5.6.3 ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì†Œë“œ ì‘ì„± ì‹œ ì£¼ì˜ì‚¬í•­  ì—°ê´€ê´€ê³„ë¥¼ ë³€ê²½í•  ë•ŒëŠ” ê¸°ì¡´ íŒ€ì´ ìˆìœ¼ë©´ ê¸°ì¡´ íŒ€ê³¼ íšŒì›ì˜ ì—°ê´€ê´€ê³„ë¥¼ ì‚­ì œí•˜ëŠ” ì½”ë“œë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤.   member1.setTeam(teamA); // 1 member1.setTeam(teamB); // 2 Member findMember = teamA.getMember(); // member1ì´ ì—¬ì „íˆ ì¡°íšŒëœë‹¤.  public void setTeam(Team team) {      // ê¸°ì¡´ íŒ€ê³¼ ê´€ê³„ë¥¼ ì œê±°     if (this.team != null) {         this.team.getMembers().remove(this);     }         this.team = team;     team.getMembers().add(this); }          5.7 ì •ë¦¬     ë‹¨ë°©í–¥ ë§¤í•‘ì€ ì–¸ì œë‚˜ ì—°ê´€ê´€ê³„ ì£¼ì¸ì´ë‹¤.   ì–‘ë°©í–¥ì€ ë‹¨ë°©í–¥ì— ì£¼ì¸ì´ ì•„ë‹Œ ì—°ê´€ê´€ê³„ë¥¼ í•˜ë‚˜ ì¶”ê°€í–ˆì„ ë¿ì´ë‹¤.   ì–‘ë°©í–¥ì˜ ì¥ì ì€ ë°˜ëŒ€ë°©í–¥ìœ¼ë¡œ ê°ì²´ ê·¸ë˜í”„ íƒìƒ‰ ê¸°ëŠ¥ì´ ì¶”ê°€ëœ ê²ƒ ë¿ì´ë‹¤.   ì£¼ì¸ì˜ ë°˜ëŒ€í¸ì€ mappedByë¡œ ì£¼ì¸ì„ ì§€ì •í•´ì•¼ í•œë‹¤.   ì£¼ì¸ì˜ ë°˜ëŒ€í¸ì€ ë‹¨ìˆœíˆ ë³´ì—¬ì£¼ëŠ” ì¼ë§Œ í•  ìˆ˜ ìˆë‹¤.   ì—°ê´€ê´€ê³„ ì£¼ì¸ì€ ì™¸ë˜ í‚¤ì˜ ìœ„ì¹˜ì™€ ê´€ë ¨í•´ì„œ ì •í•´ì•¼ì§€ ë¹„ì¦ˆë‹ˆìŠ¤ ì¤‘ìš”ë„ë¡œ ì ‘ê·¼í•˜ë©´ ì•ˆëœë‹¤.              6. ë‹¤ì–‘í•œ ì—°ê´€ê´€ê³„ ë§¤í•‘  ì—”í‹°í‹° ì—°ê´€ê´€ê³„ë¥¼ ë§¤í•‘í•  ë•Œ ê³ ë ¤ì‚¬í•­      ë‹¤ì¤‘ì„±            ë‹¤ëŒ€ì¼(@ManyToOne)       ì¼ëŒ€ë‹¤(@OneToMany)       ì¼ëŒ€ì¼(@OneToOne)       ë‹¤ëŒ€ë‹¤(@ManyToMany)           ë‹¨ë°©í–¥, ì–‘ë°©í–¥            ë‹¨ë°©í–¥: í•œìª½ë§Œ ì°¸ì¡°í•˜ëŠ” ê²ƒ       ì–‘ë°©í–¥: ì–‘ìª½ì´ ì„œë¡œ ì°¸ì¡°í•˜ëŠ” ê²ƒ           ì—°ê´€ê´€ê³„ ì£¼ì¸      6.1 ë‹¤ëŒ€ì¼  ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì˜ ì¼ëŒ€ë‹¤ ê´€ê³„ì—ì„œ ì™¸ë˜ í‚¤ëŠ” í•­ìƒ ë‹¤ìª½ì— ìˆë‹¤. ë”°ë¼ì„œ ê°ì²´ ì–‘ë°©í–¥ ê´€ê³„ì—ì„œ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì€ í•­ìƒ ë‹¤ìª½ì´ë‹¤.        6.1.1 ë‹¤ëŒ€ì¼ ë‹¨ë°©í–¥ [N:1]       @ManyToOne ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ì„œ ë‹¤ëŒ€ì¼ ê´€ê³„ë¥¼ ë§¤í•‘í•œë‹¤.   @JoinColumnì€ í•„ë“œë¥¼ ì™¸ë˜ í‚¤ì™€ ë§¤í•‘í•  ë•Œ ì‚¬ìš©í•œë‹¤.   public class Member {     ...ìƒëµ...     @ManyToOne     @JoinCoulmn(name=\"TEAM_ID\")     private Team team;     ...ìƒëµ... }        6.1.2 ë‹¤ëŒ€ì¼ ì–‘ë°©í–¥ [N:1, 1:N]    public class Member {     ...ìƒëµ...     @ManyToOne     @JoinCoulmn(name=\"TEAM_ID\")     private Team team;      public void setTeam(Team team) {         this.team = team;          // ë¬´í•œë£¨í”„ì— ë¹ ì§€ì§€ ì•Šë„ë¡ ì²´í¬         if(!team.getMembers().contains(this)) {             team.getMembers().add(this);         }     }     ...ìƒëµ... }  public class Team {     ...ìƒëµ...     @OneToMany(mappedBy = \"team\")     private List&lt;Member&gt; members = new ArrayList&lt;&gt;();      public void addMember(Member member) {         this.members.add(member);          // ë¬´í•œë£¨í”„ì— ë¹ ì§€ì§€ ì•Šë„ë¡ ì²´í¬         if (member.getTeam() != this) {             member.setTeam(this);         }     }     ...ìƒëµ... }     ì–‘ë°©í–¥ì€ ì™¸ë˜ í‚¤ê°€ ìˆëŠ” ìª½ì´ ì—°ê´€ê´€ê³„ ì£¼ì¸ì´ë‹¤.   ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ëŠ” í•­ìƒ ì„œë¡œë¥¼ ì°¸ì¡°í•´ì•¼ í•œë‹¤.          6.2 ì¼ëŒ€ë‹¤  ì¼ëŒ€ë‹¤ ê´€ê³„ëŠ” ì—”í‹°í‹°ë¥¼ í•˜ë‚˜ ì´ìƒ ì°¸ì¡°í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ìë°” ì»¬ë ‰ì…˜ì¸ Collection, List, Set, Map ì¤‘ì— í•˜ë‚˜ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.   6.2.1 ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ [1:N]    public class Team {     ...ìƒëµ...     @OneToMany     @JoinColumn(name = \"TEAM_ID\") // MEMBER í…Œì´ë¸”ì˜ TEAM_ID (FK)     private List&lt;Member&gt; members = new ArrayList&lt;&gt;();     ...ìƒëµ... }     ì¼ëŒ€ë‹¤ ê´€ê³„ì—ì„œëŠ” ì¼ì´ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ë‹¤.   ì¼ ìª½ì—ì„œ ì™¸ë˜í‚¤ë¥¼ ê´€ë¦¬í•˜ê² ë‹¤ëŠ” ì˜ë¯¸ê°€ ëœë‹¤.   ì¼ëŒ€ ë‹¤ ë‹¨ë°©í–¥ ê´€ê³„ë¥¼ ë§¤í•‘í•  ë•ŒëŠ” @JoinColumnì„ ëª…ì‹œí•´ì•¼ í•œë‹¤.   ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ JPAëŠ” ì—°ê²° í…Œì´ë¸”ì„ ì¤‘ê°„ì— ë‘ê³  ì—°ê´€ê´€ê³„ë¥¼ ê´€ë¦¬í•˜ëŠ” ì¡°ì¸ í…Œì´ë¸” ì „ëµì„ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.      ì¼ëŒ€ë‹¤ ë¬¸ì œì      ì—”í‹°í‹°ë¥¼ ë§¤í•‘í•œ í…Œì´ë¸”ì´ ì•„ë‹Œ ë‹¤ì„ í…Œì´ë¸”ì˜ ì™¸ë˜ í‚¤ë¥¼ ê´€ë¦¬í•´ì•¼ í•œë‹¤.   ì„±ëŠ¥ ë¬¸ì œ   Member member1 = new Memeber(\"member1\"); Member member2 = new Memeber(\"member2\");  Team team1 = new Team(\"team1\"); team1.getMembers().add(member1); team1.getMembers().add(member2);  em.persist(member1); // INSERT MEMBER1 em.persist(member2); // INSERT MEMBER2 em.persist(team1); // INSERT TEAM, UPDATE MEMBER1, UPDATE MEMBER2  tx.commit();  -- ì—…ë°ì´íŠ¸ ì¿¼ë¦¬ê°€ ì¶”ê°€ëœë‹¤. insert into Member (MEMBER_ID, username) values (null, ?); insert into Team (TEAM_ID, name) values (null, ?); update Member set TEAM_ID=? where MEMBER_ID=?    ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ë§¤í•‘ë³´ë‹¤ëŠ” ë‹¤ëŒ€ì¼ ì–‘ë°©í–¥ ë§¤í•‘ì„ ì‚¬ìš©í•˜ì         6.2.2 ì¼ëŒ€ë‹¤ ì–‘ë°©í–¥ [1:N, N:1]    public class Team {     ...ìƒëµ...     @OneToMany     @JoinColumn(name = \"TEAM_ID\")     private List&lt;Member&gt; members = new ArrayList&lt;&gt;();     ...ìƒëµ... }  public class Member {     ...ìƒëµ...     @ManyToOne     @JoinCoulmn(name = \"TEAM_ID\",         insertable = false, updatable = false) // ì½ê¸° ì „ìš© ë§¤í•‘     private Team team;     ...ìƒëµ... }  ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ë§¤í•‘ì´ ê°€ì§€ëŠ” ë‹¨ì ì„ ê·¸ëŒ€ë¡œ ê°€ì§„ë‹¤.          6.3 ì¼ëŒ€ì¼ [1:1]  ì¼ëŒ€ì¼ ê´€ê³„ íŠ¹ì§•     ì¼ëŒ€ì¼ ê´€ê³„ëŠ” ê·¸ ë°˜ëŒ€ë„ ì¼ëŒ€ì¼ ê´€ê³„ë‹¤.   í…Œì´ë¸” ê´€ê³„ì—ì„œ ì¼ëŒ€ë‹¤, ë‹¤ëŒ€ì¼ì€ í•­ìƒ ë‹¤(N)ìª½ì´ ì™¸ë˜ í‚¤ë¥¼ ê°€ì§„ë‹¤. ë°˜ë©´ ì¼ëŒ€ì¼ ê´€ê³„ëŠ” ì£¼ í…Œì´ë¸”ì´ë‚˜ ëŒ€ìƒ í…Œì´ë¸” ë‘˜ ì¤‘ ì–´ëŠ ê³³ì´ë‚˜ ì™¸ë˜ í‚¤ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.        6.3.1 ì£¼ í…Œì´ë¸”ì— ì™¸ë˜ í‚¤  ì£¼ í…Œì´ë¸”ì— ì™¸ë˜ í‚¤ê°€ ìˆëŠ” ë‹¨ë°©í–¥ ê´€ê³„ë¥¼ ë¨¼ì € ì‚´í´ë³´ê³ , ì–‘ë°©í–¥ ê´€ê³„ë„ ì‚´í´ ë³´ì.   ë‹¨ë°©í–¥    @Entity public class Member {      @Id @GeneratedValue     @Column(name = \"MEMBER_ID\")     private Long id;      // @OneToOneì„ ì‚¬ìš©í•´ ì¼ëŒ€ì¼ ë§¤í•‘í•œë‹¤.     @OneToOne     @JoinColumn(name = \"LOCKER_ID\")     private Locker locker;     ...ìƒëµ... }  @Entity public class Locker {     @Id @GeneratedValue     @Column(name = \"LOCKER_ID\")     private Long id;      ...ìƒëµ... }      ì–‘ë°©í–¥    @Entity public class Member {      @Id @GeneratedValue     @Column(name = \"MEMBER_ID\")     private Long id;      @OneToOne     @JoinColumn(name = \"LOCKER_ID\")     private Locker locker;     ...ìƒëµ... }  @Entity public class Locker {     @Id @GeneratedValue     @Column(name = \"LOCKER_ID\")     private Long id;      @OneToOne(mappedBy = \"locker\") // ì—°ê´€ê´€ê³„ ì£¼ì¸ í•„ë“œëª…ì„ ì„ ì–¸     private Member member;      ...ìƒëµ... }        6.3.2 ëŒ€ìƒ í…Œì´ë¸”ì— ì™¸ë˜ í‚¤  ëŒ€ìƒ í…Œì´ë¸”ì— ì™¸ë˜ í‚¤ê°€ ìˆëŠ” ì¼ëŒ€ì¼ ê´€ê³„ë¥¼ ì•Œì•„ë³¸ë‹¤.   ë‹¨ë°©í–¥   ì¼ëŒ€ì¼ ë‹¨ë°©í–¥ì€ ì´ëŸ° ë§¤í•‘ì„ í—ˆìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.      ì–‘ë°©í–¥    @Entity public class Member {      @Id @GeneratedValue     @Column(name = \"MEMBER_ID\")     private Long id;      @OneToOne(mappedBy = \"member\")     private Locker locker;     ...ìƒëµ... }  @Entity public class Locker {     @Id @GeneratedValue     @Column(name = \"LOCKER_ID\")     private Long id;      @OneToOne     @JoinColumn(name = \"MEMBER_ID\")     private Member member;      ...ìƒëµ... }  ì¼ëŒ€ì¼ ë§¤í•‘ì—ì„œ ëŒ€ìƒ í…Œì´ë¸”ì— ì™¸ë˜ í‚¤ë¥¼ ë‘ê³  ì‹¶ìœ¼ë©´ ì´ë ‡ê²Œ ì–‘ë°©í–¥ìœ¼ë¡œ ë§¤í•‘í•œë‹¤.          6.4 ë‹¤ëŒ€ë‹¤ [N:N]   í…Œì´ë¸” 2ê°œë¡œëŠ” ë‹¤ëŒ€ë‹¤ ê´€ê³„ë¥¼ í‘œí˜„í•  ìˆ˜ ì—†ë‹¤.       ì¤‘ê°„ì— ì—°ê²° í…Œì´ë¸”ì„ ì¶”ê°€í•´ì•¼ í•œë‹¤.        6.4.1 ë‹¤ëŒ€ë‹¤: ë‹¨ë°©í–¥  @Entity public class Member {      @Id @GeneratedValue     @Column(name = \"MEMBER_ID\")     private Long id;      @ManyToMany     @JoinTable(         name = \"MEMBER_PRODUCT\", // ì—°ê²° í…Œì´ë¸” ì§€ì •         joinColumn = @JoinColumn(name = \"MEMBER_ID\"), // í˜„ì¬ ì—”í‹°í‹°ì™€ ë§¤í•‘í•  ì—°ê²° í…Œì´ë¸”ì˜ ì¡°ì¸ ì»¬ëŸ¼         inverseJoinColumns = @JoinColumn(name = \"PRODUCT_ID\") // ìƒëŒ€ ì—”í‹°í‹°ì™€ ë§¤í•‘í•  ì—°ê²° í…Œì´ë¸”ì˜ ì¡°ì¸ ì»¬ëŸ¼     )     private List&lt;Product&gt; products = new ArrayList&lt;Product&gt;();     ...ìƒëµ... }  @Entity public class Product {     @Id @Column(name = \"PRODUCT_ID\")     private Long id;     ...ìƒëµ... }        6.4.2 ë‹¤ëŒ€ë‹¤: ì–‘ë°©í–¥   @Entity public class Member {      @Id @GeneratedValue     @Column(name = \"MEMBER_ID\")     private Long id;      @ManyToMany     @JoinTable(         name = \"MEMBER_PRODUCT\", // ì—°ê²° í…Œì´ë¸” ì§€ì •         joinColumn = @JoinColumn(name = \"MEMBER_ID\"), // í˜„ì¬ ì—”í‹°í‹°ì™€ ë§¤í•‘í•  ì—°ê²° í…Œì´ë¸”ì˜ ì¡°ì¸ ì»¬ëŸ¼         inverseJoinColumns = @JoinColumn(name = \"PRODUCT_ID\") // ìƒëŒ€ ì—”í‹°í‹°ì™€ ë§¤í•‘í•  ì—°ê²° í…Œì´ë¸”ì˜ ì¡°ì¸ ì»¬ëŸ¼     )     private List&lt;Product&gt; products = new ArrayList&lt;Product&gt;();     ...ìƒëµ... }  @Entity public class Product {     @Id @Column(name = \"PRODUCT_ID\")     private Long id;      @ManyToMany(mappedBy = \"products\") // ì—­ë°©í–¥ ì¶”ê°€     private List&lt;Member&gt; members;     ...ìƒëµ... }        6.4.3 ë‹¤ëŒ€ë‹¤: ë§¤í•‘ì˜ í•œê³„ì™€ ê·¹ë³µ, ì—°ê²° ì—”í‹°í‹° ì‚¬ìš©  ì—°ê²°í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ë¥¼ @IdClass ì‚¬ìš©í•œ ë³µí•© í‚¤ ì‚¬ìš© ì˜ˆì œë¼ì„œ ë„˜ê¹€.        6.4.4 ë‹¤ëŒ€ë‹¤: ìƒˆë¡œìš´ ê¸°ë³¸ í‚¤ ì‚¬ìš©     @ManyToManyëŠ” í¸ë¦¬í•˜ì§€ë§Œ, ì‹¤ë¬´ì—ì„œ ì‚¬ìš©í•˜ê¸°ì—ëŠ” í•œê³„ê°€ ìˆë‹¤.   ë³´í†µì€ ì—°ê²° í…Œì´ë¸”ì— ìƒˆë¡œìš´ ì»¬ëŸ¼ì´ ì¶”ê°€ë˜ê¸° ë§ˆë ¨ì´ë‹¤.   ê²°êµ­ ì—°ê²° í…Œì´ë¸”ì„ ë§¤í•‘í•˜ëŠ” ì—°ê²° ì—”í‹°í‹°ë¥¼ ë§Œë“¤ê³  ì¼ëŒ€ë‹¤, ë‹¤ëŒ€ì¼ ê´€ê³„ë¡œ í’€ì–´ì•¼ í•œë‹¤.   @Entity public class Member {      @Id @GeneratedValue     @Column(name = \"MEMBER_ID\")     private Long id;      @OneToMany(mappedBy = \"member\")     private List&lt;MemberProduct&gt; memberProducts;     ...ìƒëµ... }  @Entity public class Product {     @Id @Column(name = \"PRODUCT_ID\")     private Long id;      // ìƒí’ˆ ì—”í‹°í‹°ì—ì„œ íšŒì›ìƒí’ˆ ì—”í‹°í‹°ë¡œ ê°ì²´ ê·¸ë˜í”„ íƒìƒ‰ ê¸°ëŠ¥ì´ í•„ìš” ì—†ë‹¤ íŒë‹¨.     // ì—°ê´€ê´€ê³„ë¥¼ ë§Œë“¤ì§€ ì•Šì•˜ë‹¤.     // @OneToMany(mappedBy = \"product\")     // private List&lt;MemberProduct&gt; memberProducts = new ArrayList&lt;&gt;(); }  @Entity public class MemberProduct {      @Id @GeneratedValue     private Long id;      @ManyToOne     @JoinColumn(name = \"MEMBER_ID\")     private Member member;      @ManyToOne     @JoinColumn(name = \"PRODUCT_ID\")     private Product product; }        6.4.5 ë‹¤ëŒ€ë‹¤ ì—°ê´€ê´€ê³„ ì •ë¦¬     ë‹¤ëŒ€ë‹¤ ê´€ê³„ë¥¼ ì¼ëŒ€ë‹¤, ë‹¤ëŒ€ì¼ ê´€ê³„ë¡œ í’€ì–´ë‚¸ë‹¤.   ì—°ê²° í…Œì´ë¸”ì„ ë§Œë“¤ ë•Œ ì‹ë³„ìë¥¼ ì–´ë–»ê²Œ êµ¬ì„±í• ì§€ ì„ íƒí•œë‹¤.            ì‹ë³„ ê´€ê³„: ë°›ì•„ì˜¨ ì‹ë³„ìë¥¼ ê¸°ë³¸ í‚¤ + ì™¸ë˜ í‚¤ë¡œ ì‚¬ìš©í•œë‹¤.       ë¹„ì‹ë³„ ê´€ê³„: ë°›ì•„ì˜¨ ì‹ë³„ìëŠ” ì™¸ë˜ í‚¤ë¡œë§Œ ì‚¬ìš©í•˜ê³  ìƒˆë¡œìš´ ì‹ë³„ìë¥¼ ì¶”ê°€í•œë‹¤. ì¶”ì²œ ğŸ‘                      7. ê³ ê¸‰ ë§¤í•‘  ë‹¤ë£° ë‚´ìš©ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.     ìƒì† ê´€ê³„ ë§¤í•‘: ê°ì²´ì˜ ìƒì† ê´€ê³„ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì–´ë–»ê²Œ ë§¤í•‘í•˜ëŠ”ì§€   @MappedSuperclass: ë“±ë¡ì¼, ìˆ˜ì •ì¼ ê°™ì´ ì—¬ëŸ¬ ì—”í‹°í‹°ì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë§¤í•‘ ì •ë³´ë§Œ ìƒì†ë°›ê³  ì‹¶ì„ ë•Œ   ë³µí•© í‚¤ì™€ ì‹ë³„ ê´€ê³„ ë§¤í•‘: ë°ì´í„°ë² ì´ìŠ¤ì˜ ì‹ë³„ìê°€ í•˜ë‚˜ ì´ìƒì¼ ë•Œ ë§¤í•‘í•˜ëŠ” ë°©ë²•   ì¡°ì¸ í…Œì´ë¸”: ì—°ê²° í…Œì´ë¸”ì„ ë§¤í•‘í•˜ëŠ” ë°©ë²•   ì—”í‹°í‹° í•˜ë‚˜ì— ì—¬ëŸ¬ í…Œì´ë¸” ë§¤í•‘í•˜ëŠ” ë°©ë²•        7.1 ìƒì† ê´€ê³„ ë§¤í•‘        ìŠˆí¼íƒ€ì… ì„œë¸Œíƒ€ì… ë…¼ë¦¬ ëª¨ë¸ì„ í…Œì´ë¸”ë¡œ êµ¬í˜„í•˜ëŠ” 3ê°€ì§€ ë°©ë²•     ê°ê°ì˜ í…Œì´ë¸”ë¡œ ë³€í™˜: JPAì—ì„œëŠ” ì¡°ì¸ ì „ëµì´ë¼ í•œë‹¤.   í†µí•© í…Œì´ë¸”ë¡œ ë³€í™˜: JPAì—ì„œëŠ” ë‹¨ì¼ í…Œì´ë¸” ì „ëµì´ë¼ í•œë‹¤.   ì„œë¸Œíƒ€ì… í…Œì´ë¸”ë¡œ ë³€í™˜: JPAì—ì„œëŠ” êµ¬í˜„ í´ë˜ìŠ¤ë§ˆë‹¤ í…Œì´ë¸” ì „ëµì´ë¼ í•œë‹¤.        7.1.1 ì¡°ì¸ ì „ëµ  ì—”í‹°í‹° ê°ê°ì„ ëª¨ë‘ í…Œì´ë¸”ë¡œ ë§Œë“¤ê³  ìì‹ í…Œì´ë¸”ì´ ë¶€ëª¨ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ë¥¼ ë°›ì•„ì„œ ê¸°ë³¸ í‚¤ + ì™¸ë˜ í‚¤ë¡œ ì‚¬ìš©í•˜ëŠ” ì „ëµ    @Entity @Inheritance(strategy = InheritanceType.JOIN) // ë¶€ëª¨ í´ë˜ìŠ¤ì— ìƒì† ë§¤í•‘, ì „ëµ ì§€ì • @DiscriminatorColumn(name = \"DTYPE\") // ë¶€ëª¨ í´ë˜ìŠ¤ì— êµ¬ë¶„ ì»¬ëŸ¼ ì§€ì • public abstract class Item {      @Id @GeneratedValue     @Column(name = \"ITEM_ID\")     private Long id;      private String name; //ì´ë¦„     private int price;   //ê°€ê²© }  @Entity @DiscriminatorValue(\"A\") // ì—”í‹°í‹°ë¥¼ ì €ì¥í•  ë•Œ êµ¬ë¶„ ì»¬ëŸ¼ì— ì…ë ¥í•  ê°’ì„ ì§€ì • public class Album extends Item {      private String artist; }  @Entity @DiscriminatorValue(\"M\") public class Movie extends Item {      private String director;     private String actor; }  @Entity @DiscriminatorValue(\"B\") @PrimaryKeyJoinColumn(name = \"BOOK_ID\") // ê¸°ë³¸ í‚¤ ì»¬ëŸ¼ëª… ë³€ê²½, ê¸°ë³¸ê°’ì€ ë¶€ëª¨ í…Œì´ë¸” ID ì»¬ëŸ¼ëª… public class Book extends Item {      private String author;     private String isbn; }  ì¥ì      í…Œì´ë¸”ì´ ì •ê·œí™”ëœë‹¤.   ì™¸ë˜ í‚¤ ì°¸ì¡° ë¬´ê²°ì„± ì œì•½ì¡°ê±´ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤.   ì €ì¥ê³µê°„ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.   ë‹¨ì      ì¡°íšŒí•  ë•Œ ì¡°ì¸ì´ ë§ì´ ì‚¬ìš©ë˜ì–´ ì„±ëŠ¥ì´ ì €í•˜ë  ìˆ˜ ìˆë‹¤.   ì¡°íšŒ ì¿¼ë¦¬ê°€ ë³µì¡í•˜ë‹¤.   ë°ì´í„°ë¥¼ ë“±ë¡í•  ë•Œ INSERT SQLì´ ë‘ ë²ˆ ì‹¤í–‰ëœë‹¤.   íŠ¹ì§•     @DiscriminatorColumn ì—†ì´ë„ ë™ì‘í•  ìˆ˜ ìˆë‹¤.   ê´€ë ¨ ì–´ë…¸í…Œì´ì…˜     @PrimaryKeyJoinColumn, @DiscriminatorColumn, @DiscriminatorValue          7.1.2 ë‹¨ì¼ í…Œì´ë¸” ì „ëµ    @Entity @Inheritance(strategy = InheritanceType.SINGLE_TABLE) // ë¶€ëª¨ í´ë˜ìŠ¤ì— ìƒì† ë§¤í•‘, ì „ëµ ì§€ì • @DiscriminatorColumn(name = \"DTYPE\") // ë¶€ëª¨ í´ë˜ìŠ¤ì— êµ¬ë¶„ ì»¬ëŸ¼ ì§€ì • public abstract class Item {      @Id @GeneratedValue     @Column(name = \"ITEM_ID\")     private Long id;      private String name;     private int price; }  @Entity @DiscriminatorValue(\"A\") public class Album extends Item {...}  @Entity @DiscriminatorValue(\"M\") public class Movie extends Item {...}  @Entity @DiscriminatorValue(\"B\") public class Book extends Item {...}   ì¥ì      ì¡°ì¸ì´ í•„ìš” ì—†ìœ¼ë¯€ë¡œ ì¡°íšŒ ì„±ëŠ¥ì´ ë¹ ë¥´ë‹¤.   ì¡°íšŒ ì¿¼ë¦¬ê°€ ë‹¨ìˆœí•˜ë‹¤.   ë‹¨ì      ìì‹ ì—”í‹°í‹°ê°€ ë§¤í•‘í•œ ì»¬ëŸ¼ì€ ëª¨ë‘ nullì„ í—ˆìš©í•´ì•¼ í•œë‹¤.   ë‹¨ì¼ í…Œì´ë¸”ì— ëª¨ë“  ê²ƒì„ ì €ì¥í•˜ë¯€ë¡œ í…Œì´ë¸”ì´ ì»¤ì§ˆ ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ìƒí™©ì— ë”°ë¼ì„œëŠ” ì¡°íšŒ ì„±ëŠ¥ì´ ì˜¤íˆë ¤ ëŠë ¤ì§ˆ ìˆ˜ ìˆë‹¤.   íŠ¹ì§•     @DiscriminatorColumnì„ ê¼­ ì„¤ì •í•´ì•¼ í•œë‹¤.   @DiscriminatorValueë¥¼ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ìœ¼ë¡œ ì—”í‹°í‹° ì´ë¦„ì„ ì‚¬ìš©í•œë‹¤.         7.1.3 êµ¬í˜„ í´ë˜ìŠ¤ë§ˆë‹¤ í…Œì´ë¸” ì „ëµ    @Entity @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS) @DiscriminatorColumn(name = \"DTYPE\") public abstract class Item {      @Id @GeneratedValue     @Column(name = \"ITEM_ID\")     private Long id;      private String name;     private int price; }  @Entity @DiscriminatorValue(\"A\") public class Album extends Item {...}  @Entity @DiscriminatorValue(\"M\") public class Movie extends Item {...}  @Entity @DiscriminatorValue(\"B\") public class Book extends Item {...}   ì¼ë°˜ì ìœ¼ë¡œ ì¶”ì²œí•˜ì§€ ì•ŠëŠ” ì „ëµì´ë‹¤.   ì¥ì      ì„œë¸Œ íƒ€ì…ì„ êµ¬ë¶„í•´ì„œ ì²˜ë¦¬í•  ë•Œ íš¨ê³¼ì ì´ë‹¤.   not null ì œì•½ ì¡°ê±´ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.   ë‹¨ì      ì—¬ëŸ¬ ìì‹ í…Œì´ë¸”ì„ í•¨ê»˜ ì¡°íšŒí•  ë•Œ ì„±ëŠ¥ì´ ëŠë¦¬ë‹¤. (UNIONì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤)   ìì‹ í…Œì´ë¸”ì„ í†µí•©í•´ì„œ ì¿¼ë¦¬í•˜ê¸° ì–´ë µë‹¤.   íŠ¹ì§•     êµ¬ë¶„ ì»¬ëŸ¼ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.          7.2 @MappedSuperclass  ë¶€ëª¨ í´ë˜ìŠ¤ëŠ” í…Œì´ë¸”ê³¼ ë§¤í•‘í•˜ì§€ ì•Šê³  ìì‹ í´ë˜ìŠ¤ì—ê²Œ ë§¤í•‘ ì •ë³´ë§Œ ì œê³µí•˜ê³  ì‹¶ìœ¼ë©´ @MappedSuperclassì„ ì‚¬ìš©í•œë‹¤.     // ê³µí†µ ë§¤í•‘ ì •ë³´ ì •ì˜ @MappedSuperclass public abstract class BaseEntity {      @Id @GeneratedValue     private Long id;     private String name; }  @Entity public class Member extends BaseEntity {     private String email; } @Entity public class Seller extends BaseEntity {     private String shopName; }      ì—°ê´€ê´€ê³„ë¥¼ ì¬ì •ì˜ í•˜ë ¤ë©´ @AssociationOverrides, @AssociationOverride ì‚¬ìš©í•œë‹¤.   ë¶€ëª¨ë¡œë¶€í„° ë¬¼ë ¤ë°›ì€ ë§¤í•‘ ì •ë³´ë¥¼ ì¬ì •ì˜ í•˜ë ¤ë©´ @AttributeOverrides, @AttributeOverride ì‚¬ìš©í•œë‹¤.   // ë§¤í•‘ ì •ë³´ ì¬ì •ì˜ // ë¶€ëª¨ì—ê²Œ ìƒì†ë°›ì€ id ì†ì„±ì˜ ì»¬ëŸ¼ëª…ì„ MEMBER_IDë¡œ ì¬ì •ì˜ @Entity @AttributeOverride(name = \"id\", column = @Column(name = \"MEMBER_ID\")) public class Member extends BaseEntity {     private String email; }  // ë‘˜ ì´ìƒì˜ ë§¤í•‘ ì •ë³´ ì¬ì •ì˜ @Entity @AttributeOverrides({     @AttributeOverride(name = \"id\", column = @Column(name = \"MEMBER_ID\")),     @AttributeOverride(name = \"name\", column = @Column(name = \"MEMBER_NAME\")) }) public class Member extends BaseEntity {     private String email; }      @MappedSuperclass íŠ¹ì§•     í…Œì´ë¸”ê³¼ ë§¤í•‘ë˜ì§€ ì•ŠëŠ”ë‹¤.   ìì‹ í´ë˜ìŠ¤ì—ê²Œ ì—”í‹°í‹°ì˜ ë§¤í•‘ ì •ë³´ë¥¼ ìƒì†í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.   ì—”í‹°í‹°ê°€ ì•„ë‹ˆë¯€ë¡œ em.find(), JPQLì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.   ì§ì ‘ ìƒì„±í•´ì„œ ì‚¬ìš©í•  ì¼ì´ ê±°ì˜ ì—†ìœ¼ë¯€ë¡œ ì¶”ìƒ í´ë˜ìŠ¤ë¡œ ë§Œë“œëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤.   ë“±ë¡ì¼ì, ìˆ˜ì •ì¼ì, ë“±ë¡ì, ìˆ˜ì •ì ê°™ì€ ê³¹ì˜¤ ì†ì„±ì„ íš¨ê³¼ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.          7.3 ë³µí•© í‚¤ì™€ ì‹ë³„ ê´€ê³„ ë§¤í•‘  ë³µí•© í‚¤ë¥¼ ë§¤í•‘í•˜ëŠ” ë°©ë²•ê³¼ ì‹ë³„ ê´€ê³„, ë¹„ì‹ë³„ ê´€ê³„ë¥¼ ë§¤í•‘í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³¸ë‹¤.      7.3.1 ì‹ë³„ ê´€ê³„ vs ë¹„ì‹ë³„ ê´€ê³„  ì‹ë³„ ê´€ê³„  ë¶€ëª¨ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ë¥¼ ë‚´ë ¤ë°›ì•„ì„œ ìì‹ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ + ì™¸ë˜ í‚¤ë¡œ ì‚¬ìš©í•˜ëŠ” ê´€ê³„ë‹¤.       ë¹„ì‹ë³„ ê´€ê³„  ë¶€ëª¨ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ë¥¼ ë°›ì•„ì„œ ìì‹ í…Œì´ë¸”ì˜ ì™¸ë˜ í‚¤ë¡œë§Œ ì‚¬ìš©í•˜ëŠ” ê´€ê³„ë‹¤.      í•„ìˆ˜ì  ë¹„ì‹ë³„ ê´€ê³„(Mandatory): ì™¸ë˜ í‚¤ì— nullì„ í—ˆìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. ì—°ê´€ê´€ê³„ë¥¼ í•„ìˆ˜ì ìœ¼ë¡œ ë§ºì–´ì•¼ í•œë‹¤.   ì„ íƒì  ë¹„ì‹ë³„ ê´€ê³„(Optional): ì™¸ë˜ í‚¤ì— nullì„ í—ˆìš©í•œë‹¤. ì—°ê´€ê´€ê³„ë¥¼ ë§ºì„ì§€ ë§ì§€ ì„ íƒí•  ìˆ˜ ìˆë‹¤.    ì°¸ê³   ìµœê·¼ì—ëŠ” ë¹„ì‹ë³„ ê´€ê³„ë¥¼ ì£¼ë¡œ ì‚¬ìš©í•˜ê³  ê¼­ í•„ìš”í•œ ê³³ì—ë§Œ ì‹ë³„ ê´€ê³„ë¥¼ ì‚¬ìš©í•˜ëŠ” ì¶”ì„¸         7.3.2 ë³µí•© í‚¤: ë¹„ì‹ë³„ ê´€ê³„ ë§¤í•‘  JPAëŠ” ë³µí•© í‚¤ë¥¼ ì§€ì›í•˜ê¸° ìœ„í•´ ë‹¤ìŒ 2ê°€ì§€ ë°©ë²•ì„ ì œê³µí•œë‹¤.     @IdClass: ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì— ê°€ê¹Œìš´ ë°©ë²•   @EmbeddedId: ê°ì²´ì§€í–¥ì— ê°€ê¹Œìš´ ë°©ë²•      @IdClass    @Entity @IdClass(ParentId.class) public class Parent {      @Id     @Column(name = \"PARENT_ID1\")     private String id1;      @Id     @Column(name = \"PARENT_ID2\")     private String id1; }  public class ParentId implements Serializable {     private String id1;     private String id2;      public ParentId() {}      ...      @Override     public boolean equals (Object o) {...}      @Override     public int hashCode() {...} }   @IdClassë¥¼ ì‚¬ìš©í•  ë•Œ ì‹ë³„ì í´ë˜ìŠ¤ëŠ” ë‹¤ìŒ ì¡°ê±´ì„ ë§Œì¡±í•´ì•¼ í•œë‹¤.     ì‹ë³„ì í´ë˜ìŠ¤ì˜ ì†ì„±ëª…ê³¼ ì—”í‹°í‹°ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì‹ë³„ìì˜ ì†ì„±ëª…ì´ ê°™ì•„ì•¼ í•œë‹¤.   Serializable ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤.   equals, hashCodeë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤.   ê¸°ë³¸ ìƒì„±ìê°€ ìˆì–´ì•¼ í•œë‹¤.   ì‹ë³„ì í´ë˜ìŠ¤ëŠ” publicì´ì–´ì•¼ í•œë‹¤.      ì‚¬ìš©ë°©ë²•  // ì €ì¥ Parent parent = new Parent(); parent.setId1(\"1\"); parent.setId2(\"2\");  em.persist(parent);  // ì¡°íšŒ ParentId parentId = new ParentId(\"1\",\"2\"); Parent parent = em.find(Parent.class, parentId);      ìì‹ í´ë˜ìŠ¤  ìì‹ í…Œì´ë¸”ì—ì„œ ì™¸ë˜ í‚¤ ë§¤í•‘ ë°©ë²•  @Entity public class Child {      @Id     private String id;      @ManyToOne     @JoinColumns({         @JoinColumn(name = \"PARENT_ID1\", referencedColumnName = \"PARENT_ID1\"),         @JoinColumn(name = \"PARENT_ID2\", referencedColumnName = \"PARENT_ID2\")     })     private Parent parent; }          @EmbeddedId  @Entity public class Parent {      @EmbeddedId     private ParentId id; }  @Embeddable public class ParentId implements Serializable {      @Column(name = \"PARENT_ID1\")     private String id1;     @Column(name = \"PARENT_ID2\")     private String id2;      public ParentId() {}      ...      @Override     public boolean equals (Object o) {...}      @Override     public int hashCode() {...} }   @EmbeddedIdë¥¼ ì‚¬ìš©í•  ë•Œ ì‹ë³„ì í´ë˜ìŠ¤ëŠ” ë‹¤ìŒ ì¡°ê±´ì„ ë§Œì¡±í•´ì•¼ í•œë‹¤.     @Embeddable ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì—¬ì£¼ì–´ì•¼ í•œë‹¤.   Serializable ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤.   equals, hashCodeë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤.   ê¸°ë³¸ ìƒì„±ìê°€ ìˆì–´ì•¼ í•œë‹¤.   ì‹ë³„ì í´ë˜ìŠ¤ëŠ” publicì´ì–´ì•¼ í•œë‹¤.      ì‚¬ìš©ë°©ë²•  // ì €ì¥ Parent parent = new Parent(); ParentId parentId = new ParentId(\"1\",\"2\"); parent.setId(parentId);  em.persist(parent);  // ì¡°íšŒ ParentId parentId = new ParentId(\"1\",\"2\"); Parent parent = em.find(Parent.class, parentId);        @IdClass vs @EmbeddedId     @IdClass: ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì— ê°€ê¹Œìš´ ë°©ë²•   @EmbeddedId: ê°ì²´ì§€í–¥ì— ê°€ê¹Œìš´ ë°©ë²•   // JPQL em.createQuery(\"select p.id.id1, p.id.id2 from Parent p\"); // @EmbeddedId em.createQuery(\"select p.id1, p.id2 from Parent p\"); // @IdClass    ì°¸ê³   ë³µí•© í‚¤ì—ëŠ” @GenerateValueë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ë³µí•© í‚¤ë¥¼ êµ¬ì„±í•˜ëŠ” ì—¬ëŸ¬ ì»¬ëŸ¼ì¤‘ í•˜ë‚˜ì—ë„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.           7.3.3 ë³µí•© í‚¤: ì‹ë³„ ê´€ê³„ ë§¤í•‘    // ë¶€ëª¨ @Entity public class Parent {      @Id     @Column(name = \"PARENT_ID\")     private String id; }  // ìì‹ @Entity @IdClass(ChildId.class) public class Child {      @Id     @ManyToOne     @JoinColumn(name = \"PARENT_ID\")     private Parent parent;      @Id @Column(name = \"CHILD_ID\")     private String childId; }  // ìì‹ ID public class ChildId implements Serializable {          private String parent;     private String childId;     ...ìƒëµ... }  // ì†ì @Entity @IdClass(GrandChildId.class) public class GrandChild {      @Id     @ManyToOne     @JoinColumns({         @JoinColumn(name = \"PARENT_ID\"),         @JoinColumn(name = \"CHILD_ID\")     })     private Child child;      @Id @Column(name = \"GRANDCHILD_ID\")     private String id; }  // ì†ì ID public class GrandChildId implements Serializable {          private ChildId child;     private String id;     ...ìƒëµ... }        @EmbeddedIdì™€ ì‹ë³„ ê´€ê³„  // ë¶€ëª¨ @Entity public class Parent {      @Id     @Column(name = \"PARENT_ID\")     private String id; }  // ìì‹ @Entity public class Child {      @EmbeddedId     private ChildId id;      @MapsId(\"parentId\")     @ManyToOne     @JoinColumn(name = \"PARENT_ID\")     private Parent parent; }  // ìì‹ ID @Embeddable public class ChildId implements Serializable {          private String parentId; // @MapsId(\"parentId\")ë¡œ ë§¤í•‘          @Column(name = \"CHILD_ID\")     private String id;     ...ìƒëµ... }  // ì†ì @Entity public class GrandChild {      @EmbeddedId     private GrandChildId id;      @MapsId(\"childId\")     @ManyToOne     @JoinColumns({         @JoinColumn(name = \"PARENT_ID\"),         @JoinColumn(name = \"CHILD_ID\")     })     private Child child; }  // ì†ì ID @Embeddable public class GrandChildId implements Serializable {          private ChildId childId; // @MapsId(\"childId\")ë¡œ ë§¤í•‘          @Column(name = \"GRANDCHILD_ID\")     private String id;     ...ìƒëµ... }         7.3.4 ë¹„ì‹ë³„ ê´€ê³„ë¡œ êµ¬í˜„    // ë¶€ëª¨ @Entity public class Parent {      @Id @GeneratedValue     @Column(name = \"PARENT_ID\")     private Long id; }  // ìì‹ @Entity public class Child {      @Id @GeneratedValue     @Column(name = \"CHILD_ID\")     private Long id;      @ManyToOne     @JoinColumn(name = \"PARENT_ID\")     private Parent parent; }  // ì†ì @Entity public class GrandChild {      @Id @GeneratedValue     @Column(name = \"GRANDCHILD_ID\")     private Long id;      @ManyToOne     @JoinColumn(name = \"CHILD_ID\")     private Child child; }  ì‹ë³„ ê´€ê³„ì˜ ë³µí•© í‚¤ë¥¼ ì‚¬ìš©í•œ ì½”ë“œì™€ ë¹„êµí•˜ë©´ ë§¤í•‘ë„ ì‰½ê³  ì½”ë“œë„ ë‹¨ìˆœí•˜ë‹¤.        7.3.5 ì¼ëŒ€ì¼ ì‹ë³„ ê´€ê³„    ì¼ëŒ€ì¼ ì‹ë³„ ê´€ê³„ëŠ” ìì‹ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ ê°’ìœ¼ë¡œ ë¶€ëª¨ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ ê°’ë§Œ ì‚¬ìš©í•œë‹¤.   // ë¶€ëª¨ @Entity public class Board {      @Id @GeneratedValue     @Column(name = \"BOARD_ID\")     private Long id;      @OneToOne(mappedBy = \"board\")     private BoardDetail boardDetail; }  @Entity public class BoardDetail {      @Id     private Long boardId;      // ì‹ë³„ìê°€ ë‹¨ìˆœíˆ ì»¬ëŸ¼ í•˜ë‚˜ë©´ @MapsIdë¥¼ ì‚¬ìš©í•˜ê³  ì†ì„± ê°’ì€ ë¹„ì›Œë‘ë©´ ëœë‹¤.     @MapsId // BoardDetail.boardId ë§¤í•‘     @OneToOne     @JoinColumn(name = \"BOARD_ID\")     private Board board; }      ì‚¬ìš©ë°©ë²•  Board board = new Board(); em.persist(board);  BoardDetail boardDetail = new BoardDetail(); boardDetail.setBoard(board); em.persist(boardDetail);        7.3.6 ì‹ë³„, ë¹„ì‹ë³„ ê´€ê³„ì˜ ì¥ë‹¨ì    ì‹ë³„ ê´€ê³„ ì¥ì      íŠ¹ì • ìƒí™©ì—ì„œ ì¡°ì¸ ì—†ì´ í•˜ìœ„ í…Œì´ë¸”ë§Œìœ¼ë¡œ ê²€ìƒ‰í•  ìˆ˜ ìˆë‹¤.   ì‹ë³„ ê´€ê³„ ë‹¨ì      ì‹ë³„ ê´€ê³„ëŠ” ë¶€ëª¨ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ë¥¼ ìì‹ í…Œì´ë¸”ë¡œ ì „íŒŒí•˜ë©´ì„œ ìì‹ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ ì»¬ëŸ¼ì´ ì ì  ëŠ˜ì–´ë‚œë‹¤.            SQLë³µì¡, ê¸°ë³¸ í‚¤ ì¸ë±ìŠ¤ê°€ ì»¤ì§           ì‹ë³„ ê´€ê³„ëŠ” ë³µí•© ê¸°ë³¸ í‚¤ë¥¼ ë§Œë“¤ì–´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.   ì‹ë³„ ê´€ê³„ë¥¼ ì‚¬ìš©í•  ë•Œ ê¸°ë³¸ í‚¤ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ì˜ë¯¸ê°€ ìˆëŠ” ìì—° í‚¤ ì»¬ëŸ¼ì„ ì¡°í•© í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.            ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­ì€ ì–¸ì œë‚˜ ë³€í•  ìˆ˜ ìˆë‹¤.           ì‹ë³„ ê´€ê³„ëŠ” í…Œì´ë¸” êµ¬ì¡°ê°€ ìœ ì—°í•˜ì§€ ëª»í•˜ë‹¤.   ì‹ë³„ ê´€ê³„ëŠ” ì¼ëŒ€ì¼ ê´€ê³„ë¥¼ ì œì™¸í•˜ê³  ë³„ë„ì˜ ë³µí•© í‚¤ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤.            ê¸°ë³¸ í‚¤ ë§¤í•‘ì— ë§ì€ ë…¸ë ¥ì´ í•„ìš”í•˜ë‹¤.              ë¹„ì‹ë³„ ê´€ê³„ ì¥ì      @GenerateValueì²˜ëŸ¼ í¸ë¦¬í•œ ëŒ€ë¦¬ í‚¤ ìƒì„± ë°©ë²• ì‚¬ìš© ê°€ëŠ¥   ì‹ë³„ì ì»¬ëŸ¼ì´ í•˜ë‚˜ì—¬ì„œ ë§¤í•‘ì´ ì‰½ë‹¤.   ë¹„ì‹ë³„ ê´€ê³„ ë‹¨ì      JPQL ì¡°íšŒì‹œ ê¸¸ì–´ì§ˆ ìˆ˜ ìˆë‹¤.       ê²°ë¡   ë¹„ì‹ë³„ ê´€ê³„ë¥¼ ì‚¬ìš©í•˜ê³  ê¸°ë³¸ í‚¤ëŠ” Long íƒ€ì…ì˜ ëŒ€ë¦¬ í‚¤ë¥¼ ì‚¬ìš©í•œë‹¤.           7.4 ì¡°ì¸ í…Œì´ë¸”  ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì˜ ì—°ê´€ê´€ê³„ë¥¼ ì„¤ê³„í•˜ëŠ” ë°©ë²•ì€ í¬ê²Œ 2ê°€ì§€ë‹¤.   ì¡°ì¸ ì»¬ëŸ¼         ì¡°ì¸ í…Œì´ë¸”     ì¶”ì²œ ë°©ë²•  ê¸°ë³¸ì€ ì¡°ì¸ ì»¬ëŸ¼ì„ ì‚¬ìš©í•˜ê³  í•„ìš”í•˜ë‹¤ê³  íŒë‹¨ë˜ë©´ ì¡°ì¸ í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ì.           7.4.1 ì¼ëŒ€ì¼ ì¡°ì¸ í…Œì´ë¸”    // ë¶€ëª¨ @Entity public class Parent {      @Id @GeneratedValue     @Column(name = \"PARENT_ID\")     private Long id;       @OneToOne     @JoinTable(         name = \"PARENT_CHILD\",         joinColumn = @JoinColumn(name = \"PARENT_ID\"),         inverseJoinColumns = @JoinColumn(name = \"CHILD_ID\")     )     private Child child; }  // ìì‹ @Entity public class Child {      @Id @GeneratedValue     @Column(name = \"CHILD_ID\")     private Long id;      // ì–‘ë°©í–¥ìœ¼ë¡œ ë§¤í•‘í•˜ë ¤ë©´ ë‹¤ìŒ ì½”ë“œë¥¼ ì¶”ê°€í•œë‹¤.     // @OneToOne(mappedBy = \"child\")     // private Parent parent; }        7.4.2 ì¼ëŒ€ë‹¤ ì¡°ì¸ í…Œì´ë¸”    // ë¶€ëª¨ @Entity public class Parent {      @Id @GeneratedValue     @Column(name = \"PARENT_ID\")     private Long id;      @OneToMany     @JoinTable(         name = \"PARENT_CHILD\",         joinColumn = @JoinColumn(name = \"PARENT_ID\"),         inverseJoinColumns = @JoinColumn(name = \"CHILD_ID\")     )     private List&lt;Child&gt; child = new ArrayList&lt;Child&gt;(); }  // ìì‹ @Entity public class Child {      @Id @GeneratedValue     @Column(name = \"CHILD_ID\")     private Long id; }        7.4.2 ë‹¤ëŒ€ì¼ ì¡°ì¸ í…Œì´ë¸”   // ë¶€ëª¨ @Entity public class Parent {      @Id @GeneratedValue     @Column(name = \"PARENT_ID\")     private Long id;      @OneToMany(mappedBy = \"parent\")     private List&lt;Child&gt; child = new ArrayList&lt;Child&gt;(); }  // ìì‹ @Entity public class Child {      @Id @GeneratedValue     @Column(name = \"CHILD_ID\")     private Long id;      @ManyToOne     @JoinTable(         name = \"PARENT_CHILD\",         joinColumn = @JoinColumn(name = \"CHILD_ID\"),         inverseJoinColumns = @JoinColumn(name = \"PARENT_ID\")     )     private Parent parent; }        7.4.4 ë‹¤ëŒ€ë‹¤ ì¡°ì¸ í…Œì´ë¸”   // ë¶€ëª¨ @Entity public class Parent {      @Id @GeneratedValue     @Column(name = \"PARENT_ID\")     private Long id;      @ManyToMany     @JoinTable(         name = \"PARENT_CHILD\",         joinColumn = @JoinColumn(name = \"PARENT_ID\"),         inverseJoinColumns = @JoinColumn(name = \"CHILD_ID\")     )     private List&lt;Child&gt; child = new ArrayList&lt;Child&gt;(); }  // ìì‹ @Entity public class Child {      @Id @GeneratedValue     @Column(name = \"CHILD_ID\")     private Long id; }          7.5 ì—”í‹°í‹° í•˜ë‚˜ì— ì—¬ëŸ¬ í…Œì´ë¸” ë§¤í•‘  @SecondaryTableì„ ì‚¬ìš©í•˜ë©´ í•œ ì—”í‹°í‹°ì— ì—¬ëŸ¬ í…Œì´ë¸”ì„ ë§¤í•‘í•  ìˆ˜ ìˆë‹¤.     @Entity @Table(name=\"BOARD\") @SecondaryTable(      name = \"BOARD_DETAIL\",     pkJoinColumns = @PrimaryKeyJoinColumn(name = \"BOARD_DETAIL_ID\") ) public class Board {          @Id @GeneratedValue     @Column(name = \"BOARD_ID\")     private Long id;      private String title;      @Column(name = \"BOARD_DETAIL\")     private String content; }      @SecondaryTable.name: ë§¤í•‘í•  ë‹¤ë¥¸ í…Œì´ë¸” ì´ë¦„   @SecondaryTable.pkJoinColumns: ë§¤í•‘í•  ë‹¤ë¥¸ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ ì»¬ëŸ¼ ì†ì„±   // ì—¬ëŸ¬ê°œ ê°€ëŠ¥ @SecondaryTables({     @SecondaryTable(name=\"BOARD_DETAIL\"),     @SecondaryTable(name=\"BOARD_FILE\") })  @SecondaryTableì„ ì‚¬ìš©í•˜ëŠ” ê²ƒë³´ë‹¨ í…Œì´ë¸”ë‹¹ ì—”í‹°í‹°ë¥¼ ê°ê° ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤.               8. í”„ë¡ì‹œì™€ ì—°ê´€ê´€ê³„ ê´€ë¦¬     í”„ë¡ì‹œì™€ ì¦‰ì‹œë¡œë”©, ì§€ì—°ë¡œë”©   ì˜ì†ì„± ì „ì´ì™€ ê³ ì•„ ê°ì²´   8.1 í”„ë¡ì‹œ     ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•  ë•Œ ì—°ê´€ëœ ì—”í‹°í‹°ë“¤ì´ í•­ìƒ ì‚¬ìš©ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.   ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì—”í‹°í‹°ë¥¼ í•¨ê»˜ ì¡°íšŒí•´ ë‘ëŠ” ê²ƒì€ íš¨ìœ¨ì ì´ì§€ ì•Šë‹¤.   JPAëŠ” ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ê³  ì§€ì—° ë¡œë”©ì„ ì œê³µí•œë‹¤.   ì§€ì—° ë¡œë”©ì´ë€ ì‹¤ì œ ì‚¬ìš©í•˜ëŠ” ì‹œì ì— ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°íšŒí•˜ëŠ” ê²ƒì´ë‹¤.   ì§€ì—° ë¡œë”© ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ ì‹¤ì œ ì—”í‹°í‹° ê°ì²´ ëŒ€ì‹ ì— ê°€ì§œ ê°ì²´ê°€ í•„ìš”í•œë° ì´ê²ƒì„ í”„ë¡ì‹œ ê°ì²´ë¼ í•œë‹¤.      8.1.1 í”„ë¡ì‹œ ê¸°ì´ˆ  í”„ë¡ì‹œì˜ íŠ¹ì§•       í”„ë¡ì‹œ í´ë˜ìŠ¤ëŠ” ì‹¤ì œ í´ë˜ìŠ¤ë¥¼ ìƒì† ë°›ì•„ì„œ ë§Œë“¤ì–´ì§„ë‹¤.   ë”°ë¼ì„œ ì‚¬ìš©í•˜ëŠ” ì…ì¥ì—ì„œëŠ” ì´ê²ƒì´ ì§„ì§œ ê°ì²´ì¸ì§€ í”„ë¡ì‹œ ê°ì²´ì¸ì§€ êµ¬ë¶„í•˜ì§€ ì•Šê³  ì‚¬ìš©í•˜ë©´ ëœë‹¤.   í”„ë¡ì‹œ ê°ì²´ëŠ” ì‹¤ì œ ê°ì²´ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ë³´ê´€í•œë‹¤.   í”„ë¡ì‹œ ê°ì²´ì˜ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ë©´, í”„ë¡ì‹œ ê°ì²´ëŠ” ì‹¤ì œ ê°ì²´ì˜ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•œë‹¤.   í”„ë¡ì‹œ ê°ì²´ëŠ” ì²˜ìŒ ì‚¬ìš©í•  ë•Œ í•œ ë²ˆë§Œ ì´ˆê¸°í™” í•œë‹¤.      í”„ë¡ì‹œ ê°ì²´ì˜ ì´ˆê¸°í™”       í”„ë¡ì‹œ ê°ì²´ëŠ” ì‹¤ì œ ì‚¬ìš©ë  ë•Œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°íšŒí•´ì„œ ì‹¤ì œ ì—”í‹°í‹° ê°ì²´ë¥¼ ìƒì„±í•œë‹¤.   ì´ë¥¼ í”„ë¡ì‹œ ê°ì²´ì˜ ì´ˆê¸°í™”ë¼ í•œë‹¤.      ì¤€ì˜ì† ìƒíƒœì™€ ì´ˆê¸°í™”  // em.getReference()ë¥¼ í˜¸ì¶œí•˜ë©´ ì—”í‹°í‹°ë¥¼ ì‹¤ì œ ì‚¬ìš©í•˜ëŠ” ì‹œì ê¹Œì§€ ë°ì´í„°ë² ì´ìŠ¤ ì¡°íšŒë¥¼ ë¯¸ë£¬ë‹¤. // MemberProxy ë°˜í™˜ Member member = em.getReference(Member.class, \"id1\");  tx.commit(); em.close(); // ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì¢…ë£Œ member.getName(); // ì¤€ì˜ì† ìƒíƒœì—ì„œ ì´ˆê¸°í™” ì‹œë„                   // org.hibernate.LazyInitializationException ë°œìƒ        8.1.2 í”„ë¡ì‹œì™€ ì‹ë³„ì  ì—”í‹°í‹°ë¥¼ í”„ë¡ì‹œë¡œ ì¡°íšŒí•  ë•Œ ì‹ë³„ì(PK) ê°’ì„ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•˜ëŠ”ë° í”„ë¡ì‹œ ê°ì²´ëŠ” ì´ ì‹ë³„ì ê°’ì„ ë³´ê´€í•œë‹¤.   Team team = em.getReference(Team.class, \"team1\"); // ì‹ë³„ì ë³´ê´€ team.getId(); // ì´ˆê¸°í™”ë˜ì§€ ì•ŠìŒ  ë‹¨ @Access(AccessType.PROPERTY)ì¼ ë•Œë§Œ ìœ„ì²˜ëŸ¼ ë™ì‘í•˜ê³ , @Access(AccessType.FIELD)ë¡œ ì„¤ì •í•˜ë©´ í”„ë¡ì‹œ ê°ì²´ë¥¼ ì´ˆê¸°í™” í•œë‹¤.        8.1.3 í”„ë¡ì‹œ í™•ì¸  JPAê°€ ì œê³µí•˜ëŠ” PersistenceUnitUtil.isLoaded(Object entity) ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ í”„ë¡ì‹œ ì¸ìŠ¤í„´ìŠ¤ì˜ ì´ˆê¸°í™” ì—¬ë¶€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.   boolean isLoad = em.getEntityManagerFactory()                 .getPersistenceUnitUtil().isLoaded(entity);          8.2 ì¦‰ì‹œ ë¡œë”©ê³¼ ì§€ì—° ë¡œë”©  JPAëŠ” ê°œë°œìê°€ ì—°ê´€ëœ ì—”í‹°í‹°ì˜ ì¡°íšŒ ì‹œì ì„ ì„ íƒí•  ìˆ˜ ìˆë„ë¡ ë‹¤ìŒ ë‘ ê°€ì§€ ë°©ë²•ì„ ì œê³µí•œë‹¤.     ì¦‰ì‹œ ë¡œë”©: ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•  ë•Œ ì—°ê´€ëœ ì—”í‹°í‹°ë„ í•¨ê»˜ ì¡°íšŒí•œë‹¤.            ì„¤ì • ë°©ë²•: @ManyToOne(fetch = FetchType.EAGER)           ì§€ì—° ë¡œë”©: ì—°ê´€ëœ ì—”í‹°í‹°ë¥¼ ì‹¤ì œ ì‚¬ìš©í•  ë•Œ ì¡°íšŒí•œë‹¤.            ì„¤ì • ë°©ë²•: @ManyToOne(fetch = FetchType.LAZY)                8.2.1 ì¦‰ì‹œ ë¡œë”©  ì¦‰ì‹œ ë¡œë”©ì„ ì‚¬ìš©í•˜ë ¤ë©´ @ManyToOne(fetch = FetchType.EAGER)ë¡œ ì§€ì •í•œë‹¤.  @Entity public class Member {     ...ìƒëµ...     @ManyToOne(fetch = FetchType.EAGER)     @JoinColumn(name = \"TEAM_ID\")     private Team team;     ...ìƒëµ... }        8.2.2 ì§€ì—° ë¡œë”©  ì§€ì—° ë¡œë”©ì„ ì‚¬ìš©í•˜ë ¤ë©´ @ManyToOne(fetch = FetchType.LAZY)ë¡œ ì§€ì •í•œë‹¤. ì§€ì—° ë¡œë”©ì€ í”„ë¡ì‹œ ê°ì²´ë¥¼ ì´ìš©í•œë‹¤.   @Entity public class Member {     ...ìƒëµ...     @ManyToOne(fetch = FetchType.LAZY)     @JoinColumn(name = \"TEAM_ID\")     private Team team;     ...ìƒëµ... }  ì°¸ê³   ì¡°íšŒ ëŒ€ìƒì´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì´ë¯¸ ìˆìœ¼ë©´ í”„ë¡ì‹œ ê°ì²´ë¥¼ ì‚¬ìš©í•  ì´ìœ ê°€ ì—†ë‹¤. ë”°ë¼ì„œ ì‹¤ì œ ê°ì²´ë¥¼ ì‚¬ìš©í•œë‹¤.      8.2.3 ì¦‰ì‹œ ë¡œë”©, ì§€ì—° ë¡œë”© ì •ë¦¬     ì§€ì—° ë¡œë”©: ì—°ê´€ëœ ì—”í‹°í‹°ë¥¼ í”„ë¡ì‹œë¡œ ì¡°íšŒí•œë‹¤. í”„ë¡ì‹œë¥¼ ì‹¤ì œ ì‚¬ìš©í•  ë•Œ ì´ˆê¸°í™”í•˜ë©´ì„œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°íšŒí•œë‹¤.   ì¦‰ì‹œ ë¡œë”©: ì—°ê´€ëœ ì—”í‹°í‹°ë¥¼ ì¦‰ì‹œ ì¡°íšŒí•œë‹¤. í•˜ì´ë²„ë„¤ì´íŠ¸ëŠ” ê°€ëŠ¥í•˜ë©´ SQL ì¡°ì¸ì„ ì‚¬ìš©í•´ì„œ í•œ ë²ˆì— ì¡°íšŒí•œë‹¤.          8.3 ì§€ì—° ë¡œë”© í™œìš©  ì—°ê´€ëœ ì—”í‹°í‹°ê°€ ìì£¼ í•¨ê»˜ ì‚¬ìš©ë˜ëŠ”ì§€ ì•„ë‹Œì§€ì— ë”°ë¼ ì¦‰ì‹œ ë¡œë”©, ì§€ì—° ë¡œë”©ì„ ê²°ì •í•œë‹¤.   8.3.1 í”„ë¡ì‹œì™€ ì»¬ë ‰ì…˜ ë˜í¼  ì»¬ë ‰ì…˜ì˜ ì§€ì—° ë¡œë”©  Member member = em.find(Member.class, \"member1\"); List&lt;Order&gt; = member.getOrders(); System.out.println(orders.getClass().getName());   // ì¶œë ¥ // org.hibernate.collection.internal.PersistenBag        8.3.2 JPA ê¸°ë³¸ í˜ì¹˜ ì „ëµ     @ManyToOne, @OneToOne: ì¦‰ì‹œ ë¡œë”©(FetchType.EAGER)   @OneToMany, @ManyToMany: ì§€ì—° ë¡œë”©(FetchType.LAZY)   ì¶”ì²œí•˜ëŠ” ë°©ë²•ì€ ëª¨ë“  ì—°ê´€ê´€ê³„ì— ì§€ì—° ë¡œë”©ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤. ê·¸ë¦¬ê³  ê¼­ í•„ìš”í•œ ê³³ì—ë§Œ ì¦‰ì‹œ ë¡œë”©ì„ ì‚¬ìš©í•˜ë„ë¡ í•œë‹¤.        8.3.3 ì»¬ë ‰ì…˜ì— FetchType.EAGER ì‚¬ìš© ì‹œ ì£¼ì˜ì   ì»¬ë ‰ì…˜ì— FetchType.EAGERë¥¼ ì‚¬ìš©í•  ê²½ìš° ì£¼ì˜í•  ì ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.     ì»¬ë ‰ì…˜ì„ ì¦‰ì‹œ ë¡œë”©í•˜ëŠ” ê²ƒì€ ê¶Œì¥í•˜ì§€ ì•ŠëŠ”ë‹¤.            ë„ˆë¬´ ë§ì€ ë°ì´í„°ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆê³ , ê²°ê³¼ì ìœ¼ë¡œ ì„±ëŠ¥ì´ ì €í•˜ë  ìˆ˜ ìˆë‹¤.           ì»¬ë ‰ì…˜ ì¦‰ì‹œ ë¡œë”©ì€ í•­ìƒ OUTER JOINì„ ì‚¬ìš©í•œë‹¤.   @ManyToOne, @OneToOne            (optional = false): ë‚´ë¶€ ì¡°ì¸       (optional = true): ì™¸ë¶€ ì¡°ì¸           @OneToMany, @ManyToMany            (optional = false): ì™¸ë¶€ ì¡°ì¸       (optional = true): ë‚´ë¶€ ì¡°ì¸                8.4 ì˜ì†ì„± ì „ì´: CASCADE  íŠ¹ì • ì—”í‹°í‹°ë¥¼ ì—°ì† ìƒíƒœë¡œ ë§Œë“¤ ë•Œ ì—°ê´€ëœ ì—”í‹°í‹°ë„ í•¨ê»˜ ì˜ì† ìƒíƒœë¡œ ë§Œë“¤ê³  ì‹¶ìœ¼ë©´ ì˜ì†ì„± ì „ì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•œë‹¤. JPAì—ì„œ ì—”í‹°í‹°ë¥¼ ì €ì¥í•  ë•Œ ì—°ê´€ëœ ëª¨ë“  ì—”í‹°í‹°ëŠ” ì˜ì† ìƒíƒœì—¬ì•¼ í•œë‹¤.   8.4.1 ì˜ì†ì„± ì „ì´: ì €ì¥   @Entity public class Parent {     ...ìƒëµ...     @OneToMany(mappedBy = \"parent\", cascade = CascadeType.PERSIST)     private List&lt;Child&gt; children = new ArrayList&lt;Child&gt;();     ...ìƒëµ... }  Parent parent = new Parent(); Child child = new Child();  child.setParent(parent); parent.getChildren().add(child);  // Parentë§Œ ì €ì¥í–ˆì§€ë§Œ, ì˜ì†ì„± ì „ì´ì— ì˜í•´ Childë„ ì €ì¥ë¨ em.persist(parent);  ì˜ì†ì„± ì „ì´ëŠ” ì—°ê´€ê´€ê³„ë¥¼ ë§¤í•‘í•˜ëŠ” ê²ƒê³¼ëŠ” ì•„ë¬´ ê´€ë ¨ì´ ì—†ë‹¤. ë‹¨ì§€ ì—”í‹°í‹°ë¥¼ ì˜ì†í™”í•  ë•Œ ì—°ê´€ëœ ì—”í‹°í‹°ë„ ê°™ì´ ì˜ì†í™”í•˜ëŠ” í¸ë¦¬í•¨ì„ ì œê³µí•  ë¿ì´ë‹¤.      8.4.2 ì˜ì†ì„± ì „ì´: ì‚­ì œ  @Entity public class Parent {     ...ìƒëµ...     @OneToMany(mappedBy = \"parent\", cascade = CascadeType.REMOVE)     private List&lt;Child&gt; children = new ArrayList&lt;Child&gt;();     ...ìƒëµ... }  Parent parent = em.find(Parent.class, 1L);  // Parentë§Œ ì‚­ì œí–ˆì§€ë§Œ, ì˜ì†ì„± ì „ì´ì— ì˜í•´ Childë„ ì‚­ì œë¨ em.remove(parent);      8.4.3 CASCADEì˜ ì¢…ë¥˜  public enum CascadeType {     ALL,        // ëª¨ë‘ ì ìš©     PERSIST,    // ì˜ì†     MERGE,      // ë³‘í•©     REMOVE,     // ì‚­ì œ     REFRESH,     DETACH }          8.5 ê³ ì•„ ê°ì²´  JPAëŠ” ë¶€ëª¨ ì—”í‹°í‹°ì™€ ì—°ê´€ê´€ê³„ê°€ ëŠì–´ì§„ ìì‹ ì—”í‹°í‹°ë¥¼ ìë™ìœ¼ë¡œ ì‚­ì œí•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ”ë° ì´ê²ƒì„ ê³ ì•„ ê°ì²´(ORPHAN) ì œê±°ë¼ í•œë‹¤. ë¶€ëª¨ ì—”í‹°í‹°ì˜ ì»¬ë ‰ì…˜ì—ì„œ ìì‹ ì—”í‹°í‹°ì˜ ì°¸ì¡°ë§Œ ì œê±°í•˜ë©´ ìì‹ ì—”í‹°í‹°ê°€ ìë™ìœ¼ë¡œ ì‚­ì œëœë‹¤.   @Entity public class Parent {     ...ìƒëµ...     @OneToMany(mapeedBy = \"parent\", orphanRemoval = true)     private List&lt;Child&gt; children = new ArrayList&lt;Child&gt;();     ...ìƒëµ... }  Parent parent = em.find(Parent.class, id); parent.getChildren().remove(0); // ìì‹ ì—”í‹°í‹°ë¥¼ ì»¬ë ‰ì…˜ì—ì„œ ì‚­ì œ  // SQL DELETE FROM CHILD WHERE ID=?  ê³ ì•„ ê°ì²´ ì œê±°ëŠ” ì°¸ì¡°ê°€ ì œê±°ëœ ì—”í‹°í‹°ëŠ” ë‹¤ë¥¸ ê³³ì—ì„œ ì°¸ì¡°í•˜ì§€ ì•ŠëŠ” ê³ ì•„ ê°ì²´ë¡œ ë³´ê³  ì‚­ì œí•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤. ë˜, ë¶€ëª¨ë¥¼ ì œê±°í•˜ë©´ ìì‹ë„ ê°™ì´ ì œê±°ëœë‹¤.        8.6 ì˜ì†ì„± ì „ì´ + ê³ ì•„ ê°ì²´, ìƒëª… ì£¼ê¸°  CascadeType.All + orphanRemoval = trueë¥¼ ë™ì‹œì— ì‚¬ìš©í•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ? ë‘ ì˜µì…˜ì„ ëª¨ë‘ í™œì„±í™” í•˜ë©´ ë¶€ëª¨ ì—”í‹°í‹°ë¥¼ í†µí•´ì„œ ìì‹ì˜ ìƒëª…ì£¼ê¸°ë¥¼ ê´€ë¦¬ í•  ìˆ˜ ìˆë‹¤.     ìì‹ì„ ì €ì¥í•˜ë ¤ë©´ ë¶€ëª¨ì— ë“±ë¡í•˜ë©´ ëœë‹¤ (CASCADE)   ìì‹ì„ ì‚­ì œí•˜ë ¤ë©´ ë¶€ëª¨ì—ì„œ ì œê±°í•˜ë©´ ëœë‹¤ (orphanRemoval)              9. ê°’ íƒ€ì…  JPAì˜ ë°ì´í„° íƒ€ì…     ì—”í‹°í‹° íƒ€ì…            @Entity           ê°’ íƒ€ì…            ê¸°ë³¸ê°’ íƒ€ì…                    ìë°” ê¸°ë³¸ íƒ€ì…(ì˜ˆ: int, double)           ë˜í¼ í´ë˜ìŠ¤(ì˜ˆ: Integer)           String                       ì„ë² ë””ë“œ íƒ€ì…                    embedded type                       ì»¬ë ‰ì…˜ ê°’ íƒ€ì…                    collection value type                               9.1 ê¸°ë³¸ê°’ íƒ€ì…  private String name; private int age; ...      9.2 ì„ë² ë””ë“œ íƒ€ì…(ë³µí•© ê°’ íƒ€ì…)  @Entity public class Member {     @Embedded Address homeAddress; }  @Embeddable public class Address {     @Column(name=\"city\")     private String city;     private String street;     private String zipcode;     ... }     @Embeddable: ê°’ íƒ€ì…ì„ ì •ì˜í•˜ëŠ” ê³³ì— í‘œì‹œ   @Embedded: ê°’ íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” ê³³ì— í‘œì‹œ        9.2.1 ì„ë² ë””ë“œ íƒ€ì…ê³¼ í…Œì´ë¸” ë§¤í•‘    UMLì—ì„œ ì„ë² ë””ë“œ ê°’ íƒ€ì…ì€ ë‹¨ìˆœí•˜ê²Œ í‘œí˜„í•˜ëŠ” ê²ƒì´ í¸ë¦¬í•˜ë‹¤.        9.2.2 ì„ë² ë””ë“œ íƒ€ì…ê³¼ ì—°ê´€ê´€ê³„    @Entity public class Member {     @Embedded Address address;     @Embedded PhoneNumber phoneNumber; }  @Embeddable public class Address {     String city;     String street;     String state;     @Embedded Zipcode zipcode; }  @Embeddable public class Zipcode {     String zip;     String plusFour; }  @Embeddable public class PhoneNumber {     String areaCode;     String localNumber;     @ManyToOne PhoneServiceProvider provider; }  @Entity public class PhoneServiceProvider {     @Id String name; }      9.2.3 @AttributeOverride: ì†ì„± ì¬ì •ì˜  ì„ë² ë””ë“œ íƒ€ì…ì— ì •ì˜í•œ ë§¤í•‘ì •ë³´ë¥¼ ì¬ì •ì˜ í•˜ë ¤ë©´ ì—”í‹°í‹°ì— @AttributeOverrideë¥¼ ì‚¬ìš©í•œë‹¤.  @Entity public class Member {     @Embedded     private Address address;      @Embedded     @AttributeOverrides({         @AttributeOverride(ame=\"city\", column=@Column(name=\"COMPANY_CITY\")),         @AttributeOverride(name=\"street\", column=@Column(name=\"COMPANY_STREET\")),         @AttributeOverride(name=\"zipcode\", column=@Column(name=\"COMPANY_ZIPCODE\"))     })     private Address companyAddress; }      9.2.4 ì„ë² ë””ë“œ íƒ€ì…ê³¼ null  ì„ë² ë””ë“œ íƒ€ì…ì´ nullì´ë©´ ë§¤í•‘í•œ ì»¬ëŸ¼ ê°’ì€ ëª¨ë‘ nullì´ ëœë‹¤.  member.setAddress(null); em.persist(member); // íšŒì› í…Œì´ë¸”ì˜ ì£¼ì†Œì™€ ê´€ë ¨ëœ CITY,STREET,ZIPCODE ì»¬ëŸ¼ ê°’ì€ ëª¨ë‘ nullì´ ëœë‹¤.          9.3 ê°’ íƒ€ì…ê³¼ ë¶ˆë³€ ê°ì²´  ê°’ íƒ€ì…ì€ ë³µì¡í•œ ê°ì²´ë¥¼ ì¡°ê¸ˆì´ë¼ë„ ë‹¨ìˆœí™”í•˜ë ¤ê³  ë§Œë“  ê°œë…ì´ë‹¤. ë”°ë¼ì„œ ê°’ íƒ€ì…ì€ ë‹¨ìˆœí•˜ê³  ì•ˆì „í•˜ê²Œ ë‹¤ë£° ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.   9.3.1 ê°’ íƒ€ì… ê³µìœ  ì°¸ì¡°  ì„ë² ë””ë“œ íƒ€ì… ê°™ì€ ê°’ íƒ€ì…ì„ ì—¬ëŸ¬ ì—”í‹°í‹°ì—ì„œ ê³µìœ í•˜ë©´ ìœ„í•¨í•˜ë‹¤.  member1.setAddress(new Address(\"OldCity\")); Address address = member1.getAddress();  address.setCity(\"NewCity\"); member2.setAddress(address);  // íšŒì›2ì˜ ì£¼ì†Œë§Œ NewCityë¡œ ë³€ê²½ë˜ê¸°ë¥¼ ê¸°ëŒ€í•˜ì§€ë§Œ íšŒì›1ì˜ ì£¼ì†Œë„ NewCityë¡œ ë³€ê²½ë˜ì–´ ë²„ë¦°ë‹¤.      9.3.2 ê°’ íƒ€ì… ë³µì‚¬  ê°’ íƒ€ì…ì˜ ì‹¤ì œ ì¸ìŠ¤í„´ìŠ¤ì¸ ê°’ì„ ê³µìœ í•˜ëŠ” ê²ƒì€ ìœ„í—˜í•˜ë‹¤. ëŒ€ì‹ ì— ê°’(ì¸ìŠ¤í„´ìŠ¤)ì„ ë³µì‚¬í•´ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.  member1.setAddress(new Address(\"OldCity\")); Address address = member1.getAddress();  // ë³µì‚¬ Address newAddress = address.clone(); newAddress.setCity(\"NewCity\"); member2.setAddress(newAddress);      9.3.3 ë¶ˆë³€ ê°ì²´  ê°’ íƒ€ì…ì€ ë¶€ì‘ìš© ê±±ì • ì—†ì´ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. ê°ì²´ë¥¼ ë¶ˆë³€í•˜ê²Œ ë§Œë“¤ë©´ ê°’ì„ ìˆ˜ì •í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ë¶€ì‘ìš©ì„ ì›ì²œ ì°¨ë‹¨í•  ìˆ˜ ìˆë‹¤.  // ì£¼ì†Œ ë¶ˆë³€ ê°ì²´ @Embeddable public class Address {     private String city;          protected Address () {}      public Address(String city) {         this.city = city;     }           public String getCity() {         return city;     }      // SetterëŠ” ë§Œë“¤ì§€ ì•ŠëŠ”ë‹¤. }        9.4 ê°’ íƒ€ì…ì˜ ë¹„êµ     ë™ì¼ì„± ë¹„êµ: ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° ê°’ì„ ë¹„êµ, == ì‚¬ìš©   ë™ë“±ì„± ë¹„êµ: ì¸ìŠ¤í„´ìŠ¤ì˜ ê°’ì„ ë¹„êµ, equals() ì‚¬ìš©   ê°’ íƒ€ì…ì„ ë¹„êµí•  ë•ŒëŠ” equals()ë¥¼ ì‚¬ìš©í•´ì„œ ë™ë“±ì„± ë¹„êµë¥¼ í•´ì•¼ í•œë‹¤.   ê°’ íƒ€ì…ì˜ equals(), hashCode() ë©”ì†Œë“œë¥¼ ì¬ì •ì˜í•´ì•¼ í•œë‹¤.        9.5 ê°’ íƒ€ì… ì»¬ë ‰ì…˜  ê°’ íƒ€ì…ì„ í•˜ë‚˜ ì´ìƒ  ì»¬ë ‰ì…˜ì— ë³´ê´€í•˜ê³  @ElementCollection, @CollectionTable ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.   @Entity public class Member {      @Id @GeneratedValue     private Long id;      @ElementCollection     @CollectionTable(         name = \"FAVORITE_FOODS\",         joinColumns = @JoinColumn(name = \"MEMBER_ID\")     )     @Column(name = \"FOOD_NAME\")     private Set&lt;String&gt; favoriteFoods = new HashSet&lt;String&gt;();      @ElementCollection     @CollectionTable(         name = \"ADDRESS\",         joinColumns = @JoinColumn(name = \"MEMBER_ID\")     )     private List&lt;Address&gt; addressHistory = new ArrayList&lt;Address&gt;(); }  @Embeddable public class Address {      @Column     private String city;     private String street;     private String zipcode; }       9.5.1 ê°’ íƒ€ì… ì»¬ë ‰ì…˜ ì‚¬ìš©  ê°’ íƒ€ì… ì»¬ë ‰ì…˜ì€ ì˜ì†ì„± ì „ì´(Cascade) + ê³ ì•„ ê°ì²´ ì œê±°(Orphan remove) ê¸°ëŠ¥ì´ í¬í•¨ë˜ì–´ ìˆë‹¤.  // ê°’ íƒ€ì… ì»¬ë ‰ì…˜ë„ ì¡°íšŒí•  ë•Œ í˜ì¹˜ ì „ëµì„ ì„ íƒí•  ìˆ˜ ìˆë‹¤. @ElementCollection(fetch = FetchType.LAZY) // ê¸°ë³¸ê°’ LAZY      9.5.2 ê°’ íƒ€ì… ì»¬ë ‰ì…˜ì˜ ì œì•½ì‚¬í•­   ì œì•½ì‚¬í•­     ê°’ íƒ€ì… ì»¬ë ‰ì…˜ì— ë³´ê´€ëœ ê°’ íƒ€ì…ë“¤ì€ ë³„ë„ì˜ í…Œì´ë¸”ì— ë³´ê´€í•œë‹¤.   ë”°ë¼ì„œ ì—¬ê¸°ì— ë³´ê´€ëœ ê°’ íƒ€ì…ì˜ ê°’ì´ ë³€ê²½ë˜ë©´ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë°ì´í„°ë¥¼ ì°¾ê¸° ì–´ë µë‹¤.   ì´ëŸ° ë¬¸ì œë¡œ JPA êµ¬í˜„ì²´ë“¤ì€ ê°’ íƒ€ì… ë³€ê²½ ì‚¬í•­ì´ ë°œìƒí•˜ë©´ ê°’ íƒ€ì… ì»¬ë ‰ì…˜ì´ ë§¤í•‘ëœ í…Œì´ë¸”ì˜ ì—°ê´€ëœ ëª¨ë“  ë°ì´í„°ë¥¼ ì‚­ì œ, í˜„ì¬ ê°’ìœ¼ë¡œ ì €ì¥í•œë‹¤.   ì„±ëŠ¥ ë¬¸ì œ ë°œìƒ   ê°’ íƒ€ì… ì»¬ë ‰ì…˜ì„ ë§¤í•‘í•˜ëŠ” í…Œì´ë¸”ì€ ëª¨ë“  ì»¬ëŸ¼ì„ ë¬¶ì–´ì„œ ê¸°ë³¸ í‚¤ë¥¼ êµ¬ì„± í•´ì•¼í•œë‹¤.   ë”°ë¼ì„œ ë°ì´í„°ë² ì´ìŠ¤ ê¸°ë³¸ í‚¤ ì œì•½ ì¡°ê±´ìœ¼ë¡œ ì¸í•´ ì»¬ëŸ¼ì— nullì„ ì…ë ¥í•  ìˆ˜ ì—†ê³ , ê°’ì€ ê°’ì„ ì¤‘ë³µí•´ì„œ ì €ì¥í•  ìˆ˜ ì—†ëŠ” ì œì•½ë„ ìˆë‹¤.   í•´ê²°ë°©ë²•     ë”°ë¼ì„œ ì‹¤ë¬´ì—ì„œëŠ” ê°’ íƒ€ì… ì»¬ë ‰ì…˜ì´ ë§¤í•‘ëœ í…Œì´ë¸”ì— ë°ì´í„°ê°€ ë§ë‹¤ë©´ ê°’ íƒ€ì… ì»¬ë ‰ì…˜ ëŒ€ì‹ ì— ì¼ëŒ€ë‹¤ ê´€ê³„ë¥¼ ê³ ë ¤í•´ì•¼ í•œë‹¤.   ê·¸ë¦¬ê³  ì˜ì†ì„± ì „ì´ + ê³ ì•„ ê°ì²´ ì œê±° ê¸°ëŠ¥ì„ ì ìš©í•˜ë©´ ê°’ íƒ€ì… ì»¬ë ‰ì…˜ ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.   // ê°’ íƒ€ì… ì»¬ë ‰ì…˜ ëŒ€ì‹ ì— ì¼ëŒ€ë‹¤ ê´€ê³„ ì‚¬ìš© @Entity public class AddressEntity {      @Id @GeneratedValue     private Long id;      @Embedded     private Address address; }  @Embeddable public class Address {      @Column     private String city;     private String street;     private String zipcode; }  // ì„¤ì • ì½”ë“œ @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true) @JoinColumn(name = \"MEMBER_ID\") private List&lt;AddressEntity&gt; addressHistory = new ArrayList&lt;AddressEntity&gt;();        9.6 ì •ë¦¬  ì—”í‹°í‹° íƒ€ì…ì˜ íŠ¹ì§•     ì‹ë³„ì(@Id)ê°€ ìˆë‹¤.   ìƒëª… ì£¼ê¸°ê°€ ìˆë‹¤.            ìƒì„±, ì˜ì†, ì†Œë©¸           ê³µìœ í•  ìˆ˜ ìˆë‹¤.            ì°¸ì¡° ê°’ì„ ê³µìœ í•  ìˆ˜ ìˆë‹¤.       ì˜ˆë¥¼ ë“¤ì–´ íšŒì› ì—”í‹°í‹°ê°€ ìˆë‹¤ë©´ ë‹¤ë¥¸ ì—”í‹°í‹°ì—ì„œ íšŒì› ì—”í‹°í‹°ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.           ê°’ íƒ€ì…ì˜ íŠ¹ì§•     ì‹ë³„ìê°€ ì—†ë‹¤   ìƒëª… ì£¼ê¸°ë¥¼ ì—”í‹°í‹°ì— ì˜ì¡´í•œë‹¤.            ì˜ì¡´í•˜ëŠ” ì—”í‹°í‹°ë¥¼ ì œê±°í•˜ë©´ ê°™ì´ ì œê±°ëœë‹¤.           ê³µìœ í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì•ˆì „í•˜ë‹¤.            ëŒ€ì‹ ì— ê°’ì„ ë³µì‚¬í•´ì„œ ì‚¬ìš©í•œë‹¤.       ì˜¤ì§ í•˜ë‚˜ì˜ ì£¼ì¸ë§Œì´ ê´€ë¦¬í•´ì•¼ í•œë‹¤.       ë¶ˆë³€ ê°ì²´ë¡œ ë§Œë“œëŠ” ê²ƒì´ ì•ˆì „í•˜ë‹¤.                    10. ê°ì²´ì§€í–¥ ì¿¼ë¦¬ ì–¸ì–´   10.1 ê°ì²´ì§€í–¥ ì¿¼ë¦¬ ì†Œê°œ  JPQL ì´ë€?     í…Œì´ë¸”ì´ ì•„ë‹Œ ê°ì²´ë¥¼ ëŒ€ìƒìœ¼ë¡œ ê²€ìƒ‰í•˜ëŠ” ê°ì²´ì§€í–¥ ì¿¼ë¦¬ë‹¤   SQLì„ ì¶”ìƒí™”í•´ì„œ íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ SQLì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤.   SQLì´ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì„ ëŒ€ìƒìœ¼ë¡œ í•˜ëŠ” ë°ì´í„° ì¤‘ì‹¬ì˜ ì¿¼ë¦¬ë¼ë©´ JPQLì€ ì—”í‹°í‹° ê°ì²´ë¥¼ ëŒ€ìƒìœ¼ë¡œ í•˜ëŠ” ê°ì²´ì§€í–¥ ì¿¼ë¦¬ë‹¤.      JPAëŠ” JPQLë¿ë§Œ ì•„ë‹ˆë¼ ë‹¤ì–‘í•œ ê²€ìƒ‰ ë°©ë²•ì„ ì œê³µí•œë‹¤.   ê³µì‹ ì§€ì› ê¸°ëŠ¥     JPQL(Java Persistence Query Language)   Criteria ì¿¼ë¦¬: JPAì„ í¸í•˜ê²Œ ì‘ì„±í•˜ë„ë¡ ë„ì™€ì£¼ëŠ” API, ë¹Œë” í´ë˜ìŠ¤ ëª¨ìŒ   ë„¤ì´í‹°ë¸Œ SQL: JPAì—ì„œ JPQL ëŒ€ì‹  ì§ì ‘ SQLì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.   ë¹„ ê³µì‹ ê¸°ëŠ¥     QueryDSL: Criteria ì¿¼ë¦¬ì²˜ëŸ¼ JPQLì„ í¸í•˜ê²Œ ì‘ì„±í•˜ë„ë¡ ë„ì™€ì£¼ëŠ” ë¹Œë” í´ë˜ìŠ¤ ëª¨ìŒ, ë¹„í‘œì¤€ ì˜¤í”ˆì†ŒìŠ¤ í”„ë ˆì„ì›Œí¬ë‹¤.   JDBC ì§ì ‘ ì‚¬ìš©   MyBatis ê°™ì€ SQL ë§¤í¼ í”„ë ˆì„ì›Œí¬ ì‚¬ìš©        10.1.1 JPQL ì†Œê°œ     JPQLì€ ì—”í‹°í‹° ê°ì²´ë¥¼ ì¡°íšŒí•˜ëŠ” ê°ì²´ì§€í–¥ ì¿¼ë¦¬ë‹¤.   JPQLì€ SQLì„ ì¶”ìƒí™”í•´ì„œ íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤.            ë°©ì–¸ë§Œ ë³€ê²½í•˜ë©´ ëœë‹¤.           JPQLì€ SQLë³´ë‹¤ ê°„ê²°í•˜ë‹¤.            ì—”í‹°í‹° ì§ì ‘ ì¡°íšŒ       ë¬µì‹œì  ì¡°ì¸       ë‹¤í˜•ì„± ì§€ì›           @Entity(name=\"Member\") public class Member {     ...ìƒëµ...     @Column(name = \"name\")     private String name;     ...ìƒëµ... }  // JPQL ì‚¬ìš© String jpql = \"select m from Member as m where m.username = 'kim'\"; List&lt;Member&gt; resultList = em.createQuery(jpql, Member.class).getResultList();  -- ì‹¤ì œ ì‹¤í–‰ëœ SQL, ë³„ì¹­ì€ ë„ˆë¬´ ë³µì¡í•´ ì„ì˜ ìˆ˜ì • select     member.id as id,     member.age as age,     member.team_id as team,     member.name as name from     Member member where     member.name='kim'        10.1.2 Criteria ì†Œê°œ  CriteriaëŠ” JPQLì„ ìƒì„±í•˜ëŠ” ë¹Œë” í´ë˜ìŠ¤ë‹¤. Criteriaì˜ ì¥ì ì€ ë¬¸ìê°€ ì•„ë‹Œ query.select(m).where(...)ì²˜ëŸ¼ í”„ë¡œê·¸ë˜ë° ì½”ë“œë¡œ JPQLì„ ì‘ì„±í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤.   ì¥ì      ì»´íŒŒì¼ ì‹œì ì— ì˜¤ë¥˜ë¥¼ ë°œê²¬í•  ìˆ˜ ìˆë‹¤.   IDEë¥¼ ì‚¬ìš©í•˜ë©´ ì½”ë“œ ìë™ì™„ì„±ì„ ì§€ì›í•œë‹¤.   ë™ì  ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ê¸° í¸í•˜ë‹¤.   // Criteria ì‚¬ìš© ì¤€ë¹„ CriteriaBuilder cb = em.getCriteriaBuilder(); CriteriaQuery&lt;Member&gt; query = cb.createQuery(Member.class);  // ë£¨íŠ¸ í´ë˜ìŠ¤(ì¡°íšŒë¥¼ ì‹œì‘í•  í´ë˜ìŠ¤) Root&lt;Member&gt; m = query.from(Member.class);  // ì¿¼ë¦¬ ìƒì„± CriteriaQuery&lt;Member&gt; cq = query.select(m).where(cb.equal(m.get(\"username\"), \"kim\")); List&lt;Member&gt; resultList = em.createQuery(cq).getResultList();  Criteriaê°€ ê°€ì§„ ì¥ì ì´ ë§ì§€ë§Œ ëª¨ë“  ì¥ì ì„ ìƒì‡„í•  ì •ë„ë¡œ ë³µì¡í•˜ê³  ì¥í™©í•˜ë‹¤.        10.1.3 QueryDSL ì†Œê°œ     QueryDSLë„ Criteriaì²˜ëŸ¼ JPQL ë¹Œë” ì—­í• ì„ í•œë‹¤.   ì½”ë“œ ê¸°ë°˜ì´ë‹¤   ë‹¨ìˆœí•˜ê³  ì‚¬ìš©í•˜ê¸° ì‰½ë‹¤   ì‘ì„±í•œ ì½”ë“œë„ JPQLê³¼ ë¹„ìŠ·í•´ì„œ í•œëˆˆì— ë“¤ì–´ì˜¨ë‹¤   // ì¤€ë¹„ JPAQuery query = new JPAQuery(em); QMember member = QMember.member;  // ì¿¼ë¦¬, ê²°ê³¼ì¡°íšŒ List&lt;Member&gt; members = query.from(member)                     .where(member.username.eq(\"kim\"))                     .list(member);        10.1.4 ë„¤ì´í‹°ë¸Œ SQL ì†Œê°œ  JPAëŠ” SQLì„ ì§ì ‘ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì§€ì›í•˜ëŠ”ë° ì´ê²ƒì„ ë„¤ì´í‹°ë¸Œ SQLì´ë¼ í•œë‹¤.   String sql = \"SELECT ID, AGE, TEAM_ID, NAME FROM MEMBER WHERE NAME = 'kim'\"; List&lt;Member&gt; resultList = em.createNativeQuery(sql, Member.class).getResultList();  ë„¤ì´í‹°ë¸Œ SQLì˜ ë‹¨ì ì€ íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ì— ì˜ì¡´í•˜ëŠ” SQLì„ ì‘ì„±í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì´ë‹¤. ë”°ë¼ì„œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë³€ê²½í•˜ë©´ ë„¤ì´í‹°ë¸Œ SQLë„ ìˆ˜ì •í•´ì•¼ í•œë‹¤.        10.1.5 JDBC ì§ì ‘ ì‚¬ìš©, ë§ˆì´ë°”í‹°ìŠ¤ ê°™ì€ SQL ë§¤í¼ í”„ë ˆì„ì›Œí¬ ì‚¬ìš©  ë‹¤ìŒì€ í•˜ì´ë²„ë„¤ì´íŠ¸ì—ì„œ ì§ì ‘ JDBC Connectionì„ íšë“í•˜ëŠ” ë°©ë²•ì´ë‹¤.  Session session = entityManager.unwrap(Session.class); session.doWork(new Work() {      @Override     public void execute(Connection connection) throw SQLException {...} });     JDBCë‚˜ ë§ˆì´ë°”í‹°ìŠ¤ë¥¼ JPAì™€ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì ì ˆí•œ ì‹œì ì— ê°•ì œë¡œ í”ŒëŸ¬ì‹œí•´ì•¼ í•œë‹¤.   ë°ì´í„°ë² ì´ìŠ¤ì™€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ë™ê¸°í™” í•˜ê¸° ìœ„í•¨ì´ë‹¤.          10.2 JPQL  JPQL íŠ¹ì§•     JPQLì€ ê°ì²´ì§€í–¥ ì¿¼ë¦¬ ì–¸ì–´ë‹¤. ë”°ë¼ì„œ í…Œì´ë¸”ì´ ì•„ë‹Œ ì—”í‹°í‹° ê°ì²´ë¥¼ ëŒ€ìƒìœ¼ë¡œ ì¿¼ë¦¬í•œë‹¤.   JPQLì€ SQLì„ ì¶”ìƒí™”í•´ì„œ íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ SQLì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤.   JPQLì€ ê²°êµ­ SQLë¡œ ë³€í™˜ëœë‹¤.   10.2.1 ê¸°ë³¸ ë¬¸ë²•ê³¼ ì¿¼ë¦¬ API  JPQL ë¬¸ë²•  select_ë¬¸ :: =     select_ì ˆ     from_ì ˆ     [where_ì ˆ]     [groupby_ì ˆ]     [having_ì ˆ]     [orderby_ì ˆ]  update_ë¬¸ :: update_ì ˆ [where_ì ˆ] delete_ë¬¸ :: delete_ì ˆ [where_ì ˆ]      SELECT ë¬¸  SELECT m FROM Member AS m where m.username = 'Hello'      ëŒ€ì†Œë¬¸ì êµ¬ë¶„            ì—”í‹°í‹°ì™€ ì†ì„±ì€ ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë¶„í•œë‹¤.       JPQL í‚¤ì›Œë“œ(SELECT, FROM, AS..)ëŠ” ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë¶„í•˜ì§€ ì•ŠëŠ”ë‹¤.           ì—”í‹°í‹° ì´ë¦„            í…Œì´ë¸” ëª…ì´ ì•„ë‹ˆë¼ ì—”í‹°í‹° ëª…ì„ ì‚¬ìš©í•œë‹¤.       @Entity(name=â€xxxâ€)ë¡œ ì§€ì •í•  ìˆ˜ ìˆë‹¤.       ì—”í‹°í‹° ëª…ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ í´ë˜ìŠ¤ëª…ì„ ê¸°ë³¸ê°’ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.           ë³„ì¹­ì€ í•„ìˆ˜            JPQLì€ ë³„ì¹­ì„ í•„ìˆ˜ë¡œ ì‚¬ìš©í•´ì•¼ í•œë‹¤. (JPA ëª…ì„¸ë¡œ ì¹˜ë©´ ì •í™•íˆëŠ” ì‹ë³„ ë³€ìˆ˜)       ASëŠ” ìƒëµí•  ìˆ˜ ìˆë‹¤.               TypeQuery, Query  ì‘ì„±í•œ JPQLì„ ì‹¤í–‰í•˜ë ¤ë©´ ì¿¼ë¦¬ ê°ì²´ë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤.     TypeQuery ê°ì²´: ë°˜í™˜ íƒ€ì…ì„ ëª…í™•í•˜ê²Œ ì§€ì •í•  ìˆ˜ ìˆìœ¼ë©´ ì‚¬ìš©   Query ê°ì²´: ë°˜í™˜ íƒ€ì…ì„ ëª…í™•í•˜ê²Œ ì§€ì •í•  ìˆ˜ ì—†ìœ¼ë©´ ì‚¬ìš”   // TypeQuery ì‚¬ìš©  TypeQuery&lt;Member&gt; query = em.createQuery(\"SELECT m FROM Member m\", Member.class);  List&lt;Member&gt; resultList = query.getResultList(); for (Member member : resultList) {     ... }  // Query ì‚¬ìš©  Query query = em.createQuery(\"SELECT m FROM Member m\");  List resultList = query.getResultList(); for (Object o : resultList) {     Object[] result = (Object[]) o; // ê²°ê³¼ê°€ ë‘˜ ì´ìƒì´ë©´ Object[] ë°˜í™˜     System.out.println(\"username = \" + result[0]);     System.out.println(\"age = \" + result[1]); }      ê²°ê³¼ ì¡°íšŒ  ë‹¤ìŒ ë©”ì†Œë“œë“¤ì„ í˜¸ì¶œí•˜ë©´ ì‹¤ì œ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•´ì„œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°íšŒí•œë‹¤.     query.getResultList(): ê²°ê³¼ë¥¼ ë°˜í™˜. ë§Œì•½ ê²°ê³¼ê°€ ì—†ìœ¼ë©´ ë¹ˆ ì»¬ë ‰ì…˜ ë°˜í™˜   query.getSingleResult(): ê²°ê³¼ê°€ ì •í™•íˆ í•˜ë‚˜ì¼ ë•Œ ì‚¬ìš©í•œë‹¤.            ê²°ê³¼ê°€ ì—†ìœ¼ë©´ javax.persistence.NoResultException ë°œìƒ       ê²°ê³¼ê°€ 1ê°œë³´ë‹¤ ë§ìœ¼ë©´ javax.persistence.NonUniqueResultException ë°œìƒ                 10.2.2 íŒŒë¼ë¯¸í„° ë°”ì¸ë”©  JDBCëŠ” ìœ„ì¹˜ ê¸°ì¤€ íŒŒë¼ë¯¸í„° ë°”ì¸ë”©ë§Œ ì§€ì›í•˜ì§€ë§Œ JPQLì€ ì´ë¦„ ê¸°ì¤€ íŒŒë¼ë¯¸í„° ë°”ì¸ë”©ë„ ì§€ì›í•œë‹¤.   ì´ë¦„ ê¸°ì¤€ íŒŒë¼ë¯¸í„°  String usernameParam = \"user1\";  // íŒŒë¼ë¯¸í„° ì•ì— :ì„ ë¶™ì¸ë‹¤. TypeQuery&lt;Member&gt; query = em.createQuery(\"SELECT m FROM Member m where m.username = :username\", Member.class); query.setParameter(\"username\", usernameParam);  List&lt;Member&gt; resultList = query.getResultList();      ìœ„ì¹˜ ê¸°ì¤€ íŒŒë¼ë¯¸í„°  String usernameParam = \"user1\";  // íŒŒë¼ë¯¸í„°ëŠ” ? ë‹¤ìŒì— ìœ„ì¹˜ ê°’ì„ ì£¼ë©´ ëœë‹¤. List&lt;Member&gt; members = em.createQuery(\"SELECT m FROM Member m where m.username = ?1\", Member.class);  query.setParameter(1, usernameParam); List&lt;Member&gt; resultList = query.getResultList();    ê²½ê³   íŒŒë¼ë¯¸í„° ë°”ì¸ë”© ë°©ì‹ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì§ì ‘ JPQLì„ ë§Œë“¤ë©´ SQL ì¸ì ì…˜ ê³µê²©ì„ ë‹¹í•  ìˆ˜ ìˆë‹¤.  \"SELECT m FROM Member m where m.username = '\" + usernameParam + \"'\"       10.2.3 í”„ë¡œì ì…˜  SELECT ì ˆì— ì¡°íšŒí•  ëŒ€ìƒì„ ì§€ì •í•˜ëŠ” ê²ƒì„ í”„ë¡œì ì…˜ì´ë¼ê³  í•œë‹¤. [SELECT {í”„ë¡œì ì…˜ ëŒ€ìƒ} FROM]ìœ¼ë¡œ ëŒ€ìƒì„ ì„ íƒí•œë‹¤. í”„ë¡œì ì…˜ ëŒ€ìƒì€ ì—”í‹°í‹°, ì„ë² ë””ë“œ íƒ€ì…, ìŠ¤ì¹¼ë¼ íƒ€ì…ì´ ìˆë‹¤. ìŠ¤ì¹¼ë¼ íƒ€ì…ì€ ìˆ«ì, ë¬¸ì ë“± ê¸°ë³¸ ë°ì´í„° íƒ€ì…ì„ ëœ»í•œë‹¤.   ì—”í‹°í‹° í”„ë¡œì ì…˜  SELECT m FROM Member m      // íšŒì› SELECT m.team FROM Member m // íŒ€  ì¡°íšŒí•œ ì—”í‹°í‹°ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ê´€ë¦¬í•œë‹¤.      ì„ë² ë””ë“œ íƒ€ì… í”„ë¡œì ì…˜  ì„ë² ë””ë“œ íƒ€ì…ì€ ì¡°íšŒì˜ ì‹œì‘ì ì´ ë  ìˆ˜ ì—†ë‹¤ëŠ” ì œì•½ì´ ìˆë‹¤. ì•„ë˜ì— AddressëŠ” ì„ë² ë””ë“œ íƒ€ì…ì´ë‹¤.  // ì˜ëª»ëœ ì¿¼ë¦¬ String query = \"SELECT a From Address a\";  // ì˜¬ë°”ë¥¸ ì¿¼ë¦¬ String query = \"SELECT o.address From Order o\"; List&lt;Address&gt; addresses = em.createQuery(query, Address.class).getResultList();  ì‹¤í–‰ëœ ì¿¼ë¦¬ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.  select     order.city,     order.street,     order.zipcode from     Orders order  ì„ë² ë””ë“œ íƒ€ì…ì€ ì—”í‹°í‹° íƒ€ì…ì´ ì•„ë‹ˆë‹¤. ë”°ë¼ì„œ ì´ë ‡ê²Œ ì§ì ‘ ì¡°íšŒí•œ ì„ë² ë””ë“œ íƒ€ì…ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ê´€ë¦¬ë˜ì§€ ì•ŠëŠ”ë‹¤.      ìŠ¤ì¹¼ë¼ íƒ€ì… í”„ë¡œì ì…˜  ìˆ«ì, ë¬¸ì, ë‚ ì§œì™€ ê°™ì€ ê¸°ë³¸ ë°ì´í„° íƒ€ì…ë“¤ì€ ìŠ¤ì¹¼ë¼ íƒ€ì…ì´ë¼ í•œë‹¤.  String query = \"SELECT username FROM Member m\"; List&lt;String&gt; usernames = em.createQuery(query, String.class).getResultList();   // ì¤‘ë³µ ë°ì´í„°ë¥¼ ì œê±°í•˜ë ¤ë©´ DISTINCTë¥¼ ì‚¬ìš©í•œë‹¤. SELECT DISTINCT username From Member m  // í†µê³„ String query = \"SELECT AVG(o.orderAmount) FROM Order o\" Double orderAmountAvg = em.createQuery(query, Double.class).getSingleResult();      ì—¬ëŸ¬ ê°’ ì¡°íšŒ  ê¼­ í•„ìš”í•œ ë°ì´í„°ë“¤ë§Œ ì„ íƒí•´ì„œ ì¡°íšŒí•´ì•¼ í•  ë•Œë„ ìˆë‹¤. ì´ ë•ŒëŠ” TypeQueryë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ê³  ëŒ€ì‹ ì— Queryë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.  Query query = em.createQuery(\"SELECT m.username, m.age FROM Member m\"); List resultList = query.getResultList();  Iterator iterator = resultList.iterator(); while (iterator.hasNext()) {     Object[] row = (Object[]) iterator.next();     String username = (String) row[0];     Integer age = (Integer) row[1]; }  Query query = em.createQuery(\"SELECT m.username, m.age FROM Member m\"); List&lt;Object[]&gt; resultList = query.getResultList();  for (Object[] row : resultList) {     String username = (String) row[0];     Integer age = (Integer) row[1]; }  ìŠ¤ì¹¼ë¼ íƒ€ì…ë¿ë§Œ ì•„ë‹ˆë¼ ì—”í‹°í‹° íƒ€ì…ë„ ì—¬ëŸ¬ ê°’ì„ í•¨ê»˜ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.  Query query = em.createQuery(\"SELECT o.member, o.product, o.orderAmount FROM Order o\"); List&lt;Object[]&gt; resultList = query.getResultList();  for (Object[] row : resultList) {     Member member = (Member) row[0];    // ì—”í‹°í‹°     Product product = (Product) row[1]; // ì—”í‹°í‹°     int orderAmount = (Integer) row[2]; // ìŠ¤ì¹¼ë¼ }  ë¬¼ë¡  ì´ë•Œë„ ì¡°íšŒí•œ ì—”í‹°í‹°ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ê´€ë¦¬ëœë‹¤.      NEW ëª…ë ¹ì–´  í”„ë¡œì ì…˜ì„ UserDTOì²˜ëŸ¼ ì˜ë¯¸ ìˆëŠ” ê°ì²´ë¡œ ë³€í™˜í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.   public class UserDTO {     private String username;     private int age;      public UserDTO(String username, int age) {         this.username = username;         this.age = age;     }     ... }  TypeQuery&lt;UserDTO&gt; query = em.createQuery(\"SELECT new jpabook.jpql.UserDTO(m.username, m.age) FROM Member m\", UserDTO.class);  List&lt;UserDTO&gt; resultList = query.getResultList();  NEW ëª…ë ¹ì–´ ì‚¬ìš©ì‹œ ì£¼ì˜ ì‚¬í•­ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.     íŒ¨í‚¤ì§€ ëª…ì„ í¬í•¨í•œ ì „ì²´ í´ë˜ìŠ¤ ëª…ì„ ì…ë ¥í•´ì•¼ í•œë‹¤.   ìˆœì„œì™€ íƒ€ì…ì´ ì¼ì¹˜í•˜ëŠ” ìƒì„±ìê°€ í•„ìš”í•œë‹¤.        10.2.4 í˜ì´ì§• API  JPA í˜ì´ì§•  TypeQuery&lt;Member&gt; query = em.createQuery(\"SELECT m FROM Member m ORDER BY m.username DESC\", Member.class);  query.setFirstResult(10); // ì¡°íšŒ ì‹œì‘ ìœ„ì¹˜(0ë¶€í„° ì‹œì‘) query.setMaxResult(20);   // ì¡°íšŒí•  ë°ì´í„° ìˆ˜ query.getResultList();      HSQLDB í˜ì´ì§•  SELECT     M.ID AS ID,     M.AGE AS AGE,     M.TEAM_ID AS TEAM_ID,     M.NAME AS NAME FROM     MEMBER M ORDER BY     M.NAME DESC OFFSET ? LIMIT ?      MySQL í˜ì´ì§•  SELECT     M.ID AS ID,     M.AGE AS AGE,     M.TEAM_ID AS TEAM_ID,     M.NAME AS NAME FROM     MEMBER M ORDER BY     M.NAME DESC LIMIT ?, ?      PostgreSQL í˜ì´ì§•  SELECT     M.ID AS ID,     M.AGE AS AGE,     M.TEAM_ID AS TEAM_ID,     M.NAME AS NAME FROM     MEMBER M ORDER BY     M.NAME DESC LIMIT ? OFFSET ?      ì˜¤ë¼í´ í˜ì´ì§•  SELECT * FROM     (         SELECT ROW_.*, ROWNUM ROWNUM_             FROM                 (                     SELECT                         M.ID AS ID,                         M.AGE AS AGE,                         M.TEAM_ID AS TEAM_ID,                         M.NAME AS NAME                     FROM                         MEMBER M                     ORDER BY M.NAME                 ) ROW_             WHERE ROWNUM &lt;= ?     ) WHERE ROWNUM_ &gt; ?      SQLServer í˜ì´ì§•  WITH query AS (     SELECT     inner_query.*,     ROW_NUMBER() OVER (ORDER BY CURRENT_TIMESTAMP) as         __hibernate_row_nr__     FROM         (             select                 TOP(?) m.id as id,                 m.age as age,                 m.team_id as team_id,                 m.name as name             from Member m             order by m.name DESC         ) inner_query ) SELECT id, age, team_id, name FROM query WHERE __hibernate_row_nr__ &gt;= ? AND __hibernate_row_nr__ &lt; ?        10.2.5 ì§‘í•©ê³¼ ì •ë ¬  ì§‘í•©ì€ ì§‘í•©í•¨ìˆ˜ì™€ í•¨ê»˜ í†µê³„ ì •ë³´ë¥¼ êµ¬í•  ë•Œ ì‚¬ìš©í•œë‹¤.   ì§‘í•© í•¨ìˆ˜                  í•¨ìˆ˜       ì„¤ëª…                       COUNT       ê²°ê³¼ ìˆ˜ë¥¼ êµ¬í•œë‹¤. ë°˜í™˜ íƒ€ì…: Long                 MAX, MIN       ìµœëŒ€, ìµœì†Œ ê°’ì„ êµ¬í•œë‹¤. ë¬¸ì, ìˆ«ì, ë‚ ì§œ ë“±ì— ì‚¬ìš©í•œë‹¤.                 AVG       í‰ê· ê°’ì„ êµ¬í•œë‹¤. ìˆ«ìíƒ€ì…ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë°˜í™˜ íƒ€ì…: Double                 SUM       í•©ì„ êµ¬í•œë‹¤. ìˆ«ìíƒ€ì…ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë°˜í™˜ íƒ€ì…: ì •ìˆ˜í•© Long, ì†Œìˆ˜í•©: Double, BigIntegerí•©: BigInteger, BigDecimalí•©: BigDecimal               ì§‘í•© í•¨ìˆ˜ ì‚¬ìš© ì‹œ ì°¸ê³ ì‚¬í•­     NULL ê°’ì€ ë¬´ì‹œí•˜ë¯€ë¡œ í†µê³„ì— ì¡íˆì§€ ì•ŠëŠ”ë‹¤. (DISTINCTê°€ ì •ì˜ë˜ì–´ ìˆì–´ë„ ë¬´ì‹œëœë‹¤.)   ë§Œì•½ ê°’ì´ ì—†ëŠ”ë° SUM, AVG, MAX, MIN í•©ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ NULL ê°’ì´ ëœë‹¤. ë‹¨ COUNTëŠ” 0ì´ ëœë‹¤.   DISTINCTë¥¼ ì§‘í•© í•¨ìˆ˜ ì•ˆì— ì‚¬ìš©í•´ì„œ ì¤‘ë³µëœ ê°’ì„ ì œê±°í•˜ê³  ë‚˜ì„œ ì§‘í•©ì„ êµ¬í•  ìˆ˜ ìˆë‹¤. ì˜ˆ: select COUNT( DISTINCT m.age ) from Member m   DISTINCTë¥¼ COUNTì—ì„œ ì‚¬ìš©í•  ë•Œ ì„ë² ë””ë“œ íƒ€ì…ì€ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤.       GROUP BY, HAVING  GROUP BYëŠ” í†µê³„ ë°ì´í„°ë¥¼ êµ¬í•  ë•Œ íŠ¹ì • ê·¸ë£¹ë¼ë¦¬ ë¬¶ì–´ì¤€ë‹¤. HAVINGì€ GROUP BYì™€ í•¨ê»˜ ì‚¬ìš©ë˜ëŠ”ë° GROUP BYë¡œ ê·¸ë£¹í™”í•œ í†µê³„ ë°ì´í„°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•„í„°ë§ í•œë‹¤.  select     t.name,     COUNT(m.age),     SUM(m.age),     AVG(m.age),     MAX(m.age),     MIN(m.age) from Member m LEFT JOIN m.team t GROUP BY t.name HAVING AVG(m.age) &gt;= 10  ë¬¸ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.  groupby_ì ˆ ::= GORUP BY {ë‹¨ì¼ê°’ ê²½ë¡œ | ë³„ì¹­} + having_ì ˆ ::= HAVING ì¡°ê±´ì‹      ì •ë ¬(ORDER BY)  ê²°ê³¼ë¥¼ ì •ë ¬í•  ë•Œ ì‚¬ìš©í•œë‹¤.  select m from Member m order by m.age DESC, m.username ASC  ë¬¸ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.  orderby_ì ˆ ::= ORDER BY {ìƒíƒœí•„ë“œ ê²½ë¡œ | ê²°ê³¼ ë³€ìˆ˜ [ASC | DESC]}+     ASC: ì˜¤ë¦„ì°¨ìˆœ(ê¸°ë³¸ê°’)   DESC: ë‚´ë¦¼ì°¨ìˆœ       10.2.6 JPQL ì¡°ì¸  JPQLë„ ì¡°ì¸ì„ ì§€ì›í•˜ëŠ”ë° SQL ì¡°ì¸ê³¼ ê¸°ëŠ¥ì€ ê°™ê³  ë¬¸ë²•ë§Œ ì•½ê°„ ë‹¤ë¥´ë‹¤.   ë‚´ë¶€ ì¡°ì¸  ë‚´ë¶€ì¡°ì¸ì€ INNER JOINì„ ì‚¬ìš©í•œë‹¤. ì°¸ê³ ë¡œ INNERëŠ” ìƒëµí•  ìˆ˜ ìˆë‹¤.  String teamName = \"íŒ€A\"; String query = \"SELECT m FROM Member m INNER JOIN m.team t WHERE t.name = :teamName\";  List&lt;Member&gt; members = em.createQuery(query, Member.class)                     .setParameter(\"teamName\", teamName)                     .getResultList();    ì£¼ì˜ì‚¬í•­  JPQL ì¡°ì¸ì€ ì—°ê´€ í•„ë“œë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒì´ë‹¤. SQL ì¡°ì¸ì²˜ëŸ¼ ì‚¬ìš©í•˜ë©´ ë¬¸ë²• ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. ë‹¤ìŒì€ ì˜ëª»ëœ ì˜ˆì´ë‹¤.  -- ì˜ëª»ëœ JPQL ì¡°ì¸ FROM Member m JOIN Team t        ì™¸ë¶€ ì¡°ì¸  JPQLì˜ ì™¸ë¶€ ì¡°ì¸ì€ ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•œë‹¤.  SELECT m FROM Member m LEFT [OUTER] JOIN m.team t      ì»¬ë ‰ì…˜ ì¡°ì¸  ì¼ëŒ€ë‹¤ ê´€ê³„ë‚˜ ë‹¤ëŒ€ë‹¤ ê´€ê³„ì²˜ëŸ¼ ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ê³³ì—ì„œ ì¡°ì¸í•˜ëŠ” ê²ƒì„ ì»¬ë ‰ì…˜ ì¡°ì¸ì´ë¼ í•œë‹¤.     [íšŒì› -&gt; íŒ€]ìœ¼ë¡œì˜ ì¡°ì¸ì€ ë‹¤ëŒ€ì¼ ì¡°ì¸, ë‹¨ì¼ ê°’ ì—°ê´€í•„ë“œ(m.team) ì‚¬ìš©   [íŒ€ -&gt; íšŒì›]ìœ¼ë¡œì˜ ì¡°ì¸ì€ ì¼ëŒ€ë‹¤ ì¡°ì¸, ì»¬ë ‰ì…˜ ê°’ ì—°ê´€í•„ë“œ(m.members) ì‚¬ìš©   -- íŒ€ê³¼ íšŒì›ëª©ë¡ì„ ì»¬ë ‰ì…˜ ê°’ ì—°ê´€ í•„ë“œë¡œ ì™¸ë¶€ì¡°ì¸ í–ˆë‹¤. SELECT t, m FROM Team t LEFT JOIN t.members m      ì„¸íƒ€ ì¡°ì¸  WHERE ì ˆì„ ì‚¬ìš©í•´ì„œ ì„¸íƒ€ ì¡°ì¸ì„ í•  ìˆ˜ ìˆë‹¤. ì„¸íƒ€ ì¡°ì¸ì€ ë‚´ë¶€ ì¡°ì¸ë§Œ ì§€ì›í•œë‹¤. ì„¸íƒ€ ì¡°ì¸ì„ ì‚¬ìš©í•˜ë©´ ì „í˜€ ê´€ê³„ì—†ëŠ” ì—”í‹°í‹°ë„ ì¡°ì¸í•  ìˆ˜ ìˆë‹¤.   -- JPQL select count(m) from Member m, Team t where m.username = t.team  -- sql select count(m.id) from     member m cross join team t where     m.username = t.name      JOIN ON ì ˆ(JPA 2.1)  JPA 2.1ë¶€í„° ì¡°ì¸í•  ë•Œ ON ì ˆì„ ì§€ì›í•œë‹¤. ì°¸ê³ ë¡œ ë‚´ë¶€ ì¡°ì¸ì´ ON ì ˆì€ WHERE ì ˆì„ ì‚¬ìš©í•  ë•Œì™€ ê²°ê³¼ê°€ ê°™ìœ¼ë¯€ë¡œ ë³´í†µ ON ì ˆì€ ì™¸ë¶€ ì¡°ì¸ì—ì„œë§Œ ì‚¬ìš©í•œë‹¤.  -- JPQL select m, t from Member m     left join m.team t on t.name = 'A'  -- SQL select m.*, t.* from Member m     left join Team t on m.team_id = t.id      and t.name = 'A'        10.2.7 í˜ì¹˜ ì¡°ì¸     í˜ì¹˜(fetch) ì¡°ì¸ì€ JPQLì—ì„œ ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤.   ì—°ê´€ëœ ì—”í‹°í‹°ë‚˜ ì»¬ë ‰ì…˜ì„ í•œ ë²ˆì— ê°™ì´ ì¡°íšŒí•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤.   join fetch ëª…ë ¹ì–´ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.   ë¬¸ë²•  í˜ì¹˜ ì¡°ì¸ ::= [ LEFT [OUTER] | INNER ] JOIN FETCH ì¡°ì¸ê²½ë¡œ      ì—”í‹°í‹° í˜ì¹˜ ì¡°ì¸  ë‹¤ìŒì€ í˜ì¹˜ ì¡°ì¸ì„ ì‚¬ìš©í•´ì„œ íšŒì› ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•˜ë©´ì„œ ì—°ê´€ëœ íŒ€ ì—”í‹°í‹°ë„ í•¨ê»˜ ì¡°íšŒ í•˜ëŠ” JPQL  -- í˜ì¹˜ ì¡°ì¸ JPQL select m from Member m join fetch m.team   -- ì‹¤í–‰ëœ SQL SELECT     M.*, T.* FROM MEMBER T INNER JOIN TEAM T ON M.TEAM_ID = T.ID   JPQLì¡°ì¸ê³¼ëŠ” ë‹¤ë¥´ê²Œ m.team ë‹¤ìŒì— ë³„ì¹­ì´ ì—†ëŠ”ë° í˜ì¹˜ ì¡°ì¸ì€ ë³„ì¹­ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. (í•˜ì§€ë§Œ í•˜ì´ë²„ë„¤ì´íŠ¸ëŠ” í˜ì¹˜ ì¡°ì¸ì—ë„ ë³„ì¹­ì„ í—ˆìš©í•œë‹¤.)      ì»¬ë ‰ì…˜ í˜ì¹˜ ì¡°ì¸  ì¼ëŒ€ë‹¤ ê´€ê³„ì¸ ì»¬ë ‰ì…˜ì„ í˜ì¹˜ ì¡°ì¸  -- ì»¬ë ‰ì…˜ í˜ì¹˜ ì¡°ì¸ JPQL select t from Team t join fetch t.members where t.name = 'íŒ€A'   -- ì‹¤í–‰ëœ SQL SELECT     T.*, M.* FROM TEAM T INNER JOIN MEMBER M ON T.ID = M.TEAM_ID WHERE T.NAME = 'íŒ€A'  ë¬¸ì œëŠ” TEAM í…Œì´ë¸”ì—ì„œ íŒ€AëŠ” í•˜ë‚˜ì§€ë§Œ MEMBERí…Œì´ë¸”ê³¼ ì¡°ì¸í•˜ë©´ì„œ ê²°ê³¼ê°€ ì¦ê°€í•œë‹¤. í…Œì´ë¸”ì˜ ë°ì´í„°ê°€ íŒ€A, íšŒì›1, íšŒì›2 ìˆë‹¤ê³  í•˜ë©´ ê²°ê³¼ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.  teamname = íŒ€A, team = Team@0x100     username = íšŒì›1, member = Member@0x200     username = íšŒì›2, member = Member@0x300 teamname = íŒ€A, team = Team@0x100     username = íšŒì›1, member = Member@0x200     username = íšŒì›2, member = Member@0x300       í˜ì¹˜ ì¡°ì¸ê³¼ DISTINCT  ìœ„ì˜ ì»¬ë ‰ì…˜ í˜ì¹˜ ì¡°ì¸ì€ íŒ€Aê°€ ì¤‘ë³µìœ¼ë¡œ ì¡°íšŒëœë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ DISTINCTë¥¼ ì‚¬ìš©í•œë‹¤.  select distinct t from Team t join fetch t.members where t.name = 'íŒ€A'  ìœ„ ìƒí™©ì˜ ë°ì´í„°ëŠ” SQLì—ì„œ DISTINCTë¥¼ í•´ë„ íš¨ê³¼ê°€ ì—†ë‹¤.                  ë¡œìš° ë²ˆí˜¸       íŒ€       íšŒì›                       1       íŒ€A       íšŒì›1                 2       íŒ€A       íšŒì›2           í•˜ì§€ë§Œ JPQLì˜ select distinct tì˜ ì˜ë¯¸ëŠ” ì—”í‹°í‹°ì˜ ì¤‘ë³µì„ ì œê±°í•˜ë¼ëŠ” ê²ƒì´ë‹¤. ë”°ë¼ì„œ íŒ€AëŠ” í•˜ë‚˜ë§Œ ì¡°íšŒëœë‹¤.  teamname = íŒ€A, team = Team@0x100     username = íšŒì›1, member = Member@0x200     username = íšŒì›2, member = Member@0x300      í˜ì¹˜ ì¡°ì¸ê³¼ ì¼ë°˜ ì¡°ì¸ì˜ ì°¨ì´     ì¼ë°˜ ì¡°ì¸: JPQLì˜ ê²°ê³¼ë¥¼ ë°˜í™˜í•  ë•Œ ì—°ê´€ê´€ê³„ê¹Œì§€ ê³ ë ¤í•˜ì§€ ì•ŠëŠ”ë‹¤. ë‹¨ì§€ SELECT ì ˆì— ì§€ì •í•œ ì—”í‹°í‹°ë§Œ ì¡°íšŒí•  ë¿ì´ë‹¤.   í˜ì¹˜ ì¡°ì¸: SELECT ì ˆì— ì§€ì •í•œ ì—”í‹°í‹°ë¿ë§Œ ì•„ë‹ˆë¼ ì§€ì •í•˜ì§€ ì•Šì•˜ì–´ë„ ì—°ê´€ëœ ì—”í‹°í‹°ë„ í•¨ê»˜ ì¡°íšŒí•œë‹¤.       í˜ì¹˜ ì¡°ì¸ì˜ íŠ¹ì§•ê³¼ í•œê³„     SQL í•œë²ˆìœ¼ë¡œ ì—°ê´€ëœ ì—”í‹°í‹°ë“¤ì„ ì¡°íšŒí•˜ì—¬ SQL í˜¸ì¶œ íšŸìˆ˜ë¥¼ ì¤„ì—¬ ì„±ëŠ¥ì„ ìµœì í™”í•  ìˆ˜ ìˆë‹¤.   JPQLì—ì„œ í˜ì¹˜ ì¡°ì¸ì„ ì‚¬ìš©í•˜ë©´ ê¸€ë¡œë²Œ ì „ëµë³´ë‹¤ ìš°ì„  ì ìš©ëœë‹¤.            ê¸€ë¡œë²Œ ì „ëµ ì˜ˆ: @OneToMany(fetch = FetchType.LAZY)           í˜ì¹˜ ì¡°ì¸ì„ í•˜ë©´ ì¿¼ë¦¬ ì‹œì ì— ì¡°íšŒí•˜ë¯€ë¡œ ì¤€ì˜ì† ìƒíƒœì—ì„œë„ ê°ì²´ ê·¸ë˜í”„ë¥¼ íƒìƒ‰í•  ìˆ˜ ìˆë‹¤.   í˜ì¹˜ ì¡°ì¸ ëŒ€ìƒì—ëŠ” ë³„ì¹­ì„ ì¤„ ìˆ˜ ì—†ë‹¤.            ë”°ë¼ì„œ SELECT, WHERE, ì„œë¹„ ì¿¼ë¦¬ì— í˜ì¹˜ ì¡°ì¸ ëŒ€ìƒì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.       í•˜ì´ë²„ë„¤ì´íŠ¸ì—ì„œëŠ” í˜ì¹˜ ì¡°ì¸ì— ë³„ì¹­ì„ ì§€ì›í•œë‹¤. í•˜ì§€ë§Œ ì˜ëª» ì‚¬ìš©í•˜ë©´ ì—°ê´€ëœ ë°ì´í„° ìˆ˜ê°€ ë‹¬ë¼ì ¸ ë¬´ê²°ì„±ì´ ê¹¨ì§ˆ ìˆ˜ ìˆë‹¤.           ë‘˜ ì´ìƒì˜ ì»¬ë ‰ì…˜ì„ í˜ì¹˜í•  ìˆ˜ ì—†ë‹¤.   ì»¬ë ‰ì…˜ì„ í˜ì¹˜ ì¡°ì¸í•˜ë©´ í˜ì´ì§• APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.            ì»¬ë ‰ì…˜(ì¼ëŒ€ë‹¤)ì´ ì•„ë‹Œ ë‹¨ì¼ ê°’ ì—°ê´€ í•„ë“œ(ì¼ëŒ€ì¼, ë‹¤ëŒ€ì¼)ì€ í˜ì¹˜ ì¡°ì¸ ê°€ëŠ¥       í•˜ì´ë²„ë„¤ì´íŠ¸ëŠ” ì»¬ë ‰ì…˜ì„ í˜ì¹˜ ì¡°ì¸í•˜ê³  í˜ì´ì§• APIë¥¼ ì‚¬ìš©í•˜ë©´ ê²½ê³  ë¡œê·¸ë¥¼ ë‚¨ê¸°ê³  ë©”ëª¨ë¦¬ì—ì„œ í˜ì´ì§• ì²˜ë¦¬í•œë‹¤. í•˜ì§€ë§Œ ì„±ëŠ¥ ì´ìŠˆê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.           ì¶”ì²œì€ ê¸€ë¡œë²Œ ì „ëµì€ ì§€ì—° ë¡œë”©ì„ ì‚¬ìš©í•˜ê³  ìµœì í™”ê°€ í•„ìš”í•˜ë©´ ê·¸ ë•Œ í˜ì¹˜ ì¡°ì¸ì„ ì ìš©í•œë‹¤.         10.2.8 ê²½ë¡œ í‘œí˜„ì‹  ê²½ë¡œ í‘œí˜„ì‹ì´ë€ m.username, m.team ì²˜ëŸ¼ .(ì )ì„ ì°ì–´ ê°ì²´ ê·¸ë˜í”„ë¥¼ íƒìƒ‰í•˜ëŠ” ê²ƒì´ë‹¤.   ê²½ë¡œ í‘œí˜„ì‹ì˜ ìš©ì–´ ì •ë¦¬     ìƒíƒœ í•„ë“œ: ë‹¨ìˆœíˆ ê°’ì„ ì €ì¥í•˜ê¸° ìœ„í•œ í•„ë“œ   ì—°ê´€ í•„ë“œ: ì—°ê´€ê´€ê³„ë¥¼ ìœ„í•œ í•„ë“œ, ì„ë² ë””ë“œ íƒ€ì… í¬í•¨            ë‹¨ì¼ ê°’ ì—°ê´€í•„ë“œ: @ManyToOne, @OneToOne, ëŒ€ìƒì´ ì—”í‹°í‹°       ì»¬ë ‰ì…˜ ê°’ ì—°ê´€ í•„ë“œ: @OneToMany, @ManyToMany, ëŒ€ìƒì´ ì»¬ë ‰ì…˜           @Entity public class Member {     ...ìƒëµ...     @Column(name = \"name\")     private String username;    // ìƒíƒœ í•„ë“œ      @ManyToOne(...)     private Team team;          // ì—°ê´€ í•„ë“œ (ë‹¨ì¼ ê°’)      @OneToMany(...)     private List&lt;Order&gt; orders; // ì—°ê´€ í•„ë“œ (ì»¬ë ‰ì…˜ ê°’)     ...ìƒëµ... }      ê²½ë¡œ í‘œí˜„ì‹ íŠ¹ì§•  JPQLì—ì„œ ê²½ë¡œ í‘œí˜„ì‹ì˜ íŠ¹ì§•          ìƒíƒœ í•„ë“œ ê²½ë¡œ: ê²½ë¡œ íƒìƒ‰ì˜ ëì´ë‹¤. ë”ëŠ” íƒìƒ‰í•  ìˆ˜ ì—†ë‹¤.         -- JPQL   select m.username, m.age from Member m    -- SQL ë³€í™˜   select m.name, m.age from Member m                       ë‹¨ì¼ ê°’ ì—°ê´€ ê²½ë¡œ: ë¬µì‹œì ìœ¼ë¡œ ë‚´ë¶€ ì¡°ì¸ì´ ì¼ì–´ë‚œë‹¤. ë‹¨ì¼ ê°’ ì—°ê´€ ê²½ë¡œëŠ” ê³„ì† íƒìƒ‰í•  ìˆ˜ ìˆë‹¤.         -- JPQL   select o.member from Order o  -- ë¬µì‹œì  ì¡°ì¸   -- where o.product.name = 'productA' ì´ë ‡ê²Œ ê³„ì† íƒìƒ‰ ê°€ëŠ¥    -- SQL ë³€í™˜   select m.*   from Order o       inner join Member m on o.member_id = m.id -- ë¬µì‹œì ìœ¼ë¡œ ë‚´ë¶€ ì¡°ì¸ì´ ì¼ì–´ë‚¬ë‹¤                       ì»¬ë ‰ì…˜ ê°’ ì—°ê´€ ê²½ë¡œ: ë¬µì‹œì ìœ¼ë¡œ ë‚´ë¶€ ì¡°ì¸ì´ ì¼ì–´ë‚œë‹¤. ë”ëŠ” íƒìƒ‰í•  ìˆ˜ ì—†ë‹¤. ë‹¨ FROM ì ˆì—ì„œ ì¡°ì¸ì„ í†µí•´ ë³„ì¹­ì„ ì–»ìœ¼ë©´ ë³„ì¹­ìœ¼ë¡œ íƒìƒ‰í•  ìˆ˜ ìˆë‹¤.         -- JPQL   -- ì„±ê³µ   select t.members from Team t     -- ì‹¤íŒ¨, ì»¬ë ‰ì…˜ ê°’ì€ íƒìƒ‰ì´ ë¶ˆê°€    select t.members.username from Team t    -- ë‹¤ìŒì²˜ëŸ¼ ë³„ì¹­ì„ ì–»ì–´ì„œ ê²½ë¡œíƒìƒ‰ì„ í•´ì•¼ í•œë‹¤.   select m.username from Team t join t.members m    -- ì»¬ë ‰ì…˜ì˜ í¬ê¸°ë¥¼ êµ¬í•  ìˆ˜ ìˆëŠ” sizeê¸°ëŠ¥ ì œê³µ, ì´ë¥¼ ì‚¬ìš©í•˜ë©´ countí•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” SQLë¡œ ë³€í™˜ëœë‹¤.   select t.members.size from Team t                     ê²½ë¡œ íƒìƒ‰ì„ ì‚¬ìš©í•œ ë¬µì‹œì  ì¡°ì¸ ì‹œ ì£¼ì˜ì‚¬í•­     í•­ìƒ ë‚´ë¶€ ì¡°ì¸ì´ë‹¤.   ì»¬ë ‰ì…˜ì€ ê²½ë¡œ íƒìƒ‰ì˜ ëì´ë‹¤. ì»¬ë ‰ì…˜ì—ì„œ ê²½ë¡œ íƒìƒ‰ì„ í•˜ë ¤ë©´ ëª…ì‹œì ìœ¼ë¡œ ì¡°ì¸í•´ì„œ ë³„ì¹­ì„ ì–»ì–´ì•¼ í•œë‹¤.   ê²½ë¡œ íƒìƒ‰ì€ ì£¼ë¡œ SELECT, WHERE ì ˆ(ë‹¤ë¥¸ ê³³ì—ì„œë„ ì‚¬ìš©ë¨)ì—ì„œ ì‚¬ìš©í•˜ì§€ë§Œ ë¬µì‹œì  ì¡°ì¸ìœ¼ë¡œ ì¸í•´ SQLì˜ FROMì ˆì— ì˜í–¥ì„ ì¤€ë‹¤.   ë‹¨ìˆœí•˜ê³  ì„±ëŠ¥ì— ì´ìŠˆê°€ ì—†ìœ¼ë©´ ë¬¸ì œê°€ ì•ˆ ë˜ì§€ë§Œ, ì„±ëŠ¥ì´ ì¤‘ìš”í•˜ë©´ ë¶„ì„í•˜ê¸° ì‰½ë„ë¡ ë¬µì‹œì  ì¡°ì¸ë³´ë‹¤ëŠ” ëª…ì‹œì  ì¡°ì¸ì„ ì‚¬ìš©í•˜ì.        10.2.9 ì„œë¸Œ ì¿¼ë¦¬  JPQLë„ SQLì²˜ëŸ¼ ì„œë¸Œ ì¿¼ë¦¬ë¥¼ ì§€ì›í•œë‹¤.     ì‚¬ìš©ê°€ëŠ¥: WHERE, HAVING ì ˆ   ì‚¬ìš©ë¶ˆê°€: SELECT, FROM ì ˆ            í•˜ì´ë²„ë„¤ì´íŠ¸ì˜ HQLì€ SELECT ì ˆì˜ ì„œë¸Œ ì¿¼ë¦¬ë„ í—ˆìš©í•œë‹¤. í•˜ì§€ë§Œ FROM ì ˆì˜ ì„œë¸Œ ì¿¼ë¦¬ëŠ” ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤.              ì„œë¸Œì¿¼ë¦¬ ì˜ˆ  -- ë‚˜ì´ê°€ í‰ê· ë³´ë‹¤ ë§ì€ íšŒì› select m from Member m where m.age &gt; (select avg(m2.age) from Member m2)  -- í•œ ê±´ì´ë¼ë„ ì£¼ë¬¸í•œ ê³ ê° select m from Member m where (select count(o) from Order o where m = o.member) &gt; 0  -- í•œ ê±´ì´ë¼ë„ ì£¼ë¬¸í•œ ê³ ê° -- size ì´ìš©, ìœ„ì™€ ê²°ê³¼ê°€ ê°™ë‹¤.(ì‹¤í–‰ SQLë„ ê°™ë‹¤) select m from Member m where m.orders.size &gt; 0      ì„œë¸Œ ì¿¼ë¦¬ í•¨ìˆ˜  ì„œë¸Œ ì¿¼ë¦¬ëŠ” ë‹¤ìŒ í•¨ìˆ˜ë“¤ê³¼ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.      EXISTS            ë¬¸ë²•: [NOT] EXISTS (subquery)       ì„¤ëª…: ì„œë¸Œì¿¼ë¦¬ì— ê²°ê³¼ê°€ ì¡´ì¬í•˜ë©´ ì°¸ì´ë‹¤.         select m from Member m where exists (select t from m.team t where t.name = 'íŒ€A')                                      {ALL | ANY | SOME}            ë¬¸ë²•: {ALL | ANY | SOME} (subquery)       ì„¤ëª…: ë¹„êµ ì—°ì‚°ìì™€ ê°™ì´ ì‚¬ìš©í•œë‹¤. {= | &gt; | &gt;= | &lt; | &lt;= | &lt;&gt;}                    ALL: ì¡°ê±´ì„ ëª¨ë‘ ë§Œì¡±í•˜ë©´ ì°¸ì´ë‹¤.           ANY í˜¹ì€ SOME: ë‘˜ì€ ê°™ì€ ì˜ë¯¸ë‹¤. ì¡°ê±´ì„ í•˜ë‚˜ë¼ë„ ë§Œì¡±í•˜ë©´ ì°¸ì´ë‹¤.                   select o from Order o where o.orderAmount &gt; ALL (select p.stockAmount from Product p)  select m from Member m where m.team = ANY (select t from Team t)                                      IN            ë¬¸ë²•: [NOT] IN (subquery)       ì„¤ëª…: ì„œë¸Œì¿¼ë¦¬ì˜ ê²°ê³¼ ì¤‘ í•˜ë‚˜ë¼ë„ ê°™ì€ ê²ƒì´ ìˆìœ¼ë©´ ì°¸ì´ë‹¤. ì°¸ê³ ë¡œ INì€ ì„œë¸Œì¿¼ë¦¬ê°€ ì•„ë‹Œê³³ì—ì„œë„ ì‚¬ìš©í•œë‹¤.         select t from Team t where t IN (select t2 From Team t2 JOIN t2.members m2 where m2.age &gt;= 20)                                        10.2.10 ì¡°ê±´ì‹   íƒ€ì… í‘œí˜„  JPQLì—ì„œ ì‚¬ìš©í•˜ëŠ” íƒ€ì…ì€ ë‹¤ìŒê³¼ ê°™ì´ í‘œì‹œí•œë‹¤. ëŒ€ì†Œë¬¸ìëŠ” êµ¬ë¶„í•˜ì§€ ì•ŠëŠ”ë‹¤.                              ì¢…ë¥˜             ì„¤ëª…             ì˜ˆì œ                                         ë¬¸ì                          ì‘ì€ ë”°ì˜´í‘œ ì‚¬ì´ì— í‘œí˜„              ì‘ì€ ë”°ì˜´í‘œë¥¼ í‘œí˜„í•˜ê³  ì‹¶ìœ¼ë©´ ì‘ì€ ë”°ì˜´í‘œ ì—°ì† ë‘ê°œ('') ì‚¬ìš©                                       'HELLO'              'She''s'                                            ìˆ«ì                              L(Long íƒ€ì… ì§€ì •)                  D(Doublc íƒ€ì… ì§€ì •)                  F(Float íƒ€ì… ì§€ì •)                                           10L                  10D                  10F                                            ë‚ ì§œ                              DATE {d 'yyyy-mm-dd'}                  TIME {t 'hh-mm-ss'}                  DATETIME {ts 'yyyy-mm-dd hh-mm:ss.f'}                                            {d '2012-03-24'}                  {t '10-11-28'}                  {ts '2012-03-24 10-11-28.123'}                  m.createDate = {d '2012-03-24'}                                            Boolen                              TRUE, FALSE                                                         Enum                              íŒ¨í‚¤ì§•ëª…ì„ í¬í•¨í•œ ì „ì²´ ì´ë¦„ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.                                           jpabook.MemberType.Admin                                            ì—”í‹°í‹° íƒ€ì…                              ì—”í‹°í‹°ì˜ íƒ€ì…ì„ í‘œí˜„í•œë‹¤. ì£¼ë¡œ ìƒì†ê³¼ ê´€ë ¨í•´ì„œ ì‚¬ìš©í•œë‹¤.                                           TYPE(m) = Member                                 ì—°ì‚°ì ìš°ì„  ìˆœìœ„     ê²½ë¡œ íƒìƒ‰ ì—°ì‚° (.)   ìˆ˜í•™ ì—°ì‚°: +, -(ë‹¨í•­ ì—°ì‚°ì), *, /, +, -   ë¹„êµì—°ì‚°: =, &gt;, &gt;=, &lt;, &lt;=, &lt;&gt;   ë…¼ë¦¬ ì—°ì‚°: NOT, AND, OR       ë…¼ë¦¬ ì—°ì‚°ê³¼ ë¹„êµì‹     ë…¼ë¦¬ ì—°ì‚°            AND       OR       NOT           ë¹„êµì‹            =, &gt;, &gt;=, &lt;, &lt;=, &lt;&gt;               Between, IN, Like, NULL ë¹„êµ     Between ì‹            ë¬¸ë²•: x [NOT] BETWEEN A AND B       ì„¤ëª…: xëŠ” A ~ B ì‚¬ì´ì˜ ê°’ì´ë©´ ì°¸ì´ë‹¤.(A, Bê°’ í¬í•¨)           IN ì‹            ë¬¸ë²•: x [NOT] IN       ì„¤ëª…: Xì™€ ê°™ì€ ê°’ì´ í•˜ë‚˜ë¼ë„ ìˆìœ¼ë©´ ì°¸ì´ë‹¤.           Like ì‹            ë¬¸ë²•: ë¬¸ìí‘œí˜„ì‹ [NOT] LIKE íŒ¨í„´ê°’ [ESCAPE ì´ìŠ¤ì¼€ì´í”„ë¬¸ì]       ì„¤ëª…: ë¬¸ìí‘œí˜„ì‹ê³¼ íŒ¨í…€ê°’ì„ ë¹„êµí•œë‹¤.                    %(í¼ì„¼íŠ¸): ì•„ë¬´ ê°’ë“¤ì´ ì…ë ¥ë˜ì–´ë„ ëœë‹¤. ê°’ì´ ì—†ì–´ë„ ëœë‹¤.           _(ì–¸ë”ë¼ì¸): í•œ ê¸€ìëŠ” ì•„ë¬´ ê°’ì´ ì…ë ¥ë˜ì–´ë„ ë˜ì§€ë§Œ ê°’ì´ ìˆì–´ì•¼ ëœë‹¤.                           -- íšŒì›A, íšŒì›1.. where m.username like 'íšŒì›_'  -- íšŒì›3 where m.username like '__3'  -- íšŒì›% where m.username like 'íšŒì›\\%' ESCAPE '\\'           NULL ë¹„êµì‹            ë¬¸ë²•: {ë‹¨ì¼ê°’ ê²½ë¡œ | ì…ë ¥ íŒŒë¼ë¯¸í„°} IS [NOT] NULL       ì„¤ëª…: NULLì¸ì§€ ë¹„êµí•œë‹¤. NULLì€ = ìœ¼ë¡œ ë¹„êµí•˜ë©´ ì•ˆ ë˜ê³  ê¼­ IS NULLì„ ì‚¬ìš© í•´ì•¼ í•œë‹¤.            where m.username is null  where null = null -- ê±°ì§“  where 1 = 1 -- ì°¸                    ì»¬ë ‰ì…˜ ì‹  ì»¬ë ‰ì…˜ì—ë§Œ ì‚¬ìš©í•˜ëŠ” íŠ¹ë³„í•œ ê¸°ëŠ¥ì´ë‹¤. ì»¬ë ‰ì…˜ì€ ì»¬ë ‰ì…˜ ì‹ ì´ì™¸ì— ë‹¤ë¥¸ ì‹ì€ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.      ë¹ˆ ì»¬ë ‰ì…˜ ë¹„êµ ì‹            ë¬¸ë²•: {ì»¬ë ‰ì…˜ ê°’ ì—°ê´€ ê²½ë¡œ} IS [NOT] EMPTY       ì„¤ëª…: ì»¬ë ‰ì…˜ì— ê°’ì´ ë¹„ì—ˆìœ¼ë©´ ì°¸           -- JPQL select m from Member m where m.orders is not empty  -- SQL ë³€í™˜ select m.* from Member m where exists (   select o.id   from Orders o   where m.id = o.member_id )           ì»¬ë ‰ì…˜ì˜ ë©¤ë²„ ì‹            ë¬¸ë²•: {ì—”í‹°í‹°ë‚˜ ê°’} [NOT] MEMBER [OF] {ì»¬ë ‰ì…˜ ê°’ ì—°ê´€ ê²½ë¡œ}       ì„¤ëª…: ì—”í‹°í‹°ë§ˆ ê°’ì´ ì»¬ë ‰ì…˜ì— í¬í•¨ë˜ì–´ ìˆìœ¼ë©´ ì°¸           select t from Team t where :memberParam member of t.members                    ìŠ¤ì¹¼ë¼ ì‹  ìŠ¤ì¹¼ë¼ëŠ” ìˆ«ì, ë¬¸ì, ë‚ ì§œ, case, ì—”í‹°í‹° íƒ€ì…ê°™ì€ ê°€ì¥ ê¸°ë³¸ì ì¸ íƒ€ì…ë“¤ì„ ë§í•œë‹¤.      ìˆ˜í•™ ì‹            +, -: ë‹¨í•­ ì—°ì‚°ì (ì–‘ìˆ˜, ìŒìˆ˜)       *, /, +, -: ì‚¬ì¹™ ì—°ì‚°              ë¬¸ì í•¨ìˆ˜                              í•¨ìˆ˜             ì„¤ëª…             ì˜ˆì œ                                         CONCAT(ë¬¸ì1, ë¬¸ì2, ...)                              ë¬¸ìë¥¼ í•©í•œë‹¤.                                           CONCAT('A', 'B') = AB                                            SUBSTRING(ë¬¸ì, ìœ„ì¹˜, [ê¸¸ì´])                              ìœ„ì¹˜ë¶€í„° ì‹œì‘í•´ ê¸¸ì´ë§Œí¼ ë¬¸ìë¥¼ êµ¬í•œë‹¤.                 ê¸¸ì´ ê°’ì´ ì—†ìœ¼ë©´ ë‚˜ë¨¸ì§€ ì „ì²´ ê¸¸ì´ë¥¼ ëœ»í•œë‹¤.                                           SUBSTRING('ABCDEF', 2, 3) = BCD                                            TRIM([[LEADING | TRAILING | BOTH] [íŠ¸ë¦¼ë¬¸ì] FROM] ë¬¸ì)                              LEADING: ì™¼ìª½ë§Œ íŠ¸ë¦¼                  TRAILING: ì˜¤ë¥¸ìª½ë§Œ íŠ¸ë¦¼                  BOTH: ì–‘ìª½ ë‹¤ íŠ¸ë¦¼                  ê¸°ë³¸ê°’ì€ BOTH                  íŠ¸ë¦¼ ë¬¸ìì˜ ê¸°ë³¸ê°’ì€ ê³µë°±(space)ì´ë‹¤.                                           TRIM('ABC') = 'ABC'                                            LOWER(ë¬¸ì)                              ì†Œë¬¸ìë¡œ ë³€ê²½                                           LOWER('ABC') = 'abc'                                            UPPER(ë¬¸ì)                              ëŒ€ë¬¸ìë¡œ ë³€ê²½                                           UPPER('abc') = 'ABC'                                            LENGTH(ë¬¸ì)                              ë¬¸ì ê¸¸ì´                                           LENGTH('ABC') = 3                                            LOCATE(ì°¾ì„ ë¬¸ì, ì›ë³¸ ë¬¸ì, [ê²€ìƒ‰ ì‹œì‘ ìœ„ì¹˜])                              ê²€ìƒ‰ìœ„ì¹˜ë¶€í„° ë¬¸ìë¥¼ ê²€ìƒ‰í•œë‹¤. 1ë¶€í„° ì‹œì‘, ëª» ì°¾ìœ¼ë©´ 0 ë°˜í™˜                                           LOCATE('DE', 'ABCDEFG') = 4                                    ìˆ˜í•™ í•¨ìˆ˜                              í•¨ìˆ˜             ì„¤ëª…             ì˜ˆì œ                                         ABS(ìˆ˜í•™ì‹)                              ì ˆëŒ€ê°’ì„ êµ¬í•œë‹¤                                           ABS(-10) = 10                                            SQRT(ìˆ˜í•™ì‹)                              ì œê³±ê·¼ì„ êµ¬í•œë‹¤.                                           SQRT(4) = 2.0                                            MOD(ìˆ˜í•™ì‹, ë‚˜ëˆŒ ìˆ˜)                              ë‚˜ë¨¸ì§€ë¥¼ êµ¬í•œë‹¤.                                           MOD(4, 3) = 1                                            SIZE(ì»¬ë ‰ì…˜ ê°’ ì—°ê´€ ê²½ë¡œì‹)                              ì»¬ë ‰ì…˜ì˜ í¬ê¸°ë¥¼ êµ¬í•œë‹¤                                           SIZE(t.members)                                            INDEX(ë³„ì¹­)                              LIST íƒ€ì… ì»¬ë ‰ì…˜ì˜ ìœ„ì¹˜ê°’ì„ êµ¬í•¨, ë‹¨ ì»¬ë ‰ì…˜ì´ @OrderColumnì„ ì‚¬ìš©í•˜ëŠ” LIST íƒ€ì…ì¼ ë•Œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.                                           t.members m where INDEX(m) &gt; 0                                    ë‚ ì§œ í•¨ìˆ˜  ë‚ ì§œ í•¨ìˆ˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì˜ í˜„ì¬ ì‹œê°„ì„ ì¡°íšŒí•œë‹¤.            CURRENT_DATE: í˜„ì¬ ë‚ ì§œ       CURRENT_TIME: í˜„ì¬ ì‹œê°„       CURRENT_TIMESTAMP: í˜„ì¬ ë‚ ì§œ ì‹œê°„           select CURRENT_DATE, CURRENT_TIME, CURRENT_TIMESTAMP from Team t  select e from Event e where e.endDate &lt; CURRENT_DATE  í•˜ì´ë²„ë„¤ì´íŠ¸ëŠ” ë‚ ì§œ íƒ€ì…ì—ì„œ ë…„, ì›”, ì¼, ì‹œê°„, ë¶„, ì´ˆ ê°’ì„ êµ¬í•˜ëŠ” ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤.  -- YEAR, MONTH, DAY, HOUR, MINUTE, SECOND select year(CURRENT_TIMESTAMP), month(CURRENT_TIMESTAMP) from Member      CASE ì‹  íŠ¹ì • ì¡°ê±´ì— ë”°ë¼ ë¶„ê¸°í•  ë•Œ CASE ì‹ì„ ì‚¬ìš©í•œë‹¤.     ê¸°ë³¸ CASE            ë¬¸ë²•:         CASE     {WHEN &lt;ì¡°ê±´ì‹&gt; THEN &lt;ìŠ¤ì¹¼ë¼ì‹&gt;}+     ELSE &lt;ìŠ¤ì¹¼ë¼ì‹&gt; END                  select     case when m.age &lt;= 10 then 'í•™ìƒìš”ê¸ˆ'          when m.age &gt;= 10 then 'ê²½ë¡œìš”ê¸ˆ'          else 'ì¼ë°˜ìš”ê¸ˆ'     end from Member m                                      ì‹¬í”Œ CASE            ë¬¸ë²•:             CASE         {WHEN &lt;ìŠ¤ì¹¼ë¼ì‹1&gt; THEN &lt;ìŠ¤ì¹¼ë¼ì‹2&gt;}+         ELSE &lt;ìŠ¤ì¹¼ë¼ì‹&gt;     END                  select     case t.name         when 'íŒ€A' then 'ì¸ì„¼í‹°ë¸Œ110%'         when 'íŒ€B' then 'ì¸ì„¼í‹°ë¸Œ120%'         else 'ì¸ì„¼í‹°ë¸Œ105%'     end from Team t                                      COALESCE            ë¬¸ë²•: COALESCE( {, }+)       ì„¤ëª…: ìŠ¤ì¹¼ë¼ì‹ì„ ì°¨ë¡€ëŒ€ë¡œ ì¡°íšŒí•´ì„œ nullì´ ì•„ë‹ˆë©´ ë°˜í™˜í•œë‹¤.         -- m.usernameì´ nullì´ ì•„ë‹ˆë©´ 'ì´ë¦„ ì—†ëŠ” íšŒì›'ì„ ë°˜í™˜í•œë‹¤. select coalesce(m.username, 'ì´ë¦„ ì—†ëŠ” íšŒì›') from Member m                                      NULLIF            ë¬¸ë²•: NULLIF(, )       ì„¤ëª…: ë‘ ê°’ì´ ê°™ìœ¼ë©´ nullì„ ë°˜í™˜í•˜ê³  ë‹¤ë¥´ë©´ ì²« ë²ˆì§¸ ê°’ì„ ë°˜í™˜í•œë‹¤.         -- ê´€ë¦¬ìë©´ nullì„ ë°˜í™˜í•˜ê³  ë‚˜ë¨¸ì§€ëŠ” ë³¸ì¸ ì´ë¦„ì„ ë°˜í™˜ select nullif(m.username, 'ê´€ë¦¬ì') from Member m                                          10.2.11 ë‹¤í˜•ì„± ì¿¼ë¦¬  JPQLë¡œ ë¶€ëª¨ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•˜ë©´ ê·¸ ìì‹ ì—”í‹°í‹°ë„ í•¨ê»˜ ì¡°íšŒëœë‹¤.  @Entity @Inheritance(strategy = InheritanceType.SINGLE_TABLE) @DiscriminatorColumn(name = \"DTYPE\") public abstract class Item {...}  @Entity @DiscriminatorValue(\"B\") public class Book extends Item {     private String author;     ... }  ë‹¤ìŒì„ ì¡°íšŒí•˜ë©´ Itemì˜ ìì‹ë„ í•¨ê»˜ ì¡°íšŒëœë‹¤.  List resultList = em.createQuery(\"select t from Item i\").getResultList();  -- ë‹¨ì¼ í…Œì´ë¸” ì „ëµ(InheritanceType.SINGLE_TABLE) SQL SELECT * FROM ITEM  -- ì¡°ì¸ ì „ëµ(InheritanceType.JOINED) SQL SELECT      i.ITEM_ID, i.DTYPE, i.name, i.price, i.stockQuantity,     b.author, b.isbn,     b.artist, a.ect,     m.actor, m.director FROM     ITEM i LEFT OUTER JOIN     BOOK b on i.ITEM_ID = b.ITEM_ID LEFT OUTER JOIN     ALBUM a on i.ITEM_ID = a.ITEM_ID LEFT OUTER JOIN     MOVIE M on i.ITEM_ID = m.ITEM_ID      TYPE  TYPEì€ ì—”í‹°í‹°ì˜ ìƒì† êµ¬ì¡°ì—ì„œ ì¡°íšŒ ëŒ€ìƒì„ íŠ¹ì • ìì‹ íƒ€ì…ìœ¼ë¡œ í•œì •í•  ë•Œ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤.   -- Item ì¤‘ì— Book, Movieë¥¼ ì¡°íšŒí•˜ë¼. -- JPQL  select i from Item i where type(i) IN (Book, Movie)  -- SQL SELECT i FROM Item i WHERE i.DTYPE in ('B','M')      TREAT (JPA 2.1)  ìë°”ì˜ íƒ€ì… ìºìŠ¤íŒ…ê³¼ ë¹„ìŠ·í•œë‹¤. ìƒì† êµ¬ì¡°ì—ì„œ ë¶€ëª¨ íƒ€ì…ì„ íŠ¹ì • ìì‹ íƒ€ì…ìœ¼ë¡œ ë‹¤ë£° ë•Œ ì‚¬ìš©í•œë‹¤.  JPA í‘œì¤€ì€ FROM, WHERE ì ˆì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ, í•˜ì´ë²„ë„¤ì´íŠ¸ëŠ” SELECT ì ˆì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.  -- JPQL -- treatë¥¼ ì‚¬ìš©í•´ì„œ ë¶€ëª¨ íƒ€ì…ì¸ Itemì„ ìì‹ íƒ€ì…ì¸ Bookìœ¼ë¡œ ë‹¤ë£¬ë‹¤. -- ë”°ë¼ì„œ Bookì˜ author í•„ë“œì— ì ‘ê·¼ í•  ìˆ˜ ìˆë‹¤. select i from Item i where treat(i as Book).author = 'kim'          10.2.12 ì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜ í˜¸ì¶œ (JPA 2.1)  JPA 2.1ë¶€í„° ì‚¬ìš©ì ì €ì˜ í•¨ìˆ˜ë¥¼ ì§€ì›í•œë‹¤.   ë¬¸ë²•  function_invocation::= FUNCTION(function_name {, function_arg}*)  ì˜ˆ  select function('group_concat', i.name) from Item i  -- í•˜ì´ë²„ë„¤ì´íŠ¸ êµ¬í˜„ì²´ëŠ” ì¶•ì•½ ê°€ëŠ¥ select group_concat(i.name) from Item i  í•˜ì´ë²„ë„¤ì´íŠ¸ êµ¬í˜„ì²´ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ë°©ì–¸ í´ë˜ìŠ¤ë¥¼ ìƒì†í•´ì„œ êµ¬í˜„í•˜ê³ , ì‚¬ìš©í•  ë°ì´í„°ë² ì´ìŠ¤ í•¨ìˆ˜ë¥¼ ë¯¸ë¦¬ ë“±ë¡í•´ì•¼ í•œë‹¤.  // ë°©ì–¸ í´ë˜ìŠ¤ ìƒì† public class MyH2Dialect extends H2Dialect {     public MyH2Dialect() {         registerFunction(             \"group_concat\",             new StandardSQLFunction(\"group_concat\", StandardBasicTypes.STRING)         );     } }  &lt;!-- ìƒì†í•œ ë°©ì–¸ í´ë˜ìŠ¤ ë“±ë¡ --&gt; &lt;property name=\"hibernate.dialect\" value=\"hello.MyH2Dialect\"&gt;        10.2.13 ê¸°íƒ€ ì •ë¦¬     enumì€ = ë¹„êµ ì—°ì‚°ë§Œ ì§€ì›í•œë‹¤.   ì„ë² ë””ë“œ íƒ€ì…ì€ ë¹„êµë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤.   EMPTY STRING     JPA í‘œì¤€ì€ â€˜â€˜ì„ ê¸¸ì´ 0ì¸ Empty Stringìœ¼ë¡œ ì •í–ˆì§€ë§Œ ë°ì´í„°ë² ì´ìŠ¤ì— ë”°ë¼ â€˜â€˜ë¥¼ NULLë¡œ ì‚¬ìš©í•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ë„ ìˆìœ¼ë¯€ë¡œ í™•ì¸í•˜ê³  ì‚¬ìš©í•´ì•¼ í•œë‹¤.      NULL ì •ì˜     ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë°ì´í„°ê°€ í•˜ë‚˜ë„ ì—†ìœ¼ë©´ NULLì´ë‹¤.   NULLì€ ì•Œ ìˆ˜ ì—†ëŠ” ê°’(unknown value)ì´ë‹¤. NULLê³¼ì˜ ëª¨ë“  ìˆ˜í•™ì  ê³„ì‚° ê²°ê³¼ëŠ” NULLì´ ëœë‹¤.   NULL == NULLì€ ì•Œ ìˆ˜ ì—†ëŠ” ê°’ì´ë‹¤.   NULL is NULLì€ ì°¸ì´ë‹¤.      JPA í‘œì¤€ ëª…ì„¸ NULL(U), TRUE(T), FALSE(F)ì˜ ë…¼ë¦¬ ê³„ì‚° í‘œ     AND                  AND       T       F       U                       T       T       F       U                 F       F       F       F                 U       U       F       U              OR                  OR       T       F       U                       T       T       T       T                 F       T       F       U                 U       T       U       U              NOT                  NOT       Â                        T       F                 F       T                 U       U                 10.2.14 ì—”í‹°í‹° ì§ì ‘ ì‚¬ìš©   ê¸°ë³¸ í‚¤ ê°’  JPQLì—ì„œ ì—”í‹°í‹° ê°ì²´ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ë©´ SQLì—ì„œëŠ” í•´ë‹¹ ì—”í‹°í‹°ì˜ ê¸°ë³¸ í‚¤ ê°’ì„ ì‚¬ìš©í•œë‹¤.  -- JPQL -- ì—”í‹°í‹°ì˜ ì•„ì´ë””ë¥¼ ì‚¬ìš© select count(m.id) from Member m  -- ì—”í‹°í‹°ë¥¼ ì§ì ‘ ì‚¬ìš© select count(m) from Member m  // ì—”í‹°í‹°ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ë°©ë²• String sql = \"select m from Member m where m = :member\"; List resultList = em.createQuery(sql)             .setParameter(\"member\", member)             .getResultList();   // ì‹ë³„ì ê°’ì„ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ë°©ë²• String sql = \"select m from Member m where m.id = :memberId\"; List resultList = em.createQuery(sql)             .setParameter(\"memberId\", 1L)             .getResultList();      ì™¸ë˜ í‚¤ ê°’  ì™¸ë˜ í‚¤ ê°’ë„ ì—”í‹°í‹° ê°ì²´ë¥¼ ì§ì ‘ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.  // ì—”í‹°í‹°ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ë°©ë²• String sql = \"select m from Member m where m.team = :team\"; List resultList = em.createQuery(sql)             .setParameter(\"team\", team)             .getResultList();   // ì‹ë³„ì ê°’ì„ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ë°©ë²• String sql = \"select m from Member m where m.team.id = :teamId\"; List resultList = em.createQuery(sql)             .setParameter(\"teamId\", 1L)             .getResultList();        10.2.15 Named ì¿¼ë¦¬: ì •ì  ì¿¼ë¦¬  Named ì¿¼ë¦¬ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œë”© ì‹œì ì— JPQL ë¬¸ë²•ì„ ì²´í¬í•˜ê³  ë¯¸ë¦¬ íŒŒì‹±í•´ë‘”ë‹¤. ë”°ë¼ì„œ ì—ëŸ¬ ìœ ë¬´ë¥¼ ë¹¨ë¦¬ í™•ì¸í•  ìˆ˜ ìˆê³ , ì¬ì‚¬ìš©í•˜ë¯€ë¡œ ì„±ëŠ¥ìƒ ì´ì ë„ ìˆë‹¤.   Named ì¿¼ë¦¬ë¥¼ ì–´ë…¸í…Œì´ì…˜ì— ì •ì˜  // @NamedQueryë¡œ Named ì¿¼ë¦¬ ì •ì˜ @Entity @NamedQuery(     name = \"Member.findByUsername\",     query = \"select m from Member m where m.username = :username\" ) public class Member {     ... }  // @NamedQueriesë¥¼ ì‚¬ìš©í•´ ì—¬ëŸ¬ê°œì˜ @NamedQuery ì§€ì • @Entity @NamedQueries(     @NamedQuery(         name = \"Member.findByUsername\",         query = \"select m from Member m where m.username = :username\"     ),     @NamedQuery(         name = \"Member.count\",         query = \"select count(m) from Member m\"     ) ) public class Member {     ... }  // ì‚¬ìš© List&lt;Member&gt; resultList = em.createNamedQuery(\"Member.findByUsername\", Member.class)                         .setPrameter(\"username\", \"íšŒì›1\")                         .getResultList();  Named ì¿¼ë¦¬ì— Member.findByUsername ì²˜ëŸ¼ Memberë¥¼ ë¶™ì¸ ê²ƒì€ ê¸°ëŠ¥ì ìœ¼ë¡œ íŠ¹ë³„í•œ ì˜ë¯¸ê°€ ìˆëŠ” ê²ƒì´ ì•„ë‹ˆë‹¤. ì¶©ë™ë°©ì§€, ê´€ë¦¬ì˜ ìš©ì´í•¨ì„ ìœ„í•´ ë¶™ì¸ ê²ƒì´ë‹¤.               10.3 Criteria  Criteria ì¿¼ë¦¬ëŠ” JPQLì„ ìë°” ì½”ë“œë¡œ ì‘ì„±í•˜ë„ë¡ ë„ì™€ì£¼ëŠ” ë¹Œë” í´ë˜ìŠ¤ APIë‹¤. ë¬¸ìê°€ ì•„ë‹Œ ì½”ë“œë¡œ JPQLì„ ì‘ì„±í•˜ë¯€ë¡œ ë¬¸ë²• ì˜¤ë¥˜ë¥¼ ì»´íŒŒì¼ ë‹¨ê³„ì—ì„œ ì¡ì„ ìˆ˜ ìˆë‹¤. ë™ì  ì¿¼ë¦¬ë¥¼ ì•ˆì „í•˜ê²Œ ìƒì„±í•  ìˆ˜ ìˆë‹¤. ë‹¤ë§Œ ì½”ë“œê°€ ë³µì¡í•˜ê³  ì¥í™©í•´ì„œ ì§ê´€ì ìœ¼ë¡œ ì´í•´ê°€ í˜ë“¤ë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤.   ë‚´ìš© ìƒëµ ğŸ˜…           10.4 QueryDSL  QueryDSLì€ Criteria ì²˜ëŸ¼ JPQL ë¹Œë” ì—­í• ì„ í•˜ëŠ”ë° ì‰½ê³  ê°„ê²°í•˜ë©°, ê·¸ ëª¨ì–‘ë„ ì¿¼ë¦¬ì™€ ë¹„ìŠ·í•˜ê²Œ ê°œë°œí•  ìˆ˜ ìˆë‹¤.   QueryDSLì€ ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ì´ë‹¤. ì•„ë˜ ì‚¬ì´íŠ¸ ì°¸ê³       QueryDSL   QueryDSL ë ˆí¼ëŸ°ìŠ¤ ë²ˆì—­ ë¬¸ì„œ       10.4.1 QueryDSL ì„¤ì •  í•„ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬  &lt;!-- QueryDSL JPA ë¼ì´ë¸ŒëŸ¬ë¦¬ --&gt; &lt;dependency&gt;   &lt;groupId&gt;com.querydsl&lt;/groupId&gt;   &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;   &lt;version&gt;${querydsl.version}&lt;/version&gt; &lt;/dependency&gt;  &lt;!-- ì¿¼ë¦¬ íƒ€ì…(Q)ì„ ìƒì„±í•  ë•Œ í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ --&gt; &lt;dependency&gt;   &lt;groupId&gt;com.querydsl&lt;/groupId&gt;   &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;   &lt;version&gt;${querydsl.version}&lt;/version&gt;   &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt;      í™˜ê²½ì„¤ì •  QueryDSLì„ ì‚¬ìš©í•˜ë ¤ë©´ ì—”í‹°í‹°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¿¼ë¦¬ íƒ€ì… ì´ë¼ëŠ” ì¿¼ë¦¬ìš© í´ë˜ìŠ¤ë¥¼ ìƒì„±í•´ì•¼ í•œë‹¤. ë‹¤ìŒì²˜ëŸ¼ í”ŒëŸ¬ê·¸ì¸ì„ ì¶”ê°€í•´ì•¼ í•œë‹¤.  &lt;project&gt;   &lt;build&gt;     &lt;plugins&gt;         ...         &lt;plugin&gt;         &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;         &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;         &lt;version&gt;1.1.3&lt;/version&gt;         &lt;executions&gt;             &lt;execution&gt;             &lt;goals&gt;                 &lt;goal&gt;process&lt;/goal&gt;             &lt;/goals&gt;             &lt;configuration&gt;                 &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;                 &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;             &lt;/configuration&gt;             &lt;/execution&gt;         &lt;/executions&gt;         &lt;/plugin&gt;         ...     &lt;/plugins&gt;   &lt;/build&gt; &lt;/project&gt;  ì´ì œ ì½˜ì†”ì—ì„œ mvc compileì„ ì…ë ¥í•˜ë©´ outputDirectoryì— ì§€ì •í•œ target/generated-sources ìœ„ì¹˜ì— QMember.java ì²˜ëŸ¼ Që¡œ ì‹œì‘í•˜ëŠ” ì¿¼ë¦¬ íƒ€ì…ë“¤ì´ ìƒì„±ëœë‹¤.       10.4.2 ì‹œì‘   ê°„ë‹¨ ì˜ˆì œ  public void queryDSL() {     JPAQuery query = new JPAQuery(entityManager);     QMember qMember = new QMember(\"m\"); // ìƒì„±ë˜ëŠ” JPQLì˜ ë³„ì¹­ì´ m     List&lt;Member&gt; members = query.from(qMember)                                 .where(qMember.name.eq(\"íšŒì›1\"))                                 .orderBy(qMember.name.desc)                                 .list(qMember); }      ê¸°ë³¸ Q ìƒì„±  ì¿¼ë¦¬ íƒ€ì…(Q)ëŠ” ì‚¬ìš©í•˜ê¸° í¸ë¦¬í•˜ë„ë¡ ë‹¤ìŒê³¼ ê°™ì´ ê¸°ë³¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë³´ê´€í•˜ê³  ìˆë‹¤.  public class QMember extends EntityPathBase&lt;Member&gt; {     public static final QMember member = new QMember(\"member1\");     ... }  ê°™ì€ ì—”í‹°í‹°ë¥¼ ì¡°ì¸í•˜ê±°ë‚˜, ê°™ì€ ì—”í‹°í‹°ë¥¼ ì„œë¸Œì¿¼ë¦¬ì— ì‚¬ìš©í•˜ë©´ ê°™ì€ ë³„ì¹­ì´ ì‚¬ìš©ë˜ë¯€ë¡œ ì´ë•ŒëŠ” ë³„ì§•ì„ ì§ì ‘ ì§€ì •í•´ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.  QMember qMember = new QMember(\"m\");  // ì§ì ‘ ì§€ì • QMember qMember = QMember.member;    // ê¸°ë³¸ ì¸ìŠ¤í„´ìŠ¤ ì‚¬ìš©  ë‹¤ìŒê³¼ ê°™ì´ import staticì„ í™œìš©í•˜ë©´ ì½”ë“œë¥¼ ê°„ê²°í•˜ê²Œ ì‘ì„± ê°€ëŠ¥í•˜ë‹¤.  import static jpabook.jpashop.domain.QMember.member; // ê¸°ë³¸ ì¸ìŠ¤í„´ìŠ¤  public void basic() {     JPAQuery query = new JPAQuery(entityManager);     List&lt;Member&gt; members = query.from(member)  // member ë°”ë¡œ ì‚¬ìš©                         .where(member.name.eq(\"íšŒì›1\"))                         .orderBy(member.name.desc)                         .list(member); }        10.4.3 ê²€ìƒ‰ ì¡°ê±´ ì¿¼ë¦¬  // where and query.from(customer)     .where(customer.firstName.eq(\"Bob\").and(customer.lastName.eq(\"Wilson\")));  // where or query.from(customer)     .where(customer.firstName.eq(\"Bob\").or(customer.lastName.eq(\"Wilson\")));  // between // 1800 ~ 2000 ë…„ë„ doc.year.between(\"1800\", \"2000\");  // contains // sqlì˜ like '%ìƒí’ˆ1%' item.name.contains(\"ìƒí’ˆ1\");  // startsWith // sqlì˜ like 'ì˜¤%' person.firstName.startsWith(\"ì˜¤\");        10.4.4 ê²°ê³¼ ì¡°íšŒ  ì¿¼ë¦¬ ì‘ì„±ì´ ëë‚˜ê³  ê²°ê³¼ ì¡°íšŒ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°íšŒí•œë‹¤. ê²°ê³¼ ì¡°íšŒ APIëŠ” com.mysema.query.Projectableì— ì •ì˜ë˜ì–´ ìˆë‹¤.      uniqueResult(): ì¡°íšŒ ê²°ê³¼ê°€ í•œ ê±´ì¼ ë•Œ ì‚¬ìš©. ì¡°íšŒ ê²°ê³¼ê°€ ì—†ìœ¼ë©´ nullì„ ë°˜í™˜í•˜ê³  í•˜ë‚˜ ì´ìƒì´ë©´ ì˜ˆì™¸ ë°œìƒ   singleResult(): uniqueResult()ì™€ ê°™ì§€ë§Œ ê²°ê³¼ê°€ í•˜ë‚˜ ì´ìƒì´ë©´ ì²˜ìŒ ë°ì´í„°ë¥¼ ë°˜í™˜   list(): ê²°ê³¼ê°€ í•˜ë‚˜ ì´ìƒì¼ ë•Œ ì‚¬ìš©. ê²°ê³¼ê°€ ì—†ìœ¼ë©´ ë¹ˆ ì»¬ë ‰ì…˜ ë°˜í™˜         10.4.5 í˜ì´ì§•ê³¼ ì •ë ¬  query.from(item)     .where(item.price.gt(20000))     .orderBy(item.price.desc(), item.stockQuantity.asc())     .offset(10).limit(20)     .list(item);  ì‹¤ì œ í˜ì´ì§• ì²˜ë¦¬ë¥¼ í•˜ë ¤ë©´ ê²€ìƒ‰ëœ ì „ì²´ ë°ì´í„° ìˆ˜ë¥¼ ì•Œì•„ì•¼ í•œë‹¤. ì´ë•ŒëŠ” list() ëŒ€ì‹ ì— listResults()ë¥¼ ì‚¬ìš©í•œë‹¤.  SearchResults&lt;Item&gt; result = query.from(item)                 .where(item.price.gt(20000))                 .orderBy(item.price.desc(), item.stockQuantity.asc())                 .offset(10).limit(20)                 .listResults(item);  long total = result.getTotal(); // ê²€ìƒ‰ëœ ì „ì²´ ë°ì´í„° ìˆ˜ List&lt;Item&gt; results = result.getResults(); // ì¡°íšŒëœ ë°ì´í„°        10.4.6 ê·¸ë£¹  query.from(item)     .groupBy(item.price)     .having(item.price.gt(1000))     .list(item);        10.4.7 ì¡°ì¸  ì¡°ì¸ì€ innerJoin, leftJoin, rightJoin, fullJoinì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì¶”ê°€ë¡œ JPQLì˜ fetchì¡°ì¸ë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.   ì¡°ì¸ì˜ ê¸°ë³¸ ë¬¸ë²•ì€ ì²« ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì— ì¡°ì¸ ëŒ€ìƒì„ ì§€ì •í•˜ê³ , ë‘ ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì— ë³„ì¹­ìœ¼ë¡œ ì‚¬ìš©í•  ì¿¼ë¦¬ íƒ€ì…ì„ ì§€ì •í•œë‹¤.  join(ì¡°ì¸ëŒ€ìƒ, ë³„ì¹­ìœ¼ë¡œ ì‚¬ìš©í•  ì¿¼ë¦¬ íƒ€ì…)  // ê¸°ë³¸ ì‚¬ìš© ë°©ë²• QCat cat = QCat.cat; QCat mate = new QCat(\"mate\"); QCate kitten = new QCat(\"kitten\"); query.from(cat)     .innerJoin(cat.mate, mate)     .leftJoin(cat.kittens, kitten)     .list(cat);   // ì¡°ì¸ on ì‚¬ìš© query.from(cat)     .leftJoin(cat.kittens, kitten)     .on(kitten.bodyWeight.gt(10.0))     .list(cat);   // í˜ì¹˜ ì¡°ì¸ ì‚¬ìš© query.from(cat)     .innerJoin(cat.mate, mate).fetch()     .leftJoin(cat.kittens, kitten).fetch()     .list(cat);  // ì„¸íƒ€ ì¡°ì¸ ì‚¬ìš© query.from(cat, mate)     .where(cat.mate.eq(mate))     .list(cat);        10.4.8 ì„œë¸Œ ì¿¼ë¦¬     ì„œë¸Œ ì¿¼ë¦¬ë¥¼ ë§Œë“¤ë ¤ë©´ com.mysema.query.jpa.JPASubQueryë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.   ì„œë¸Œ ì¿¼ë¦¬ ê²°ê³¼ê°€ í•˜ë‚˜ë©´ unique(), ì—¬ëŸ¬ ê±´ì´ë©´ list()ë¥¼ ì‚¬ìš©í•œë‹¤.   // ì„œë¸Œ ì¿¼ë¦¬ í•œ ê±´ QItem item = QItem.item; QItem itemSub = new QItem(\"itemSub\");  query.from(item)     .where(item.price.eq(         new JPASubQuery().from(itemSub).unique(itemSub.price.max())     ))     .list(item);    // ì„œë¸Œ ì¿¼ë¦¬ ì—¬ëŸ¬ ê±´ QItem item = QItem.item; QItem itemSub = new QItem(\"itemSub\");  query.from(item)     .where(item.in(         new JPASubQuery().from(itemSub)             .where(item.name.eq(itemSub.name))             .list(itemSub)     ))     .list(item);        10.4.9 í”„ë¡œì ì…˜ê³¼ ê²°ê³¼ ë°˜í™˜  select ì ˆì— ì¡°íšŒ ëŒ€ìƒì„ ì§€ì •í•˜ëŠ” ê²ƒì„ í”„ë¡œì ì…˜ì´ë¼ í•œë‹¤.   í”„ë¡œì ì…˜ ëŒ€ìƒì´ í•˜ë‚˜  í”„ë¡œì ì…˜ ëŒ€ìƒì´ í•˜ë‚˜ë©´ í•´ë‹¹ íƒ€ì…ìœ¼ë¡œ ë°˜í™˜í•œë‹¤.  QItem item = QItem.item; List&lt;String&gt; result = query.from(item).list(item.name);      ì—¬ëŸ¬ ì»¬ëŸ¼ ë°˜í™˜ê³  íŠœí”Œ  í”„ë¡œì ì…˜ ëŒ€ìƒì´ ì—¬ëŸ¬ í•„ë“œë¥¼ ì„ íƒí•˜ë©´ QueryDSLì€ ê¸°ë³¸ì ìœ¼ë¡œ com.mysema.query.Tupleì´ë¼ëŠ” ë‚´ë¶€ íƒ€ì…ì„ ì‚¬ìš©í•œë‹¤.  QItem item = QItem.item; List&lt;Tuple&gt; result = query.from(item).list(item.name, item.price);  for (Tuple tuple : result) {     tuple.get(item.name);   // name     tuple.get(item.price);  // price }      ë¹ˆ ìƒì„±  ì¿¼ë¦¬ ê²°ê³¼ë¥¼ ì—”í‹°í‹°ê°€ ì•„ë‹Œ íŠ¹ì • ê°ì²´ë¡œ ë°›ê³  ì‹¶ìœ¼ë©´ ë¹ˆ ìƒì„± ê¸°ëŠ¥ì„ ì‚¬ìš©í•œë‹¤. QueryDSLì€ ë‹¤ìŒì„ ì‚¬ìš©í•´ ê°ì²´ë¥¼ ìƒì„±í•œë‹¤.     í”„ë¡œí¼í‹° ì ‘ê·¼   í•„ë“œ ì§ì ‘ ì ‘ê·¼   ìƒì„±ì ì‚¬ìš©   public class ItemDTO {     private String username;     private String price;      // ìƒì„±ì ...     // Getter, Setter ... }      í”„ë¡œí¼í‹° ì ‘ê·¼  QItem item = QItem.item; List&lt;ItemDTO&gt; result = query.from(item) .list(Projections.bean(ItemDTO.class, item.name.as(\"username\"), item.price));  Projections.bean()ë©”ì†Œë“œëŠ” Setterë¥¼ ì‚¬ìš©í•´ì„œ ê°’ì„ ì±„ìš´ë‹¤.     í•„ë“œ ì§ì ‘ ì ‘ê·¼  QItem item = QItem.item; List&lt;ItemDTO&gt; result = query.from(item) .list(Projections.fields(ItemDTO.class, item.name.as(\"username\"), item.price));  Projections.fields()ë©”ì†Œë“œëŠ” í•„ë“œì— ì§ì ‘ ì ‘ê·¼í•´ì„œ ê°’ì„ ì±„ìš´ë‹¤.     ìƒì„±ì ì‚¬ìš©  QItem item = QItem.item; List&lt;ItemDTO&gt; result = query.from(item) .list(Projections.constructor(ItemDTO.class, item.name, item.price));  ìƒì„±ìë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì§€ì •í•œ í”„ë¡œì ì…˜ê³¼ íŒŒë¼ë¯¸í„° ìˆœì„œê°€ ê°™ì€ ìƒì„±ìê°€ í•„ìš”í•˜ë‹¤.     DISTINCT distinctëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•œë‹¤.  query.distinct().from(item)...        10.4.10 ìˆ˜ì •, ì‚­ì œ ë°°ì¹˜ ì¿¼ë¦¬  QuertDSLë„ ìˆ˜ì •, ì‚­ì œ ê°™ì€ ë°°ì¹˜ ì¿¼ë¦¬ë¥¼ ì§€ì›í•œë‹¤. JPQL ë°°ì¹˜ ì¿¼ë¦¬ì™€ ê°™ì´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ë¬´ì‹œí•˜ê³  ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì§ì ‘ ì¿¼ë¦¬í•œë‹¤ëŠ” ì ì— ìœ ì˜í•˜ì.   ìˆ˜ì • ë°°ì¹˜ ì¿¼ë¦¬  QItem item = QItem.item; JPAUpdateClause updateClause = new JPAUpdateClause(em, item); long count = updateClause.where(item.name.eq(\"ì‹œê³¨ê°œë°œìì˜ JPAì±…\"))                     .set(item.price, item.price.add(100))                     .execute();      ì‚­ì œ ë°°ì¹˜ ì¿¼ë¦¬  QItem item = QItem.item; JPADeleteClause deleteClause = new JPADeleteClause(em, item); long count = deleteClause.where(item.name.eq(\"ì‹œê³¨ê°œë°œìì˜ JPAì±…\")).execute();        10.4.11 ë™ì  ì¿¼ë¦¬  com.mysema.query.BooleanBuilderë¥¼ ì‚¬ìš©í•˜ë©´ íŠ¹ì • ì¡°ê±´ì— ë”°ë¥¸ ë™ì  ì¿¼ë¦¬ë¥¼ í¸ë¦¬í•˜ê²Œ ìƒì„±í•  ìˆ˜ ìˆë‹¤.  SearchParam param = new SearchParam(); param.setName(\"ì‹œê³¨ê°œë°œì\"); param.setPrice(10000);  QItem item = QItem.item;  BooleanBuilder builder = new BooleanBuilder(); if (StringUtils.hasText(param.getName())) {     builder.and(item.name.contains(param.getName())); }  if (param.getPrice != null) {     builder.and(item.price.gt(param.getPrice())); }  List&lt;Item&gt; result = query.from(item).where(builder).list(item);        10.4.12 ë©”ì†Œë“œ ìœ„ì„  ë©”ì†Œë“œ ìœ„ì„ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ì¿¼ë¦¬ íƒ€ì…ì— ê²€ìƒ‰ ì¡°ê±´ì„ ì§ì ‘ ì •ì˜í•  ìˆ˜ ìˆë‹¤.   ê²€ìƒ‰ ì¡°ê±´ ì •ì˜  public class ItemExpression {      @QueryDelegate(Item.class)     public static BooleanExpression isExpensive(QItem item, Integer price) {         return item.price.gt(price);     } }     ë©”ì†Œë“œ ìœ„ì„ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ ì •ì (static) ë©”ì†Œë“œë¥¼ ë§Œë“¤ê³  @QueryDelegate ì–´ë…¸í…Œì´ì…˜ì— ì†ì„±ìœ¼ë¡œ ì´ ê¸°ëŠ¥ì„ ì ìš©í•  ì—”í‹°í‹°ë¥¼ ì§€ì •í•œë‹¤.   ì •ì  ë©”ì†Œë“œì˜ ì²« ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì—ëŠ” ëŒ€ìƒ ì—”í‹°í‹°ì˜ ì¿¼ë¦¬ íƒ€ì…(Q)ì„ ì§€ì •í•˜ê³  ë‚˜ë¨¸ì§€ëŠ” í•„ìš”í•œ íŒŒë¼ë¯¸í„°ë¥¼ ì •ì˜í•œë‹¤.   ì¿¼ë¦¬ íƒ€ì…(Q)ì— ìƒì„±ëœ ê²°ê³¼  QItemì— ìƒì„±ëœ ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.  public class QItem extends EntityPathBase&lt;ITem&gt; {     ...     public com.mysema.query.types.expr.BooleanExpression isExpensive(Integer price) {         return ItemExpression.isExpensive(this, price);     } }   ì‚¬ìš©  query.from(item).where(item.isExpensive(30000)).list(item);      í•„ìš”í•˜ë‹¤ë©´ String, Date ê°™ì€ ìë°” ê¸°ë³¸ ë‚´ì¥ íƒ€ì…ì—ë„ ë©”ì†Œë“œ ìœ„ì„ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.  @QueryDelegate(String.class)     public static BooleanExpression isHelloStart(StringPath stringPath) {         return stringPath.startsWith(\"Hello\"); }            10.5 ë„¤ì´í‹°ë¸Œ SQL  JPQLì€ í‘œì¤€ SQLì´ ì§€ì›í•˜ëŠ” ëŒ€ë¶€ë¶„ì˜ ë¬¸ë²•ê³¼ SQL í•¨ìˆ˜ë“¤ì„ ì§€ì›í•˜ì§€ë§Œ íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ì— ì¢…ì†ì ì¸ ê¸°ëŠ¥ì€ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤. ì˜ˆë¥¼ ë“¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê²ƒë“¤ì´ë‹¤.      íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ë§Œ ì§€ì›í•˜ëŠ” í•¨ìˆ˜, ë¬¸ë²•, SQLì¿¼ë¦¬ íŒíŠ¸   ì¸ë¼ì¸ë·°(From ì ˆì—ì„œ ì‚¬ìš©í•˜ëŠ” ì„œë¸Œì¿¼ë¦¬), UNION, INTERSECT   ìŠ¤í† ì–´ë“œ í”„ë¡œì‹œì €      ë•Œë¡œëŠ” íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ì— ì¢…ì†ì ì¸ ê¸°ëŠ¥ì´ í•„ìš”í•˜ë‹¤. JPA êµ¬í˜„ì²´ë“¤ì€ JPA í‘œì¤€ë³´ë‹¤ ë” ë‹¤ì–‘í•œ ë°©ë²•ì„ ì§€ì›í•œë‹¤.     íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ë§Œ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜            JPQLì—ì„œ ë„¤ì´í‹°ë¸Œ SQL í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.(JPA 2.1)       í•˜ì´ë²„ë„¤ì´íŠ¸ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ë°©ì–¸ì— ê° ë°ì´í„°ë² ì´ìŠ¤ì— ì¢…ì†ì ì¸ í•¨ìˆ˜ë“¤ì„ ì •ì˜í•´ë‘ì—ˆë‹¤. ë˜í•œ ì§ì ‘ í˜¸ì¶œí•  í•¨ìˆ˜ë¥¼ ì •ì˜í•  ìˆ˜ë„ ìˆë‹¤.           íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ë§Œ ì§€ì›í•˜ëŠ” SQL ì¿¼ë¦¬ íŒíŠ¸            í•˜ì´ë²„ë„¤ì´íŠ¸ë¥¼ í¬í•¨í•œ ëª‡ëª‡ JPA êµ¬í˜„ì²´ë“¤ì´ ì§€ì›í•œë‹¤.           ì¸ë¼ì¸ ë·°(From ì ˆì—ì„œ ì‚¬ìš©í•˜ëŠ” ì„œë¸Œì¿¼ë¦¬), UNION, INTERSECT            í•˜ì´ë²„ë„¤ì´íŠ¸ëŠ” ì§€ì›í•˜ì§€ ì•Šì§€ë§Œ ëª‡ëª‡ JPA êµ¬í˜„ì²´ë“¤ì´ ì§€ì›í•œë‹¤.           ìŠ¤í† ì–´ í”„ë¡œì‹œì €            JPQLì—ì„œ ìŠ¤í† ì–´ë“œ í”„ë¡œì‹œì €ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.(JPA 2.1)           íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ë§Œ ì§€ì›í•˜ëŠ” ë¬¸ë²•            ì´ë•ŒëŠ” ë„¤ì´í‹°ë¸Œ SQLì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.               ë‹¤ì–‘í•œ ì´ìœ ë¡œ JPQLì„ ì‚¬ìš©í•  ìˆ˜ ì—†ì„ ë•Œ JPAëŠ” SQLì„ ì§ì ‘ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ”ë° ì´ë¥¼ ë„¤ì´í‹°ë¸Œ SQLì´ë¼ í•œë‹¤.   ê·¸ë ‡ë‹¤ë©´ ë„¤ì´í‹°ë¸Œ SQLê³¼ JDBC APIë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ì˜ ì°¨ì´ì ì€ ë¬´ì—‡ì¼ê¹Œ? ë„¤ì´í‹°ë¸Œ SQLì„ ì‚¬ìš©í•˜ë©´ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆê³ , JPAê°€ ì§€ì›í•˜ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ê¸°ëŠ¥ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.   10.5.1 ë„¤ì´í‹°ë¸Œ SQL ì‚¬ìš©  // ê²°ê³¼ íƒ€ì… ì •ì˜ public Query createNativeQuery(String sqlString, Calss resultClass);  // ê²°ê³¼ íƒ€ì…ì„ ì •ì˜í•  ìˆ˜ ì—†ì„ ë•Œ public Query createNativeQuery(String sqlString);  // ê²°ê³¼ ë§¤í•‘ ì‚¬ìš© public Query createNativeQuery(String sqlString, String resultSetMapping);  ë‚´ìš© ìƒëµ ğŸ˜…       10.6 ê°ì²´ì§€í–¥ ì¿¼ë¦¬ ì‹¬í™”  10.6.1 ë²Œí¬ ì—°ì‚°  í•œ ë²ˆì— ìˆ˜ì •í•˜ê±°ë‚˜ ì‚­ì œí•˜ëŠ” ë²Œí¬ ì—°ì‚°ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.   UPDATE ë²Œí¬ ì—°ì‚°  String sqlString;     \"update Product p \" +     \"set p.price = p.price * 1.1 \" +     \"where p.stockAmount &lt; :stockAmount\";  int count = em.createQuery(sqlString)             .setParameter(\"stockAmount\", 10)             .executeUpdate();      DELETE ë²Œí¬ ì—°ì‚°  String sqlString;     \"delete from Product p \" +     \"where p.price &lt; :price\";  int count = em.createQuery(sqlString)             .setParameter(\"price\", 100)             .executeUpdate();      ë²Œí¬ ì—°ì‚°ì˜ ì£¼ì˜ì   ë²Œí¬ ì—°ì‚°ì„ ì‚¬ìš©í•  ë•ŒëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ë¬´ì‹œí•˜ê³  ë°ì´í„°ë² ì´ìŠ¤ì— ì§ì ‘ ì¿¼ë¦¬í•œë‹¤ëŠ” ì ì— ì£¼ì˜í•´ì•¼ í•œë‹¤.   í•´ê²° ë°©ë²•     em.refresh() ì‚¬ìš©   ë²Œí¬ ì—°ì‚° ë¨¼ì € ì‹¤í–‰   ë²Œí¬ ì—°ì‚° ìˆ˜í–‰ í›„ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì´ˆê¸°í™”         10.6.2 ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì™€ JPQL  ì¿¼ë¦¬ í›„ ì˜ì† ìƒíƒœì¸ ê²ƒê³¼ ì•„ë‹Œ ê²ƒ     ì˜ì† ìƒíƒœ            ì—”í‹°í‹°           ì˜ì† ìƒíƒœ ì•„ë‹Œ ê²ƒ            ì„ë² ë””ë“œ íƒ€ì…       ë‹¨ìˆœ í•„ë“œ ì¡°íšŒ               em.find() ë™ì‘ ìˆœì„œ     ì—”í‹°í‹°ë¥¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ë¨¼ì € ì°¾ê³    ì—†ìœ¼ë©´ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì°¾ëŠ”ë‹¤.       JPQL ë™ì‘ ìˆœì„œ     ìµœì´ˆ ì¡°íšŒ            ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¡°íšŒ       ì—”í‹°í‹°ë¥¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ë“±ë¡           ë‘ ë²ˆì§¸ ì¡°íšŒ            ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¡°íšŒ       ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ê°™ì€ ì—”í‹°í‹° ë°œê²¬       ìƒˆë¡œ ê²€ìƒ‰í•œ ì—”í‹°í‹°ëŠ” ë²„ë¦¬ê³  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ìˆëŠ” ê¸°ì¡´ ì—”í‹°í‹° ë°˜í™˜               JPQL íŠ¹ì§• ì •ë¦¬     JPQLì€ í•­ìƒ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°íšŒí•œë‹¤.   JPQLë¡œ ì¡°íšŒí•œ ì—”í‹°í‹°ëŠ” ì˜ì† ìƒíƒœë‹¤.   ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì—”í‹°í‹°ê°€ ìˆìœ¼ë©´ ê¸°ì¡´ ì—”í‹°í‹°ë¥¼ ë°˜í™˜í•œë‹¤.         10.6.3 JPQLê³¼ í”ŒëŸ¬ì‹œ ëª¨ë“œ   í”ŒëŸ¬ì‹œ ëª¨ë“œ  em.setFlushMode(FlushModeType.AUTO);    // ì»¤ë°‹, ì¿¼ë¦¬ ì‹¤í–‰ ì‹œ í”ŒëŸ¬ì‹œ (ê¸°ë³¸ê°’) em.setFlushMode(FlushModeType.COMMIT);  // ì»¤ë°‹ì‹œì—ë§Œ í”ŒëŸ¬ì‹œ     JPQLì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ìˆëŠ” ë°ì´í„°ë¥¼ ê³ ë ¤í•˜ì§€ ì•Šê³  ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë°ì´í„°ë¥¼ ì¡°íšŒí•œë‹¤.   ë”°ë¼ì„œ JPQLì„ ì‹¤í–‰í•˜ê¸° ì „ì— í”ŒëŸ¬ì‹œë¥¼ í†µí•´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ë‚´ìš©ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ë°˜ì˜í•´ì•¼ í•œë‹¤.       10.7 ì •ë¦¬     JPQLì€ SQLì„ ì¶”ìƒí™”í•´ì„œ íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ ê¸°ìˆ ì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤.   Criteriaë‚˜ QueryDSLì€ JPQLì„ ë§Œë“¤ì–´ì£¼ëŠ” ë¹Œë” ì—­í• ì„ í•  ë¿ì´ë¯€ë¡œ í•µì‹¬ì€ JPQLì„ ì˜ ì•Œì•„ì•¼ í•œë‹¤.   Criteriaë‚˜ QueryDSLì„ ì‚¬ìš©í•˜ë©´ ë™ì ìœ¼ë¡œ ë³€í•˜ëŠ” ì¿¼ë¦¬ë¥¼ í¸ë¦¬í•˜ê²Œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.   CriteriaëŠ” JPAê°€ ê³µì‹ ì§€ì›í•˜ëŠ” ê¸°ëŠ¥ì´ì§€ë§Œ ë¶ˆí¸í•˜ë‹¤. QueryDSLì€ JPAê°€ ê³µì‹ ì§€ì›í•˜ëŠ” ê¸°ëŠ¥ì€ ì•„ë‹ˆì§€ë§Œ í¸ë¦¬í•˜ë‹¤.   JPAë„ ë„¤ì´í‹°ë¸Œ SQLì„ ì œê³µí•˜ë¯€ë¡œ ì§ì ‘ SQLì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ì— ì¢…ì†ì ì´ ë˜ë¯€ë¡œ ìµœëŒ€í•œ ì‚¬ìš©ì„ ìì œí•˜ì.   JPQLì€ ëŒ€ëŸ‰ì˜ ë°ì´í„°ë¥¼ ìˆ˜ì •í•˜ê±°ë‚˜ ì‚­ì œí•˜ëŠ” ë²Œí¬ ì—°ì‚°ì„ ì§€ì›í•œë‹¤.           11. ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì œì‘  ë‚´ìš© ìƒëµ ğŸ˜…          12. ìŠ¤í”„ë§ ë°ì´í„° JPA  12.1 ìŠ¤í”„ë§ ë°ì´í„° JPA ì†Œê°œ  ìŠ¤í”„ë§ ë°ì´í„° JPA ë ˆí¼ëŸ°ìŠ¤ ë¬¸ì„œ      ìŠ¤í”„ë§ ë°ì´í„° JPAëŠ” ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì—ì„œ JPAë¥¼ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•˜ëŠ” í”„ë¡œì íŠ¸ë‹¤.   CURDë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ê³µí†µ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•œë‹¤.   ì¸í„°í˜ì´ìŠ¤ë§Œ ì‘ì„±í•˜ë©´ ì‹¤í–‰ ì‹œì ì— êµ¬í˜„ ê°ì²´ë¥¼ ë™ì ìœ¼ë¡œ ìƒì„±í•´ì„œ ì£¼ì…í•´ì¤€ë‹¤.   ë”°ë¼ì„œ ë°ì´í„° ì ‘ê·¼ ê³„ì¸µì„ ê°œë°œí•  ë•Œ êµ¬í˜„ í´ë˜ìŠ¤ ì—†ì´ ì¸í„°í˜ì´ìŠ¤ë§Œ ì‘ì„±í•´ë„ ê°œë°œì„ ì™„ë£Œí•  ìˆ˜ ìˆë‹¤.       12.2 ìŠ¤í”„ë§ ë°ì´í„° JPA ì„¤ì •  í•„ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬  &lt;!-- ìŠ¤í”„ë§ ë°ì´í„° JPA --&gt; &lt;dependency&gt;     &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;     &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;     &lt;version&gt;${spring-data-jpa.version}&lt;/version&gt; &lt;/dependency&gt;      í™˜ê²½ ì„¤ì •  &lt;!-- xml --&gt; &lt;!-- ë¦¬í¬ì§€í† ë¦¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ í•´ë‹¹ íŒ¨í‚¤ì§€ì™€ ê·¸ í•˜ìœ„ íŒ¨í‚¤ì§€ì—ì„œ ê²€ìƒ‰í•œë‹¤. --&gt; &lt;jpa:repositories base-package=\"jpabook.jpashop.repository\" /&gt;  // java config class @Configuration @EnableJpaRepositories(basePackage = \"jpabook.jpashop.repository\") public class AppConfig {}        12.3 ê³µí†µ ì¸í„°í˜ì´ìŠ¤ ê¸°ëŠ¥  ìŠ¤í”„ë§ ë°ì´í„° JPAëŠ” ê°„ë‹¨í•œ CRUD ê¸°ëŠ¥ì„ ê³µí†µìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” JpaRepository ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•œë‹¤.  // JpaRepository ì¸í„°í˜ì´ìŠ¤ public interface JpaRepository&lt;T, ID extends Serializable&gt; extends PagingAndSortingRepository&lt;T, ID&gt; {...}  // JpaRepository ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš© public interface MemberRepository extends JpaRepository&lt;Member, Long&gt; {}         12.4 ì¿¼ë¦¬ ë©”ì†Œë“œ ê¸°ëŠ¥  ìŠ¤í”„ë§ ë°ì´í„° JPAê°€ ì œê³µí•˜ëŠ” ì¿¼ë¦¬ ë©”ì†Œë“œ ê¸°ëŠ¥     ë©”ì†Œë“œ ì´ë¦„ìœ¼ë¡œ ì¿¼ë¦¬ ìƒì„±   ë©”ì†Œë“œ ì´ë¦„ìœ¼ë¡œ JPA NamedQuery í˜¸ì¶œ   @Query ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ì„œ ë¦¬í¬ì§€í„°ë¦¬ ì¸í„°í˜ì´ìŠ¤ì— ì¿¼ë¦¬ ì§ì ‘ ì •ì˜       12.4.1 ë©”ì†Œë“œ ì´ë¦„ìœ¼ë¡œ ì¿¼ë¦¬ ìƒì„±  // ì´ë©”ì¼ê³¼ ì´ë¦„ìœ¼ë¡œ íšŒì›ì„ ì¡°íšŒ ë©”ì†Œë“œë¥¼ ì •ì˜ public interface MemberRepository extends JpaRepository&lt;Member, Long&gt; {     List&lt;Member&gt; findByEmailAndName(String email, String name); }  -- ìŠ¤í”„ë§ ë°ì´í„° JPAê°€ ë©”ì†Œë“œë¥¼ ë¶„ì„í•´ì„œ JPQLì„ ìƒì„±í•˜ê³  ì‹¤í–‰í•œë‹¤. select m from Member m where m.email =?1 and m.name = ?2   ê·œì¹™  ìŠ¤í”„ë§ ë°ì´í„° JPA ì¿¼ë¦¬ ìƒì„± ê¸°ëŠ¥                          í‚¤ì›Œë“œ         ì˜ˆ         JPQL ì˜ˆ                                         Distinct              findDistinctByLastnameAndFirstname              select distinct â€¦â€‹ where x.lastname = ?1 and x.firstname = ?2                                And              findByLastnameAndFirstname              â€¦ where x.lastname = ?1 and x.firstname = ?2                                Or              findByLastnameOrFirstname              â€¦ where x.lastname = ?1 or x.firstname = ?2                                Is, Equals              findByFirstname,findByFirstnameIs,findByFirstnameEquals              â€¦ where x.firstname = ?1                            Between          findByStartDateBetween          â€¦ where x.startDate between ?1 and ?2                            LessThan          findByAgeLessThan          â€¦ where x.age &lt; ?1                            LessThanEqual          findByAgeLessThanEqual          â€¦ where x.age &lt;= ?1                            GreaterThan          findByAgeGreaterThan          â€¦ where x.age &gt; ?1                            GreaterThanEqual          findByAgeGreaterThanEqual          â€¦ where x.age &gt;= ?1                            After          findByStartDateAfter          â€¦ where x.startDate &gt; ?1                            Before          findByStartDateBefore          â€¦ where x.startDate &lt; ?1                            IsNull, Null          findByAge(Is)Null          â€¦ where x.age is null                            IsNotNull, NotNull          findByAge(Is)NotNull          â€¦ where x.age not null                            Like          findByFirstnameLike          â€¦ where x.firstname like ?1                            NotLike          findByFirstnameNotLike          â€¦ where x.firstname not like ?1                            StartingWith          findByFirstnameStartingWith          â€¦ where x.firstname like ?1 (parameter bound with appended %)                            EndingWith          findByFirstnameEndingWith          â€¦ where x.firstname like ?1 (parameter bound with prepended %)                            Containing          findByFirstnameContaining          â€¦ where x.firstname like ?1 (parameter bound wrapped in %)                            OrderBy          findByAgeOrderByLastnameDesc          â€¦ where x.age = ?1 order by x.lastname desc                            Not          findByLastnameNot          â€¦ where x.lastname &lt;&gt; ?1                            In          findByAgeIn(Collection&lt;Age&gt; ages)          â€¦ where x.age in ?1                            NotIn          findByAgeNotIn(Collection&lt;Age&gt; ages)          â€¦ where x.age not in ?1                            True          findByActiveTrue()          â€¦ where x.active = true                            False          findByActiveFalse()          â€¦ where x.active = false                            IgnoreCase          findByFirstnameIgnoreCase          â€¦ where UPPER(x.firstname) = UPPER(?1)                     12.4.2 JPA NamedQuery  ìŠ¤í”„ë§ ë°ì´í„° JPAëŠ” ë©”ì†Œë“œ ì´ë¦„ìœ¼ë¡œ JPA Named ì¿¼ë¦¬ë¥¼ í˜¸ì¶œí•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.  // @NamedQueryë¡œ Named ì¿¼ë¦¬ ì •ì˜ @Entity @NamedQuery(     name = \"Member.findByUsername\",     query = \"select m from Member m where m.username = :username\" ) public class Member {     ... }  // ë„ë©”ì¸ í´ë˜ìŠ¤ + .(ì ) + ë©”ì†Œë“œ ì´ë¦„ ìœ¼ë¡œ Named ì¿¼ë¦¬ë¥¼ ì°¾ì•„ ì‹¤í–‰í•œë‹¤. // Named ì¿¼ë¦¬ê°€ ì—†ìœ¼ë©´ ë©”ì†Œë“œ ì´ë¦„ìœ¼ë¡œ ì¿¼ë¦¬ ìƒì„± ì „ëµì„ ì‚¬ìš©í•œë‹¤. public interface MemberRepository extends JpaRepository&lt;Member, Long&gt; {     List&lt;Member&gt; findByUsername(String username); }      12.4.3 @Query, ë¦¬í¬ì§€í† ë¦¬ ë©”ì†Œë“œì— ì¿¼ë¦¬ ì •ì˜  ë¦¬í¬ì§€í† ë¦¬ ë©”ì†Œë“œì— ì§ì ‘ ì¿¼ë¦¬ë¥¼ ì •ì˜í•˜ë ¤ë©´ @Query ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•œë‹¤.  // ë©”ì†Œë“œì— JPQL ì¿¼ë¦¬ ì‘ì„± public interface MemberRepository extends JpaRepository&lt;Member, Long&gt; {      @Query(\"select m from Member m where m.username = ?1\")     Member findByUsername(String username); }  // JPA ë„¤ì´í‹°ë¸Œ SQL ì§€ì› public interface MemberRepository extends JpaRepository&lt;Member, Long&gt; {      @Query(\"SELECT * FROM MEMBER FROM WHERE USERNAME = ?0\", nativeQuery = true)     Member findByUsername(String username); }        12.4.4 íŒŒë¼ë¯¸í„° ë°”ì¸ë”©  ìŠ¤í”„ë§ ë°ì´í„° JPAëŠ” ìœ„ì¹˜ ê¸°ë°˜ íŒŒë¼ë¯¸í„° ë°”ì¸ë”©ê³¼ ì´ë¦„ ê¸°ë°˜ íŒŒë¼ë¯¸í„° ë°”ì¸ë”©ì„ ì§€ì›í•œë‹¤. ê¸°ë³¸ê°’ì€ ìœ„ì¹˜ ê¸°ë°˜ì´ë‹¤.  -- ìœ„ì¹˜ ê¸°ë°˜, ê¸°ë³¸ê°’ select m from Member m where m.username = ?1  -- ì´ë¦„ ê¸°ë°˜ select m from Member m where m.username = :name  public interface MemberRepository extends JpaRepository&lt;Member, Long&gt; {      @Query(\"select m from Member m where m.username = :name\")     Member findByUsername(@Param(\"name\") String username); }        12.4.5 ë²Œí¬ì„± ìˆ˜ì • ì¿¼ë¦¬  ìŠ¤í”„ë§ ë°ì´í„° JPAë¥¼ ì‚¬ìš©í•œ ë²Œí¬ì„± ìˆ˜ì •, ì‚­ì œ ì¿¼ë¦¬ëŠ” @Modifying ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•œë‹¤.  @Modifying @Query(\"update Product p set p.price = price * 1.1 where p.stockAmount &lt; :stockAmount\") int bulkPriceUp(@Param(\"stockAmount\") String stockAmount);  ë²Œí¬ì„± ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ê³  ë‚˜ì„œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì´ˆê¸°í™”í•˜ê³  ì‹¶ìœ¼ë©´ @Modifying(clearAutomatically = true) ì˜µì…˜ì„ ì¤€ë‹¤.       12.4.6 ë°˜í™˜ íƒ€ì…  ìŠ¤í”„ë§ ë°ì´í„° JPAëŠ” ìœ ì—°í•œ ë°˜í™˜ íƒ€ì…ì„ ì§€ì›í•œë‹¤. í•œ ê±´ ì´ìƒì´ë©´ ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•˜ê³ , ë‹¨ê±´ì´ë©´ ë°˜í™˜ íƒ€ì…ì„ ì§€ì •í•œë‹¤.  List&lt;Member&gt; findByName(String name); // ì»¬ë ‰ì…˜ Member findByEmail(String email);     // ë‹¨ê±´   ì¡°íšŒ ê²°ê³¼ê°€ ì—†ì„ ì‹œ     ì»¬ë ‰ì…˜: ë¹ˆ ì»¬ë ‰ì…˜ ë°˜í™˜   ë‹¨ê±´: null ë°˜í™˜   ì¡°íšŒ ê²°ê³¼ 1ê±´     ì»¬ë ‰ì…˜: 1ê±´ì˜ ë°ì´í„°ë¥¼ ê°€ì§„ ì»¬ë ‰ì…˜ ë°˜í™˜   ë‹¨ê±´: ë°ì´í„° ë°˜í™˜   ì¡°íšŒ ê²°ê³¼ 2ê±´ ì´ìƒ     ì»¬ë ‰ì…˜: 2ê±´ ì´ìƒ ë°ì´í„°ë¥¼ ê°€ì§„ ì»¬ë ‰ì…˜ ë°˜í™˜   ë‹¨ê±´: ì˜ˆì™¸ ë°œìƒ       12.4.7 í˜ì´ì§•ê³¼ ì •ë ¬  ìŠ¤í”„ë§ ë°ì´í„° JPAëŠ” ì¿¼ë¦¬ ë©”ì†Œë“œì— í˜ì´ì§•ê³¼ ì •ë ¬ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ 2ê°€ì§€ íŒŒë¼ë¯¸í„°ë¥¼ ì œê³µí•œë‹¤.     org.springframework.data.domain.Sort: ì •ë ¬ê¸°ëŠ¥   org.springframework.data.domain.Pageable: í˜ì´ì§• ê¸°ëŠ¥(ë‚´ë¶€ì— Sort í¬í•¨)   í˜ì´ì§•ê³¼ ì •ë ¬ ì‚¬ìš© ì˜ˆ  // count ì¿¼ë¦¬ ì‚¬ìš© Page&lt;Member&gt; findByName(String name, Pageable pageable);  // count ì¿¼ë¦¬ ì‚¬ìš© ì•ˆ í•¨ // totalì„ ì œì™¸í•œ Pageì—ì„œ ì œê³µí•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš© ê°€ëŠ¥ Slice&lt;Member&gt; findByName(String name, Pageable pageable);  // count ì¿¼ë¦¬ ì‚¬ìš© ì•ˆ í•¨ List&lt;Member&gt; findByName(String name, Pageable pageable);  // ì •ë ¬ List&lt;Member&gt; findByName(String name, Sort sort);  // ì‚¬ìš© ë°©ë²• PageRequest pageRequest = new PageRequest(0, 10, new Sort(Direction.DESC, \"name\")); Page&lt;Member&gt; result = memberRepository.findByName(\"ê¹€\", pageRequest);      Slice ì¸í„°í˜ì´ìŠ¤  public interface Slice&lt;T&gt; extends Streamable&lt;T&gt; {     int getNumber(); // í˜„ì¬ í˜ì´ì§€     int getSize(); //í˜ì´ì§€ í¬ê¸°     int getNumberOfElements(); // í˜„ì¬ í˜ì´ì§€ì— ì¡°íšŒí•œ ë°ì´í„° ê°œìˆ˜     List&lt;T&gt; getContent(); // í˜„ì¬ í˜ì´ì§€ì— ì¡°íšŒí•œ ë°ì´í„°      boolean hasContent(); // í˜„ì¬ í˜ì´ì§€ì— ë°ì´í„°ê°€ ìˆëŠ”ì§€ ì—¬ë¶€      Sort getSort(); // ì •ë ¬ ì—¬ë¶€      boolean isFirst(); // ì²« ë²ˆì§¸ í˜ì´ì§€ì¸ì§€ ì—¬ë¶€     boolean isLast(); // ë§ˆì§€ë§‰ í˜ì´ì§€ì¸ì§€ ì—¬ë¶€     boolean hasNext(); // ë‹¤ìŒ í˜ì´ì§€ê°€ ìˆëŠ”ì§€ ì—¬ë¶€     boolean hasPrevious();  // ì´ì „ í˜ì´ì§€ê°€ ìˆëŠ”ì§€ ì—¬ë¶€  }      Page ì¸í„°í˜ì´ìŠ¤  public interface Page&lt;T&gt; extends Slice&lt;T&gt; {     static &lt;T&gt; Page&lt;T&gt; empty() {         return empty(Pageable.unpaged());     }      static &lt;T&gt; Page&lt;T&gt; empty(Pageable pageable) {         return new PageImpl&lt;&gt;(Collections.emptyList(), pageable, 0);     }      int getTotalPages();     // ì „ì²´ í˜ì´ì§€ ê°œìˆ˜     long getTotalElements(); // ì „ì²´ ë°ì´í„° ê°œìˆ˜     &lt;U&gt; Page&lt;U&gt; map(Function&lt;? super T, ? extends U&gt; converter); }        12.4.8 íŒíŠ¸  JPA ì¿¼ë¦¬ íŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ @QueryHintì–´ë…¸ì—í‹°ì…˜ì„ ì‚¬ìš©í•œë‹¤. ì´ê²ƒì€ SQL íŒíŠ¸ê°€ ì•„ë‹ˆë¼ JPAêµ¬í˜„ì²´ì—ê²Œ ì œê³µí•˜ëŠ” íŒíŠ¸ë‹¤.  @QueryHints(value = {     @QueryHint(name = \"org.hibernate.readOnly\", value = true) }) Page&lt;Member&gt; findByName(String name, Pageable pageable);          12.5 ëª…ì„¸  ìŠ¤í”„ë§ ë°ì´í„° JPAëŠ” JPA Criteriaë¡œ ëª…ì„¸(SPECIFICATION)ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•œë‹¤. ìŠ¤í”„ë§ ë°ì´í„° JPAë¥¼ ì´ìš©í•œ ì¡°íšŒ ê¸°ëŠ¥ ì°¸ê³          12.6 ì‚¬ìš©ì ì •ì˜ ë¦¬í¬ì§€í† ë¦¬ êµ¬í˜„  ìŠ¤í”„ë§ ë°ì´í„° JPAë¡œ ë¦¬í¬ì§€í† ë¦¬ë¥¼ ê°œë°œí•˜ë©´ ì¸í„°í˜ì´ìŠ¤ë§Œ ì •ì˜í•˜ê³  êµ¬í˜„ì²´ëŠ” ë§Œë“¤ì§€ ì•ŠëŠ”ë‹¤. í•˜ì§€ë§Œ ë©”ì†Œë“œë¥¼ ì§ì ‘ êµ¬í˜„í•´ì•¼ í•  ë•Œë„ ìˆë‹¤.   ì‚¬ìš©ì ì •ì˜ ì¸í„°í˜ì´ìŠ¤ ìƒì„±  // ì¸í„°í˜ì´ìŠ¤ ì´ë¦„ì€ ììœ ë¡­ê²Œ ì‘ì„± ê°€ëŠ¥ public interface MemberRepositoryCustom {     public List&lt;Member&gt; findMemberCustom(); }      ì‚¬ìš©ì ì •ì˜ êµ¬í˜„ í´ë˜ìŠ¤  /**  * í´ë˜ìŠ¤ ì´ë¦„ì€ ë¦¬í¬ì§€í† ë¦¬ ì¸í„°í˜ì´ìŠ¤ ì´ë¦„ + Implë¡œ ì§€ì–´ì•¼ í•œë‹¤.   * ê·¸ëŸ¬ë©´ ìŠ¤í”„ë§ ë°ì´í„° JPAê°€ ì‚¬ìš©ì ì •ì˜ êµ¬í˜„ í´ë˜ìŠ¤ë¡œ ì¸ì‹í•œë‹¤.  */ public class MemberRepositoryImpl implements c {     @Override     public List&lt;Member&gt; findMemberCustom() {         // ì‚¬ìš©ì ì •ì˜ êµ¬í˜„...     } }      ì‚¬ìš©ì ì •ì˜ ì¸í„°í˜ì´ìŠ¤ ìƒì†  public interface MemberRepository     extends JpaRepository&lt;Member, Long&gt;, MemberRepositoryCustom {}      ì‚¬ìš©ì ì •ì˜ êµ¬í˜„ í´ë˜ìŠ¤ ì´ë¦„ ê·œì¹™ ë³€ê²½  &lt;jpa:repositories base-package=\"jpabook.jpashop.repository\"     repository-impl-postfix=\"Impl\" /&gt;  @Configuration @EnableJpaRepositories(     basePackage = \"jpabook.jpashop.repository\",     repositoryImplPostfix = \"Impl\" ) public class AppConfig {}        12.7 Web í™•ì¥  ìŠ¤í”„ë§ ë°ì´í„° í”„ë¡œì íŠ¸ëŠ” ìŠ¤í”„ë§ MVCì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í¸ë¦¬í•œ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.   12.7.1 ì„¤ì •  &lt;bean class=\"org.springframework.data.web.config.SpringDataWebConfiguration\"&gt;  @Configuration @EnableWebMvc @EnableSpringDataWebSupport // ì¶”ê°€ public class WebAppConfig {...}      12.7.2 ë„ë©”ì¸ í´ë˜ìŠ¤ ì»¨ë²„í„° ê¸°ëŠ¥  ë„ë©”ì¸ í´ë˜ìŠ¤ ì»¨ë²„í„°ëŠ” HTTP íŒŒë¼ë¯¸í„°ë¡œ ë„˜ì–´ì˜¨ ì—”í‹°í‹°ì˜ ì•„ì´ë””ë¡œ ì—”í‹°í‹° ê°ì²´ë¥¼ ì°¾ì•„ì„œ ë°”ì¸ë”© í•´ì¤€ë‹¤.  // URL: /member/memberUpdateForm?id=1  @Controller public class MemberController {          @RequestMepping(\"member/memberUpdateForm\")     public String memberUpdateForm(@RequestParam(\"id\") Member member, Model model) {         model.addAttribute(\"member\", member);         return \"member/memberSaveForm\";     } }  âš ì£¼ì˜  ë„ë©”ì¸ í´ë˜ìŠ¤ ì»¨ë²„í„°ë¥¼ í†µí•´ ë„˜ì–´ì˜¨ ì—”í‹°í‹°ë¥¼ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì§ì ‘ ìˆ˜ì •í•´ë„ ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ì—ëŠ” ë°˜ì˜ë˜ì§€ ì•ŠëŠ”ë‹¤. ì´ê²ƒì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ë™ì‘ ë°©ì‹ê³¼ ê´€ë ¨ì´ ìˆë‹¤. ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ë™ì‘ ë°©ì‹ê³¼ OSIVì— ê´€í•œ ë‚´ìš©ì„ ì•Œì•„ì•¼ í•œë‹¤.        12.7.3 í˜ì´ì§•ê³¼ ì •ë ¬ ê¸°ëŠ¥  ìŠ¤í”„ë§ ë°ì´í„°ê°€ ì œê³µí•˜ëŠ” í˜ì´ì§•ê³¼ ì •ë ¬ ê¸°ëŠ¥ì„ ìŠ¤í”„ë§ MVCì—ì„œ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.  @Controller public class MemberController {          // íŒŒë¼ë¯¸í„°ë¡œ Pageableë¥¼ ë°›ëŠ”ë‹¤     @RequestMepping(\"members\", method = RequestMethod.GET)     public String list(Pageable pageable, Model model) {         Page&lt;Member&gt; page = memberService.findMembers(pageable);         model.addAttribute(\"member\", page.getContent());         return \"member/memberList\";     } } // ì˜ˆ) /members?page=0&amp;size=20&amp;sort=name,desc&amp;sort=address.city    ìš”ì²­ íŒŒë¼ë¯¸í„°     page: í˜„ì¬ í˜ì´ì§€, 0ë¶€í„° ì‹œì‘   size: í•œ í˜ì´ì§€ì— ë…¸ì¶œí•  ë°ì´í„° ê±´ìˆ˜   sort: ì •ë ¬ ì¡°ê±´ì„ ì •ì˜     ì°¸ê³   í˜ì´ì§€ë¥¼ 1ë¶€í„° ì‹œì‘í•˜ê³  ì‹¶ìœ¼ë©´ PageableHandlerMethodArgumentResolverë¥¼ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ì§ì ‘ ë“±ë¡í•˜ê³  setOneIndexedParametersë¥¼ trueë¡œ ì„¤ì •í•˜ë©´ ëœë‹¤.       ì ‘ë‘ì‚¬  ì‚¬ìš©í•´ì•¼ í•  í˜ì´ì§• ì •ë³´ê°€ ë‘˜ ì´ìƒì´ë©´ ì ‘ë‘ì‚¬ë¥¼ ì‚¬ìš©í•´ì„œ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤.  public String list(     @Qualifier(\"member\") pageable memberPageable,     @Qualifier(\"order\") pageable orderPageable.     ... ) // ì˜ˆ) /members?member_page=0&amp;order_page=1      ê¸°ë³¸ê°’  Pageableì˜ ê¸°ë³¸ê°’ì€ page=0, size=20ì´ë‹¤. ë§Œì•½ ê¸°ë³¸ê°’ì„ ë³€ê²½í•˜ê³  ì‹¶ìœ¼ë©´ @PageableDefault ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•œë‹¤.  @RequestMepping(\"members_page\", method = RequestMethod.GET) public String list(@PageableDefault(size = 12, sort = \"name\",      direction = Sort.Direction.DESC) Pageable pageable {         ...     }        12.8 ìŠ¤í”„ë§ ë°ì´í„° JPAê°€ ì‚¬ìš©í•˜ëŠ” êµ¬í˜„ì²´  ë‚´ìš© ìƒëµ ğŸ˜…   12.9 JPA ìƒµì— ì ìš©  ë‚´ìš© ìƒëµ ğŸ˜…   12.10 ìŠ¤í”„ë§ ë°ì´í„° JPAì™€ QueryDSL í†µí•©  ìŠ¤í”„ë§ ë°ì´í„° JPAëŠ” 2ê°€ì§€ ë°©ë²•ìœ¼ë¡œ QueryDSLì„ ì§€ì›í•œë‹¤.   12.10.1 QueryDslPredicateExecutor ì‚¬ìš©  // ë ˆí¬ì§€í† ë¦¬ì—ì„œ QueryDslPredicateExecutor ìƒì† public interface ItemRepository     extends JpaRepository&lt;Item, Long&gt;, QueryDslPredicateExecutor&lt;Item&gt; {...}  // ì‚¬ìš© QItem item = QItem.item; Iterable&lt;Item&gt; result = itemRepository.findAll(     item.name.contains(\"ì¥ë‚œê°\").and(item.price.between(10000, 20000)) );    âš ï¸ê²½ê³   QueryDslPredicateExecutorëŠ” ê¸°ëŠ¥ì˜ í•œê³„ê°€ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ join, fetchë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.       12.10.2 QueryDslRepositorySupport ì‚¬ìš©  QueryDSLì˜ ëª¨ë“  ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ JPAQuery ê°ì²´ë¥¼ ì§ì ‘ ìƒì„±í•´ì„œ ì‚¬ìš©í•˜ë©´ ëœë‹¤. ìŠ¤í”„ë§ ë°ì´í„° JPAê°€ ì œê³µí•˜ëŠ” QueryDslRepositorySupportë¥¼ ìƒì† ë°›ì•„ ì‚¬ìš©í•˜ë©´ í¸ë¦¬í•˜ê²Œ QueryDSLì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.  // ì‚¬ìš©ì ì •ì˜ ë ˆí¬ì§€í† ë¦¬ public interface CustomOrderRepository {     public List&lt;Order&gt; search(OrderSearch orderSearch); }  public class OrderRepositoryImpl extends QueryDslRepositorySupport         implements CustomOrderRepository {     public OrderRepositoryImpl() {         super(Order.class);     }      @Override     public List&lt;Order&gt; search(OrderSearch orderSearch) {         QOrder order = QOrder.order;         QMember member = QMember.member;          JPAQuery query = from(order);         // ê²€ìƒ‰ ì¡°ê±´ ì¿¼ë¦¬...         return query.list(order);     } }              13. ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ì˜ì†ì„± ê´€ë¦¬  ì»¨í…Œì´ë„ˆ í™˜ê²½ì—ì„œ JPAê°€ ë™ì‘í•˜ëŠ” ë°©ì‹ì„ ì´í•´í•˜ê³ , ì»¨í…Œì´ë„ˆ í™˜ê²½ì—ì„œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•  ë•Œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë¬¸ì œì ê³¼ í•´ê²°ë°©ì•ˆì„ ì•Œì•„ë³¸ë‹¤.      13.1 íŠ¸ëœì­ì…˜ ë²”ìœ„ì˜ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸  ìŠ¤í”„ë§ì´ë‚˜ J2EE ì»¨í…Œì´ë„ˆ í™˜ê²½ì—ì„œ JPAë¥¼ ì‚¬ìš©í•˜ë©´ ì»¨í…Œì´ë„ˆê°€ ì œê³µí•˜ëŠ” ì „ëµì„ ë”°ë¼ì•¼ í•œë‹¤.      13.1.1 ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì˜ ê¸°ë³¸ ì „ëµ  ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” íŠ¸ëœì­ì…˜ ë²”ìœ„ì˜ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì „ëµì„ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.       ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ë©´ ë³´í†µ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì‹œì‘í•˜ëŠ” ì„œë¹„ìŠ¤ ê³„ì¸µì— @Transactional ì–´ë…¸í…Œì´ì…˜ì„ ì„ ì–¸í•´ì„œ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•œë‹¤.       íŠ¸ë Œì­ì…˜ì´ ê°™ìœ¼ë©´ ê°™ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤.       íŠ¸ëœì­ì…˜ì´ ë‹¤ë¥´ë©´ ë‹¤ë¥¸ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤.         13.2 ì¤€ì˜ì† ìƒíƒœì™€ ì§€ì—° ë¡œë”©  ì»¨í…Œì´ë„ˆ í™˜ê²½ì˜ ê¸°ë³¸ ì „ëµì¸ íŠ¸ëœì­ì…˜ ë²”ìœ„ì˜ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì „ëµì„ ì‚¬ìš©í•˜ë©´ íŠ¸ëœì­ì…˜ì´ ì—†ëŠ” í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì—ì„œ ì—”í‹°í‹°ëŠ” ì¤€ì˜ì† ìƒíƒœë‹¤. ë”°ë¼ì„œ ë³€ê²½ ê°ì§€ì™€ ì§€ì—° ë¡œë”©ì´ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.   ì¤€ì˜ì† ìƒíƒœì—ì„œ ì§€ì—°ë¡œë”©ì„ ì‹œë„í•˜ë©´ org.hibernate.LazyInitializationException ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤.   ì¤€ì˜ì† ìƒíƒœì˜ ì§€ì—° ë¡œë”© í•´ê²° ë°©ë²•     ë·°ê°€ í•„ìš”í•œ ì—”í‹°í‹°ë¥¼ ë¯¸ë¦¬ ë¡œë”©í•´ë‘ëŠ” ë°©ë²•            ê¸€ë¡œë²Œ í˜ì¹˜ ì „ëµ ìˆ˜ì •       JPQL í˜ì¹˜ ì¡°ì¸ (fetch join)       ê°•ì œë¡œ ì´ˆê¸°í™”           OSIV(open session in view)ë¥¼ ì‚¬ìš©í•´ì„œ ì—”í‹°í‹°ë¥¼ ì˜ì† ìƒíƒœë¡œ ìœ ì§€í•˜ëŠ” ë°©ë²•       13.2.1 ê¸€ë¡œë²Œ í˜ì¹˜ ì „ëµ ìˆ˜ì •  ì¦‰ì‹œ ë¡œë”© ì„¤ì •  @ManyToOne(fetch = FetchType.EAGER)  í•˜ì§€ë§Œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì—”í‹°í‹°ë¥¼ ë¡œë”©í•˜ëŠ” ë‹¨ì ì´ ìˆë‹¤. ë˜ JPQLì—ì„œ N+1 ë¬¸ì œê°€ ë°œìƒí•œë‹¤.(í˜ì¹˜ ì¡°ì¸ìœ¼ë¡œ í•´ê²° ê°€ëŠ¥)        13.2.2 JPQL í˜ì¹˜ ì¡°ì¸  -- JPQL fetch select o from Order o join fetch o.member  ë¬´ë¶„ë³„í•˜ê²Œ ì‚¬ìš©í•˜ë©´ í™”ë©´ì— ë§ì¶˜ ë¦¬í¬ì§€í† ë¦¬ ë©”ì†Œë“œê°€ ì¦ê°€í•  ìˆ˜ ìˆë‹¤. ê²°êµ­ í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì´ ì•Œê²Œ ëª¨ë¥´ê²Œ ë°ì´í„° ì ‘ê·¼ ê³„ì¸µì„ ì¹¨ë²”í•˜ê²Œ ëœë‹¤.       13.2.3 ê°•ì œë¡œ ì´ˆê¸°í™”  @Transactional public Order findOrder(id) {     Order order = orderRepository.findOrder(id);     order.getMember().getName(); // í”„ë¡ì‹œ ê°•ì œë¡œ ì´ˆê¸°í™”     return order; }  í•˜ì§€ë§Œ í”„ë¡ì‹œë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ì—­í• ì„ ì„œë¹„ìŠ¤ ê³„ì¸µì´ ë‹´ë‹¹í•˜ë©´ ë·°ê°€ í•„ìš”í•œ ì—”í‹°í‹°ì— ë”°ë¼ ì„œë¹„ìŠ¤ ê³„ì¸µì˜ ë¡œì§ì„ ë³€ê²½í•´ì•¼ í•œë‹¤. í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì´ ì•Œê²Œ ëª¨ë¥´ê²Œ ì„œë¹„ìŠ¤ ê³„ì¸µì„ ì¹¨ë²”í•˜ê²Œ ëœë‹¤.       13.2.4 FACADE ê³„ì¸µ ì¶”ê°€    FACADE ê³„ì¸µì˜ ì—­í• ê³¼ íŠ¹ì§•     í”„ë ˆì  í…Œì´ì…˜ ê³„ì¸µê³¼ ë„ë©”ì¸ ëª¨ë¸ ê³„ì¸µ ê°„ì˜ ë…¼ë¦¬ì  ì˜ì¡´ì„±ì„ ë¶„ë¦¬í•´ì¤€ë‹¤.   í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì—ì„œ í•„ìš”í•œ í”„ë¡ì‹œ ê°ì²´ë¥¼ ì´ˆê¸°í™”í•œë‹¤.   ì„œë¹„ìŠ¤ ê³„ì¸µì„ í˜¸ì¶œí•´ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì‹¤í–‰í•œë‹¤.   ë¦¬í¬ì§€í† ë¦¬ë¥¼ ì§ì ‘ í˜¸ì¶œí•´ì„œ ë·°ê°€ ìš”êµ¬í•˜ëŠ” ì—”í‹°í‹°ë¥¼ ì°¾ëŠ”ë‹¤.   class OrderFacade {     @Autowired     OrderService orderService;      public Order findOrder(id) {         Order order = orderService.findOrder(id);         order.getMember().getName(); // í”„ë¡ì‹œ ê°•ì œë¡œ ì´ˆê¸°í™”         return order;     } }  class OrderService {      public Order findOrder(id) {         return orderRepository.findOrder(id);     } }  í•˜ì§€ë§Œ ì¤‘ê°„ì— ê³„ì¸µì´ í•˜ë‚˜ ë” ë¼ì–´ë“¤ê²Œ ë˜ê³ , ê²°êµ­ ë” ë§ì€ ì½”ë“œë¥¼ ì‘ì„±í•´ì•¼ í•œë‹¤. ê·¸ë¦¬ê³  FACADEì—ëŠ” ë‹¨ìˆœíˆ ì„œë¹„ìŠ¤ ê³„ì¸µì„ í˜¸ì¶œë§Œ í•˜ëŠ” ìœ„ì„ ì½”ë“œê°€ ìƒë‹¹íˆ ë§ì„ ê²ƒì´ë‹¤.       13.2.5 ì¤€ì˜ì† ìƒíƒœì™€ ì§€ì—° ë¡œë”©ì˜ ë¬¸ì œì   ê²°êµ­ ëª¨ë“  ë¬¸ì œëŠ” ì—”í‹°í‹°ê°€ í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì—ì„œ ì¤€ì˜ì† ìƒíƒœì´ê¸° ë•Œë¬¸ì— ë°œìƒí•œë‹¤.       13.3 OSIV  OSIV(Open Session In View)ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ë·°ê¹Œì§€ ì—´ì–´ë‘”ë‹¤ëŠ” ëœ»ì´ë‹¤.    ì°¸ê³   OSIVëŠ” í•˜ì´ë²„ë„¤ì´íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ìš©ì–´ë‹¤. JPAì—ì„œëŠ” OEIV(Open EntityManager In View)ë¼ê³  í•œë‹¤. í•˜ì§€ë§Œ ê´€ë¡€ìƒ ëª¨ë‘ OSIVë¡œ ë¶€ë¥¸ë‹¤.         13.3.1 ê³¼ê±° OSIV: ìš”ì²­ ë‹¹ íŠ¸ëœì­ì…˜  í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì´ ë“¤ì–´ì˜¤ìë§ˆì ì„œë¸”ë¦¿ í•„í„°ë‚˜ ìŠ¤í”„ë§ ì¸í„°ì…‰í„°ì—ì„œ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•˜ê³  ìš”ì²­ì´ ëë‚  ë•Œ íŠ¸ëœì­ì…˜ë„ ëë‚´ëŠ” ê²ƒì„ ìš”ì²­ ë‹¹ íŠ¸ëœì­ì…˜ ë°©ì‹ì˜ OSIVë¼ í•œë‹¤.        ìš”ì²­ ë‹¹ íŠ¸ëœì­ì…˜ ë°©ì‹ì˜ OSIV ë¬¸ì œì      í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì´ ì—”í‹°í‹°ë¥¼ ë³€ê²½í•  ìˆ˜ë„ ìˆë‹¤.   ì—”í‹°í‹°ë¥¼ ë³€ê²½í•˜ë©´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ë³€ê²½ ê°ì§€ ê¸°ëŠ¥ì´ ì‘ë™í•´ ë°ì´í„°ë² ì´ìŠ¤ì— ë°˜ì˜í•´ ë²„ë¦°ë‹¤.   í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì—ì„œ ì—”í‹°í‹°ë¥¼ ìˆ˜ì •í•˜ì§€ ëª»í•˜ê²Œ ë§‰ëŠ” ë°©ë²•     ì—”í‹°í‹°ë¥¼ ì½ê¸° ì „ìš© ì¸í„°í˜ì´ìŠ¤ë¡œ ì œê³µ   ì½ê¸° ì „ìš© ë©”ì†Œë“œë§Œ ê°€ì§€ê³  ìˆë„ë¡ ì—”í‹°í‹° ë˜í•‘   DTOë§Œ ë°˜í™˜   í•˜ì§€ë§Œ ì½”ë“œëŸ‰ì´ ìƒë‹¹íˆ ì¦ê°€í•˜ëŠ” ë‹¨ì ì´ ìˆë‹¤.        13.3.2 ìŠ¤í”„ë§ OSIV: ë¹„ì¦ˆë‹ˆìŠ¤ ê³„ì¸µ íŠ¸ëœì­ì…˜  ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ê°€ ì œê³µí•˜ëŠ” OSIVëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ê³„ì¸µì—ì„œ íŠ¸ëœì­ì…˜ì„ ì‚¬ìš©í•˜ëŠ” OSIVë‹¤.        ë¹„ì¦ˆë‹ˆìŠ¤ ê³„ì¸µ íŠ¸ëœì­ì…˜ OSIV íŠ¹ì§•     ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µê¹Œì§€ ìœ ì§€í•œë‹¤.   í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì—ëŠ” íŠ¸ëœì­ì…˜ì´ ì—†ìœ¼ë¯€ë¡œ ì—”í‹°í‹°ë¥¼ ìˆ˜ì •í•  ìˆ˜ ì—†ë‹¤.   í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì—ëŠ” íŠ¸ëœì­ì…˜ì´ ì—†ì§€ë§Œ ì½ì„ ìˆ˜ëŠ” ìˆì–´ì„œ(íŠ¸ëœì­ì…˜ ì—†ì´ ì½ê¸°) ì§€ì—° ë¡œë”©ì„ í•  ìˆ˜ ìˆë‹¤.      ìŠ¤í”„ë§ OSIV ì£¼ì˜ì‚¬í•­  í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì—ì„œ ì—”í‹°í‹°ë¥¼ ìˆ˜ì •í•œ ì§í›„ì— íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•˜ëŠ” ì„œë¹„ìŠ¤ ê³„ì¸µì„ í˜¸ì¶œí•˜ë©´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ í”ŒëŸ¬ì‹œí•œë‹¤. ì´ ë•Œ í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì—ì„œì˜ ì—”í‹°í‹° ìˆ˜ì • ì‚¬í•­ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ë°˜ì˜í•˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•œë‹¤.   class MemberController {          public String viewMember(Long id) {         Member member = memberService.getMember(id);         member.setName(\"ë³€ê²½\"); // ë³€ê²½          memberService.biz(); // ë¹„ìŠ¤ë‹ˆìŠ¤ ë¡œì§ í˜¸ì¶œ         return \"view\";     } }  class MemberService {          @Transactional     public void biz() {         // ...ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì‹¤í–‰     } }       í•´ê²°ë°©ë²•  ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë¨¼ì € ìˆ˜í–‰í•œë‹¤.  class MemberController {          public String viewMember(Long id) {         memberService.biz(); // ë¹„ìŠ¤ë‹ˆìŠ¤ ë¡œì§ ë¨¼ì € í˜¸ì¶œ          Member member = memberService.getMember(id);         member.setName(\"ë³€ê²½\"); // ë³€ê²½ì„ ë‚˜ì¤‘ì— ìˆ˜í–‰         return \"view\";     } }        13.3.3 OSIV ì •ë¦¬   ìŠ¤í”„ë§ OSIVì˜ íŠ¹ì§•     OSIVëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì´ ë“¤ì–´ì˜¬ ë•Œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ìƒì„±í•´ì„œ ìš”ì²­ì´ ëë‚  ë•Œê¹Œì§€ ê°™ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ìœ ì§€í•œë‹¤.   ì—”í‹°í‹° ìˆ˜ì •ì€ íŠ¸ëœì­ì…˜ì´ ìˆëŠ” ê³„ì¸µì—ì„œë§Œ ë™ì‘í•œë‹¤.   íŠ¸ëœì­ì…˜ì´ ì—†ëŠ” í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì€ ì§€ì—° ë¡œë”©ì„ í¬í•¨í•´ì„œ ì¡°íšŒë§Œ í•  ìˆ˜ ìˆë‹¤.      ìŠ¤í”„ë§ OSIVì˜ ë‹¨ì      OSIVë¥¼ ì ìš©í•˜ë©´ ê°™ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì—¬ëŸ¬ íŠ¸ëœì­ì…˜ì´ ê³µìœ í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ì£¼ì˜í•´ì•¼ í•œë‹¤. íŠ¹íˆ ë¡¤ë°± ì£¼ì˜   í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì—ì„œ ì—”í‹°í‹°ë¥¼ ìˆ˜ì • í›„ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ìˆ˜í–‰í•˜ë©´ ì—”í‹°í‹° ìˆ˜ì •ì‚¬í•­ì´ ë°˜ì˜ë  ìˆ˜ ìˆë‹¤.   ì§€ì—° ë¡œë”©ì— ì˜í•œ ì„±ëŠ¥ íŠœë‹ì‹œì— í™•ì¸í•´ì•¼ í•  ë¶€ë¶„ì´ ë„“ë‹¤.      OSIV vs FACADE vs DTO  FACADEë“  DTOë“  OSIVë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ ë¹„êµí•´ì„œ ì§€ë£¨í•œ ì½”ë“œë¥¼ ë§ì´ ì‘ì„±í•´ì•¼ í•œë‹¤.      OSIVë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ ë§ŒëŠ¥ì€ ì•„ë‹ˆë‹¤  ë³µì¡í•œ í™”ë©´ì—ì„œëŠ” ì²˜ìŒë¶€í„° í™”ë©´ì— ë§ëŠ” JPQLë¡œ í•„ìš”í•œ ë°ì´í„°ë“¤ë§Œ ì¡°íšŒí•´ì„œ DTOë¡œ ë°˜í™˜í•˜ëŠ” ê²ƒì´ ë” ë‚˜ì€ í•´ê²°ì±…ì¼ ìˆ˜ ìˆë‹¤.      OSIVëŠ” ê°™ì€ JVMì„ ë²—ì–´ë‚œ ì›ê²© ìƒí™©ì—ì„œëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤  ì›ê²©ì§€ì—ì„œ ì—”í‹°í‹°ë¥¼ ì§€ì—° ë¡œë”©í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ê·¸ë¦¬ê³  ì—”í‹°í‹°ëŠ” ìƒê°ë³´ë‹¤ ìì£¼ ë³€ê²½ëœë‹¤. ë”°ë¼ì„œ ì™¸ë¶€ APIëŠ” ì—”í‹°í‹°ë¥¼ ì§ì ‘ ë…¸ì¶œí•˜ê¸°ë³´ë‹¤ëŠ” ì™„ì¶© ì—­í• ì„ í•  ìˆ˜ ìˆëŠ” DTOë¡œ ë³€í™˜í•´ì„œ ë…¸ì¶œí•˜ëŠ” ê²ƒì´ ì•ˆì „í•˜ë‹¤.        13.4 ë„ˆë¬´ ì—„ê²©í•œ ê³„ì¸µ  OSIVë¥¼ ì‚¬ìš©í•˜ë©´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µê¹Œì§€ ì‚´ì•„ìˆìœ¼ë¯€ë¡œ ë¯¸ë¦¬ ì´ˆê¸°í™”í•  í•„ìš”ê°€ ì—†ë‹¤. ë”°ë¼ì„œ ë‹¨ìˆœí•œ ì—”í‹°í‹° ì¡°íšŒëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë¦¬í¬ì§€í† ë¦¬ë¥¼ ì§ì ‘ í˜¸ì¶œí•´ë„ ë¬¸ì œê°€ ì—†ë‹¤.               14. ì»¬ë ‰ì…˜ê³¼ ë¶€ê°€ ê¸°ëŠ¥  ì´ ì¥ì—ì„œ ë‹¤ë£° ë‚´ìš©     ì»¬ë ‰ì…˜: ë‹¤ì–‘í•œ ì»¬ë ‰ì…˜ê³¼ íŠ¹ì§•ì„ ì„¤ëª…í•œë‹¤.   ì»¨ë²„í„°: ì—”í‹°í‹°ì˜ ë°ì´í„°ë¥¼ ë³€í™˜í•´ì„œ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•œë‹¤.   ë¦¬ìŠ¤ë„ˆ: ì—”í‹°í‹°ì—ì„œ ë°œìƒí•œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•œë‹¤.   ì—”í‹°í‹° ê·¸ë˜í”„: ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•  ë•Œ ì—°ê´€ëœ ì—”í‹°í‹°ë“¤ì„ ì„ íƒí•´ì„œ í•¨ê»˜ ì¡°íšŒí•œë‹¤.   14. ì»¬ë ‰ì…˜  14.1.1 List + @OrderColumn  List ì¸í„°í˜ì´ìŠ¤ì— @OrderColumnì„ ì¶”ê°€í•˜ë©´ ìˆœì„œê°€ ìˆëŠ” íŠ¹ìˆ˜í•œ ì»¬ë ‰ì…˜ìœ¼ë¡œ ì¸ì‹í•œë‹¤. ë°ì´í„°ë² ì´ìŠ¤ì— ìˆœì„œ ê°’ì„ ì €ì¥í•´ì„œ ì¡°íšŒí•  ë•Œ ì‚¬ìš©í•œë‹¤.   @Entity public class Board {     ...     @OneToMany(mappedBy = \"board\")     @OrderColumn(name = \"POSITION\") // ì¶”ê°€     private List&lt;Comment&gt; comments = new ArrayList&lt;Comment&gt;(); }   @Entity public class Comment {     private String comment;      @ManyToOne     @JoinColumn(name = \"BOARD_ID\")     private Board board; }  ìˆœì„œê°€ ìˆëŠ” ì»¬ë ‰ì…˜ì€ ë°ì´í„°ë² ì´ìŠ¤ì— ìˆœì„œ ê°’ë„ í•¨ê»˜ ê´€ë¦¬í•œë‹¤.       @OrderColumnì˜ ë‹¨ì   @OrderColumnì€ ë‹¤ìŒê³¼ ê°™ì€ ë‹¨ì ë“¤ ë•Œë¬¸ì— ì‹¤ë¬´ì—ì„œ ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.     @OrderColumnì„ Board ì—”í‹°í‹°ì— ë§¤í•‘í•˜ë¯€ë¡œ CommentëŠ” POSITIONì˜ ê°’ì„ ì•Œ ìˆ˜ ì—†ë‹¤.   Commentë¥¼ INSERTí•  ë•Œ Board.commentsì˜ ìœ„ì¹˜ ê°’ì„ ì‚¬ìš©í•´ì„œ POSITIONì˜ ê°’ì„ UPDATE í•˜ëŠ” SQLì´ ì¶”ê°€ë¡œ ë°œìƒí•œë‹¤.   Listë¥¼ ë³€ê²½í•˜ë©´ ì—°ê´€ëœ ìœ„ì¹˜ ê°’ì„ ë‹¤ ë³€ê²½í•´ì•¼ í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ëŒ“ê¸€ 2ë¥¼ ì‚­ì œí•˜ë©´ ëŒ“ê¸€ 3, ëŒ“ê¸€ 4ì˜ POSITION ê°’ì„ ë³€ê²½í•˜ëŠ” UPDATE SQLì´ 2ë²ˆ ì¶”ê°€ë¡œ ë°œìƒí•œë‹¤.   ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ê°•ì œë¡œ ì‚­ì œí•˜ê³  ë‹¤ë¥¸ ëŒ“ê¸€ ë“¤ì˜ POSITION ê°’ì„ ìˆ˜ì •í•˜ì§€ ì•Šìœ¼ë©´ ì»¬ë ‰ì…˜ì„ ìˆœíšŒí•  ë•Œ NullPointExceptionì´ ë°œìƒí•œë‹¤.        14.1.2 @OrderBy  @OrderByëŠ” ë°ì´í„°ë² ì´ìŠ¤ì˜ ORDER BYì ˆì„ ì‚¬ìš©í•´ì„œ ì»¬ë ‰ì…˜ì„ ì •ë ¬í•œë‹¤.  @Entity public class Team {     ...     @OneToMany(mappedBy = \"team\")     @OrderBy(\"username desc, id asc\")     private Set&lt;Member&gt; members = new HashSet&lt;Member&gt;();     ... }  ì´ˆê¸°í™”í•  ë•Œ ì‹¤í–‰ëœ SQLë¥¼ ë³´ë©´ ORDER BYê°€ ì‚¬ìš©ëœë‹¤.  SELECT M.* FROM MEMBER M WHERE M.TEAM_ID = ? ORDER BY M.MEMBER_NAME DESC, M.ID ASC    ì°¸ê³   í•˜ì´ë²„ë„¤ì´íŠ¸ëŠ” Setì— @OrderByë¥¼ ì ìš©í•´ì„œ ê²°ê³¼ë¥¼ ì¡°íšŒí•˜ë©´ ìˆœì„œë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•´ LinkedHashSetì„ ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•œë‹¤.         14.2 @Converter  ì»¨ë²„í„°ë¥¼ ì‚¬ìš©í•˜ë©´ ì—”í‹°í‹°ì˜ ë°ì´í„°ë¥¼ ë³€í™˜í•´ì„œ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•  ìˆ˜ ìˆë‹¤.   AttributeConverterë¥¼ ì´ìš©í•œ ë°¸ë¥˜ ë§¤í•‘ ì²˜ë¦¬ ì°¸ê³        14.3 ë¦¬ìŠ¤ë„ˆ  JPA ë¦¬ìŠ¤ë„ˆ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ì—”í‹°í‹°ì˜ ìƒëª…ì£¼ê¸°ì— ë”°ë¥¸ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.   ë¦¬ìŠ¤ë„ˆ ì°¸ê³        14.3.1 ì´ë²¤íŠ¸ ì¢…ë¥˜  ì´ë²¤íŠ¸ ì¢…ë¥˜ì™€ ë°œìƒ ì‹œì          14.3.2 ì´ë²¤íŠ¸ ì ìš© ìœ„ì¹˜  ì´ë²¤íŠ¸ëŠ” ì—”í‹°í‹°ì—ì„œ ì§ì ‘ ë°›ê±°ë‚˜ ë³„ë„ì˜ ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡í•´ì„œ ë°›ì„ ìˆ˜ ìˆë‹¤.   ì—”í‹°í‹°ì— ì§ì ‘ ì ìš©   @PrePersist, @PostLoadâ€¦ ë“±ì„ ì´ìš©í•œë‹¤.  @Entity public class Duck {      @Id @GeneratedValue     private Long id;      private String name;      @PrePersist     public void prePersist(){         System.out.println(\"prePersist\");     }      @PostPersist     public void PostPersist (){         System.out.println(\"PostPersist\");     }          @PostLoad     public void PostLoad(){         System.out.println(\"PostLoad\");     }      @PreRemove     public void PreRemove (){         System.out.println(\"PreRemove\");     }      @PostRemove     public void PostRemove(){         System.out.println(\"PostRemove\");     }          @PreUpdate     public void PreUpdate(){         System.out.println(\"PreUpdate\");     }          @PostUpdate     public void PostUpdate (){         System.out.println(\"PostUpdate \");     }     }        ë³„ë„ì˜ ë¦¬ìŠ¤ë„ˆ ë“±ë¡  @EntityListenersë¥¼ ì‚¬ìš©í•œë‹¤.  @Entity @EntityListeners(DuckListener.class) public class Duck {...}  public class DuckListener {      @PrePersist     // íŠ¹ì • íƒ€ì…ì´ í™•ì‹¤í•˜ë‹¤ë©´ íŠ¹ì • íƒ€ì…ì„ ë°›ì„ ìˆ˜ ìˆë‹¤.     public void prePersist(Duck obj){         System.out.println(\"prePersist\");     }      @PostPersist     public void PostPersist (Duck obj){         System.out.println(\"PostPersist\");     }      @PreRemove     public void PreRemove (Object obj){         System.out.println(\"PreRemove\");     }      @PostRemove     public void PostRemove(Object obj){         System.out.println(\"PostRemove\");     } }  ë¦¬ìŠ¤ë„ˆëŠ” ëŒ€ìƒ ì—”í‹°í‹°ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì„ ìˆ˜ ìˆë‹¤. ë°˜í™˜ íƒ€ì…ì€ voidë¡œ ì„¤ì •í•´ì•¼ í•œë‹¤.        ê¸°ë³¸ ë¦¬ìŠ¤ë„ˆ ì‚¬ìš©  ëª¨ë“  ì—”í‹°í‹°ì—ì„œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê¸°ìœ„í•´ ê¸°ë³¸ ë¦¬ìŠ¤ë„ˆë¡œ ë“±ë¡í•  ìˆ˜ ìˆë‹¤.  &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;  &lt;entity-mappings ...&gt;     &lt;persistence-unit-metadata&gt;         &lt;persistence-unit-defaults&gt;             &lt;entity-listeners&gt;                 &lt;entity-listener class=\"jpabook.jpashop.domain.test.listener.DefaultListener\"&gt;                 &lt;/entity-listener&gt;             &lt;/entity-listeners&gt;         &lt;/persistence-unit-defaults&gt;     &lt;/persistence-unit-metadata&gt;      &lt;/entity-mappings&gt;        ë” ì„¸ë°€í•œ ì„¤ì •     javax.persistence.ExcludeDefaultListeners: ê¸°ë³¸ ë¦¬ìŠ¤ë„ˆ ë¬´ì‹œ   java.persistence.ExcludeSuperclassListners: ìƒìœ„ í´ë˜ìŠ¤ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë¬´ì‹œ   @Entity @EntityListeners(DuckListener.class) @ExcludeDefaultListeners @ExcludeSuperclassListners public class Duck extends BaseEntity {...}    ì—¬ëŸ¬ ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡í–ˆì„ ë•Œ ì´ë²¤íŠ¸ í˜¸ì¶œ ìˆœì„œ     ê¸°ë³¸ ë¦¬ìŠ¤ë„ˆ   ë¶€ëª¨ í´ë˜ìŠ¤ ë¦¬ìŠ¤ë„ˆ   ë¦¬ìŠ¤ë„ˆ   ì—”í‹°í‹°            14.4 ì—”í‹°í‹° ê·¸ë˜í”„  ì—”í‹°í‹° ê·¸ë˜í”„ ê¸°ëŠ¥ì€ ì—”í‹°í‹° ì¡°íšŒì‹œì ì— ì—°ê´€ëœ ì—”í‹°í‹°ë“¤ì„ í•¨ê»˜ ì¡°íšŒí•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤.     ì •ì ìœ¼ë¡œ ì •ì˜í•˜ëŠ” Named ì—”í‹°í‹° ê·¸ë˜í”„   ë™ì ìœ¼ë¡œ ì •ì˜í•˜ëŠ” ì—”í‹°í‹° ê·¸ë˜í”„   14.4.1 Named ì—”í‹°í‹° ê·¸ë˜í”„ (ì •ì )  // ì£¼ë¬¸ì„ ì¡°íšŒí•  ë•Œ ì—°ê´€ëœ íšŒì›ë„ í•¨ê»˜ ì¡°íšŒí•˜ëŠ” ì—”í‹°í‹° ê·¸ë˜í”„ @NamedEntityGraph(     name = \"Order.withMember\",     attributeNodes = {@NamedAttributeNode(\"member\")} ) @Entity @Table(name = \"ORDERS\") public class Order {       @Id     @GeneratedValue     @Column(name = \"ORDER_ID\")     private Long id;       @ManyToOne(fetch = FetchType.LAZY, optional = false)     @JoinColumn(name = \"MEMBER_ID\")     private Member member;  // ì£¼ë¬¸ íšŒì›       ... }     @NamedEntityGraph: Named ì—”í‹°í‹° ê·¸ë˜í”„ ì •ì˜í•œë‹¤.   name : ì—”í‹°í‹° ê·¸ë˜í”„ì˜ ì´ë¦„ì„ ì •ì˜í•œë‹¤.   attributeNodes : í•¨ê»˜ ì¡°íšŒí•  ì†ì„±ì„ ì„ íƒí•œë‹¤. ì´ë•Œ @NamedAttributeNodeë¥¼ ì‚¬ìš©í•˜ê³  ê·¸ ê°’ìœ¼ë¡œ í•¨ê»˜ ì¡°íšŒí•  ì†ì„±ì„ ì„ íƒí•˜ë©´ ëœë‹¤.   Order.memberê°€ ì§€ì—° ë¡œë”©ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆì§€ë§Œ, ì—”í‹°í‹° ê·¸ë˜í”„ì—ì„œ í•¨ê»˜ ì¡°íšŒí•  ì†ì„±ìœ¼ë¡œ memberë¥¼ ì„ íƒí–ˆìœ¼ë¯€ë¡œ ì´ ì—”í‹°í‹° ê·¸ë˜í”„ë¥¼ ì‚¬ìš©í•˜ë©´ Orderë¥¼ ì¡°íšŒí•  ë•Œ ì—°ê´€ëœ memberë„ í•¨ê»˜ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.   ì—”í‹°í‹° ê·¸ë˜í”„ë¥¼ ë‘˜ ì´ìƒ ì •ì˜í•  ê²½ìš° @NamedEntityGraphs ì‚¬ìš©í•œë‹¤.        14.4.2 em.find()ì—ì„œ ì—”í‹°í‹° ê·¸ë˜í”„ ì‚¬ìš©  // ì •ì˜í•œ ì—”í‹°í‹° ê·¸ë˜í”„ë¥¼ ì°¾ê³  EntityGraph graph = em.getEntityGraph(\"Order.withMember\");  // ì—”í‹°í‹° ê·¸ë˜í”„ëŠ” JPAì˜ íŒíŠ¸ ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ì„œ ë™ì‘ // íŒíŠ¸ì˜ ê°’ìœ¼ë¡œ ì°¾ì•„ì˜¨ ì—”í‹°í‹° ê·¸ë˜í”„ ì‚¬ìš© Map hints = new HashMap(); hints.put(\"javax.persistence.fetchgraph\", graph);  // ì¡°íšŒí•  ë•Œ íŒíŠ¸ì •ë³´ í¬í•¨ Order order = em.find(Order.class, orderId, hints);        14.4.3 subgraph  Order -&gt; OrderItem -&gt; Item ê¹Œì§€ í•¨ê»˜ ì¡°íšŒ   @NamedEntityGraph(     name = \"Order.withAll\",     attributeNodes = {         @NamedAttributeNode(\"member\"),         @NamedAttributeNode(value = \"orderItems\",subgraph = \"orderItems\")     },     subgraphs = @NamedSubgraph(         name = \"orderItems\",         attributeNodes = {@NamedAttributeNode(\"item\")}     ) ) @Entity @Table(name = \"ORDERS\") public class Order {       @Id     @GeneratedValue     @Column(name = \"ORDER_ID\")     private Long id;      @ManyToOne(fetch = FetchType.LAZY, optional = false)     @JoinColumn(name = \"MEMBER_ID\")     private Member member;  // ì£¼ë¬¸ íšŒì›      @OneToMany(mappedBy = \"order\", cascade = CascadeType.ALL)     private List&lt;OrderItem&gt; orderItems = new ArrayList&lt;OrderItem&gt;();     ... }  @Entity @Table(name = \"ORDER_ITEM\") public class OrderItem {       @Id     @GeneratedValue     @Column(name = \"ORDER_ITEM_ID\")     private Long id;       @ManyToOne(fetch = FetchType.LAZY)     @JoinColumn(name = \"ITEM_ID\")     private Item item;  // ì£¼ë¬¸ ìƒí’ˆ     ... }  Order.Allì´ë¼ëŠ” Named ì—”í‹°í‹° ê·¸ë˜í”„ ì •ì˜í–ˆë‹¤. ì´ ì—”í‹°í‹° ê·¸ë˜í”„ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ê°ì²´ ê·¸ë˜í”„ë¥¼ í•¨ê»˜ ì¡°íšŒí•œë‹¤.     Order -&gt; Member   Order -&gt; OrderItem   OrderItem -&gt; Item (Orderì˜ ê°ì²´ ê·¸ë˜í”„ê°€ ì•„ë‹ˆë¯€ë¡œ subgraphs ì†ì„±ì— ì •ì˜)      JPQLì—ì„œ ì—”í‹°í‹° ê·¸ë˜í”„ ì‚¬ìš©  List&lt;Order&gt; resultList =      em.createQuery(\"select o from Order o where o.id = :orderId\", Order.class)     .setParameter(\"orderId\", orderId)     .setHint(\"javax.persistence.fetchgraph\", em.getEntityGraph(\"Order.withAll\"))     .getResultList();        14.4.5 ë™ì  ì—”í‹°í‹° ê·¸ë˜í”„  ì—”í‹°í‹° ê·¸ë˜í”„ë¥¼ ë™ì ìœ¼ë¡œ êµ¬ì„±í•˜ë ¤ë©´ createEntityGraph() ë©”ì†Œë“œ ì‚¬ìš©í•œë‹¤.   ë™ì  ì—”í‹°í‹° ê·¸ë˜í”„  EntityGraph&lt;Order&gt; graph = em.createEntityGraph(Order.class); graph.addAttributeNodes(\"member\");  Map hints = new HashMap(); hints.put(\"javax.persistence.fetchgraph\", graph);  Order order = em.find(Order.class, orderId, hints);      ë™ì  ì—”í‹°í‹° ê·¸ë˜í”„ subgraph  EntityGraph&lt;Order&gt; graph = em.createEntityGraph(Order.class); graph.addAttributeNodes(\"member\"); Subgraph&lt;OrderItem&gt; orderItems = graph.addSubgraph(\"orderItems\"); orderItems.addAttributeNodes(\"item\");  Map hints = new HashMap(); hints.put(\"javax.persistence.fetchgraph\", graph);  Order order = em.find(Order.class, orderId, hints);        14.4.6 ì—”í‹°í‹° ê·¸ë˜í”„ ì •ë¦¬  ROOTì—ì„œ ì‹œì‘  ì—”í‹°í‹° ê·¸ë˜í”„í‹‘ í•­ìƒ ì¡°íšŒí•˜ëŠ” ì—”í‹°í‹°ì˜ ROOTì—ì„œ ì‹œì‘í•´ì•¼ í•œë‹¤.   ì´ë¯¸ ë¡œë”©ëœ ì—”í‹°í‹°  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— í•´ë‹¹ ì—”í‹°í‹°ê°€ ì´ë¯¸ ë¡œë”©ë˜ì–´ ìˆìœ¼ë©´ ì—”í‹°í‹° ê·¸ë˜í”„ê°€ ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.  Order order1 = em.find(Order.class, orderId); // ì´ë¯¸ ì¡°íšŒ hints.put(\"javax.persistence.fetchgraph\", em.getEntityGraph(\"Order.withMember\"));  // ì—”í‹°í‹° ê·¸ë˜í”„ê°€ ì ìš©ë˜ì§€ ì•Šê³  order1ê³¼ ê°™ì€ ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜ Order order2 = em.find(Order.class, orderId);      fetchgraph, loadgraph ì°¨ì´     javax.persistence.fetchgraph: ì—”í‹°í‹° ê·¸ë˜í”„ì— ì„ íƒí•œ ì†ì„±ë§Œ í•¨ê»˜ ì¡°íšŒ   javax.persistence.loadgraph: ì—”í‹°í‹° ê·¸ë˜í”„ì— ì„ íƒí•œ ì†ì„± + FetchType.EAGERë¡œ ì„¤ì •ëœ ì—°ê´€ê´€ê³„ ì¡°íšŒ        14.5 ì •ë¦¬     JPAê°€ ì§€ì›í•˜ëŠ” ì»¬ë ‰ì…˜ì˜ ì¢…ë¥˜ì™€ íŠ¹ì§•   ì»¨ë²„í„°ë¥¼ ì‚¬ìš©í•˜ë©´ ì—”í‹°í‹°ì˜ ë°ì´í„°ë¥¼ ë³€í™˜í•´ì„œ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•  ìˆ˜ ìˆë‹¤.   ë¦¬ìŠ¤ë„ˆë¥¼ ì‚¬ìš©í•˜ë©´ ì—”í‹°í‹°ì—ì„œ ë°œìƒí•œ ì´ë²¤íŠ¸ë¥¼ ë°›ì•„ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.   í˜ì¹˜ ì¡°ì¸ì€ ê°ì²´ì§€í–¥ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ì§€ë§Œ ì—”í‹°í‹° ê·¸ë˜í”„ë¥¼ ì‚¬ìš©í•˜ë©´ ê°ì²´ ì§€í–¥ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ì›í•˜ëŠ” ê°ì²´ ê·¸ë˜í”„ë¥¼ í•œ ë²ˆì— ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.            15. ê³ ê¸‰ ì£¼ì œì™€ ì„±ëŠ¥ ìµœì í™”   15.1 ì˜ˆì™¸ ì²˜ë¦¬     íŠ¸ëœì­ì…˜ì„ ë¡¤ë°±í•˜ëŠ” ê²ƒì€ ë°ì´í„°ë² ì´ìŠ¤ì˜ ë°˜ì˜ì‚¬í•­ë§Œ ë¡¤ë°±í•˜ëŠ” ê²ƒì´ì§€ ìˆ˜ì •í•œ ìë°” ê°ì²´ê¹Œì§€ ì›ìƒíƒœë¡œ ë³µêµ¬í•´ì£¼ì§€ ì•ŠëŠ”ë‹¤.   ì—”í‹°í‹° ìˆ˜ì •ì¤‘ ì˜ˆì™¸ê°€ ë°œìƒí•˜ë©´ ë°ì´í„°ë² ì´ìŠ¤ì˜ ë°ì´í„°ëŠ” ë¡¤ë°±ë˜ì§€ë§Œ ê°ì²´ëŠ” ìˆ˜ì •ëœ ìƒíƒœë¡œ ì—”í‹°í‹° ì»¨í…ìŠ¤íŠ¸ì— ë‚¨ì•„ìˆë‹¤.   ë”°ë¼ì„œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì´ˆê¸°í™”í•œ ë‹¤ìŒì— ì‚¬ìš©í•´ì•¼ í•œë‹¤.   íŠ¸ëœì­ì…˜ë‹¹ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” íŠ¸ëœì­ì…˜ ì¢…ë£Œ ì‹œì ì— ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë„ ì¢…ë£Œë˜ë¯€ë¡œ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.   OSIVì—ì„œ ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ë²”ìœ„ë¥¼ íŠ¸ëœì­ì…˜ì˜ ë²”ìœ„ë³´ë‹¤ ë„“ê²Œ ì„¤ì •í•˜ë©´ íŠ¸ëœì­ì…˜ ë¡¤ë°±ì‹œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì´ˆê¸°í™”í•´ì„œ ë¬¸ì œë¥¼ ì˜ˆë°©í•œë‹¤.        15.2 ì—”í‹°í‹° ë¹„êµ     ë™ì¼ì„± ë¹„êµëŠ” ê°™ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ê´€ë¦¬ë¥¼ ë°›ëŠ” ì˜ì† ìƒíƒœì˜ ì—”í‹°í‹°ì—ë§Œ ì ìš©í•  ìˆ˜ ìˆë‹¤.   ê·¸ ì™¸ì—ëŠ” ë™ë“±ì„± ë¹„êµë¥¼ í•´ì•¼í•œë‹¤.   ì—”í‹°í‹°ë¥¼ ë¹„êµí•  ë•ŒëŠ” @Idë“±ê³¼ ê°™ì€ ë¹„ì¦ˆë‹ˆìŠ¤í‚¤ë¥¼ í™œìš©í•œ ë™ë“±ì„± ë¹„êµë¥¼ ê¶Œì¥í•œë‹¤.       15.3 í”„ë¡ì‹œ ì‹¬í™”   15.3.1 ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì™€ í”„ë¡ì‹œ  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” ìì‹ ì´ ê´€ë¦¬í•˜ëŠ” ì˜ì† ì—”í‹°í‹°ì˜ ë™ì¼ì„±ì„ ë³´ì¥í•œë‹¤. ê·¸ëŸ¼ í”„ë¡ì‹œë¡œ ì¡°íšŒí•œ ì—”í‹°í‹°ì˜ ë™ì¼ì„±ë„ ë³´ì¥í• ê¹Œ?  // í”„ë¡ì‹œ ì¡°íšŒ Member refMember = em.getReference(Member.class, \"member1\"); // find ì¡°íšŒ Member findMember = em.find(Member.class, \"member1\");  ì¶œë ¥ ê²°ê³¼  refMember Type = í”„ë¡ì‹œ ì—”í‹°í‹° findMember  Type = í”„ë¡ì‹œ ì—”í‹°í‹°  refMemberëŠ” í”„ë¡ì‹œê³  findMemberëŠ” ì›ë³¸ ì—”í‹°í‹°ì´ë¯€ë¡œ ë‘˜ì€ ì„œë¡œ ë‹¤ë¥¸ ì¸ìŠ¤í„´ìŠ¤ë¡œ ìƒê°í•  ìˆ˜ ìˆì§€ë§Œ, ì˜ì† ì—”í‹°í‹°ì˜ ë™ì¼ì„± ë³´ì¥ì„ ìœ„í•´ í”„ë¡ì‹œë¡œ ì¡°íšŒëœ ì—”í‹°í‹°ì— ëŒ€í•´ì„œ ê°™ì€ ì—”í‹°í‹°ë¥¼ ì°¾ìœ¼ë©´ í”„ë¡ì‹œë¥¼ ë°˜í™˜í•œë‹¤.       // find ì¡°íšŒ Member findMember = em.find(Member.class, \"member1\"); // í”„ë¡ì‹œ ì¡°íšŒ Member refMember = em.getReference(Member.class, \"member1\");  ì¶œë ¥ ê²°ê³¼  findMember  Type = ì›ë³¸ ì—”í‹°í‹° refMember Type = ì›ë³¸ ì—”í‹°í‹°  ë°˜ëŒ€ë¡œ ì›ë³¸ ì—”í‹°í‹°ë¥¼ ë¨¼ì € ì¡°íšŒí•˜ë©´ í”„ë¡ì‹œë¥¼ ë°˜í™˜í•  ì´ìœ ê°€ ì—†ë‹¤. ë”°ë¼ì„œ refMemberëŠ” ì›ë³¸ì„ ë°˜í™˜í•œë‹¤.      15.3.2 í”„ë¡ì‹œ ë¹„êµ íƒ€ì…  í”„ë¡ì‹œëŠ” ì›ë³¸ ì—”í‹°í‹°ë¥¼ ìƒì† ë°›ì•„ì„œ ë§Œë“¤ì–´ì§€ë¯€ë¡œ í”„ë¡ì‹œë¡œ ì¡°íšŒí•œ ì—”í‹°í‹°ì˜ íƒ€ì…ì„ ë¹„êµí•  ë•ŒëŠ” == ë¹„êµë¥¼ í•˜ë©´ ì•ˆë˜ê³  ëŒ€ì‹ ì— instanceofë¥¼ ì‚¬ìš©í•´ì•¼í•œë‹¤.   Member refMember = em.getReference(Member.class, \"member1\");  Assert.assertFalse(Member.class == refMember.getClass()); // false Assert.assertTrue(refMember instanceof Member); // true      15.3.3 í”„ë¡ì‹œ ë™ë“±ì„± ë¹„êµ     í”„ë¡œì‹œ ë™ë“±ì„± ë¹„êµ ì£¼ì˜ì‚¬í•­     í”„ë¡ì‹œì˜ íƒ€ì… ë¹„êµëŠ” == ëŒ€ì‹ ì— instanceofë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.   í”„ë¡ì‹œì˜ ë§´ë²„ë³€ìˆ˜ì— ì§ì ‘ ì ‘ê·¼í•˜ë©´ ì•ˆë˜ê³  ì ‘ê·¼ì ë©”ì†Œë“œ(Getter)ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.      15.3.4 ìƒì†ê´€ê³„ì™€ í”„ë¡ì‹œ    í”„ë¡ì‹œë¥¼ ë¶€ëª¨ íƒ€ì…ìœ¼ë¡œ ì¡°íšŒí•˜ë©´ ë¶€ëª¨ íƒ€ì…ì„ ê¸°ë°˜ìœ¼ë¡œ í”„ë¡ì‹œê°€ ìƒì„±ëœë‹¤.  Item proxyItem = em.getReference(Item.class, saveBook.getId());  // ì˜ˆì™¸ë°œìƒ java.lang.ClassCastException // Book book = (Book) proxyItem;  // ê²€ì¦ Assert.assertFalse(proxyItem.getClass() == Book.class); Assert.assertFalse(proxyItem instanceof Book); Assert.assertTrue(proxyItem instanceof Item);  ë”°ë¼ì„œ ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œê°€ ìˆë‹¤.     instanceof ì—°ì‚°ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.   í•˜ìœ„ íƒ€ì…ìœ¼ë¡œ ë‹¤ìš´ìºìŠ¤íŒ…ì„ í•  ìˆ˜ ì—†ë‹¤.        ëª‡ ê°€ì§€ í•´ê²°ë°©ë²•  1. JPQLë¡œ ëŒ€ìƒ ì§ì ‘ ì¡°íšŒ  Book jpqlBook = em.createQuery(\"select b from Book b where b.id=:bookId\", Book.class);             .setParameter(\"bookId\", item.getId())             .getSingleResult();  í•˜ì§€ë§Œ ì´ ë°©ë²•ì„ ì‚¬ìš©í•˜ë©´ ë‹¤í˜•ì„±ì„ í™œìš©í•  ìˆ˜ ì—†ë‹¤.      2. ê¸°ëŠ¥ì„ ìœ„í•œ ë³„ë„ì˜ ì¸í„°í˜ì´ìŠ¤ ì œê³µ    // íŠ¹ì • ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ ìƒì„± public interface TitleView {     String getTitle(); }  @Entity @Inheritance(strategy = InheritanceType.SINGLE_TABLE) @DiscriminatorColumn(name = \"DTYPE\") public abstract class Item implements TitleView {      @Id @GeneratedValue     @Column(name = \"ITEM_ID\")     private Long id;      private String name;     private int price;          ...     // Getter, Setter }  @Entity @DiscriminatorValue(\"M\") public class Movie extends Item {      private String director;     private String actor;          @Override     public String getTitle() {         return \"[ì œëª©:\" + getName() + \" ê°ë…:\" + director + \" ë°°ìš°:\" + actor + \"]\";     } }  @Entity @DiscriminatorValue(\"B\") public class Book extends Item {          private String author;     private String isbn;      @Override     public String getTitle() {         return \"[ì œëª©:\" + getName() + \" ì €ì:\" + author + \"]\";     } }  // í”„ë¡ì‹œ ì¸í„°í˜ì´ìŠ¤ ì œê³µ ì‚¬ìš© @Entity public class OrderItem {     @Id @GeneratedValue     private Long id;      @ManyToOne(fetch = FetchType.LAZY)     @JoinColmn(name = \"ITEM_ID\")     private Item item;      ...      public void printItem() {         System.out.println(\"TITLE=\" + item.getTitle());     } }  // Itemì˜ êµ¬í˜„ì²´ì— ë”°ë¼ ê°ê° ë‹¤ë¥¸ getTitle() ë©”ì†Œë“œê°€ í˜¸ì¶œëœë‹¤. OrderItem orderItem = em.find(OrderItem.class, saveOrderItem.getId()); orderItem.printItem();      3. ë¹„ì§€í„° íŒ¨í„´ ì‚¬ìš©  êµ¬í˜„ ë‚´ìš© ìƒëµ, ì±… ì°¸ê³  ğŸ˜…   ì¥ì      í”„ë¡ì‹œì— ëŒ€í•œ ê±±ì • ì—†ì´ ì•ˆì „í•˜ê²Œ ì›ë³¸ ì—”í‹°í‹°ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.   instanceofì™€ íƒ€ì… ìºìŠ¤íŒ… ì—†ì´ ì½”ë“œë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.   ì•Œê³ ë¦¬ì¦˜ê³¼ ê°ì²´ êµ¬ì¡°ë¥¼ ë¶„ë¦¬í•´ì„œ êµ¬ì¡°ë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šê³  ìƒˆë¡œìš´ ë™ì‘ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.   ë‹¨ì      ë„ˆë¬´ ë³µì¡í•˜ê³  ì´í•´í•˜ê¸° ì–´ë µë‹¤.   ê°ì²´ êµ¬ì¡°ê°€ ë³€ê²½ë˜ë©´ ëª¨ë“  Visitorë¥¼ ìˆ˜ì •í•´ì•¼ í•œë‹¤.        15.4 ì„±ëŠ¥ ìµœì í™”   15.4.1 N+1 ë¬¸ì œ     ì¦‰ì‹œ ë¡œë”©ì€ JPQLì„ ì‹¤í–‰í•  ë•Œ N+1 ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.   ì§€ì—° ë¡œë”©ì€ ì—°ê´€ëœ ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•  ë•Œ N+1 ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.      í•´ê²° ë°©ë²•  1. í˜ì¹˜ ì¡°ì¸ ì‚¬ìš©  select distinct m from Member m join fetch m.orders  ì¼ëŒ€ë‹¤ ì¡°ì¸ì„ í•˜ë©´ ê²°ê³¼ê°€ ëŠ˜ì–´ë‚˜ì„œ ì¤‘ë³µëœ ê²°ê³¼ê°€ ë‚˜íƒ€ë‚  ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ distinctë¥¼ ì‚¬ìš©í•´ì„œ ì¤‘ë³µì„ ì œê±°í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.      2. í•˜ì´ë²„ë„¤ì´íŠ¸ @BatchSize  í•˜ì´ë²„ë„¤ì´íŠ¸ê°€ ì œê³µí•˜ëŠ” @BatchSizeì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ë©´ ì—°ê´€ëœ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•  ë•Œ ì§€ì •í•œ sizeë§Œí¼ SQLì˜ INì ˆì„ ì‚¬ìš©í•´ì„œ ì¡°íšŒí•œë‹¤. ë§Œì•½ ì¡°íšŒí•œ íšŒì›ì´ 10ëª…ì¸ë° size=5ë¡œ ì§€ì •í•˜ë©´ 2ë²ˆì˜ SQLë§Œ ì¶”ê°€ë¡œ ì‹¤í–‰í•œë‹¤.  @BatchSize @OneToMany(mappedBy = \"member\", fetch = FetchType.EAGER) private List&lt;Order&gt; orders = new ArrayList&lt;Order&gt;();    ì°¸ê³  hibernate.default_batch_fetch_size ì†ì„±ì„ ì‚¬ìš©í•˜ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ì— ê¸°ë³¸ìœ¼ë¡œ @BatchSizeë¥¼ ì ìš©í•  ìˆ˜ ìˆë‹¤.       3. í•˜ì´ë²„ë„¤ì´íŠ¸ @Fetch(FetchMode.SUBSELECT)  í•˜ì´ë²„ë„¤ì´íŠ¸ê°€ ì œê³µí•˜ëŠ” @Fetchì–´ë…¸í…Œì´ì…˜ì— FetchMode.SUBSELECTë¡œ ì‚¬ìš©í•˜ë©´ ì—°ê´€ëœ ë°ì´í„°ë¥¼ ì¡°íšŒí•  ë•Œ ì„œë¸Œ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•´ì„œ N+1 ë¬¸ì œë¥¼ í•´ê²°í•œë‹¤.   @Fetch(FetchMode.SUBSELECT) @OneToMany(mappedBy = \"member\", fetch = FetchType.EAGER) private List&lt;Order&gt; orders = new ArrayList&lt;Order&gt;();  -- JPQL select m from Member m where m.id &gt; 10  -- ì¦‰ì‹œ ë¡œë”©ìœ¼ë¡œ ì„¤ì •í•˜ë©´ ì¡°íšŒ ì‹œì ì— -- ì§€ì—° ë¡œë”©ìœ¼ë¡œ ì„¤ì •í•˜ë©´ ì§€ì—°ë¡œë”©ëœ ì—”í‹°í‹°ë¥¼ ì‚¬ìš©í•˜ëŠ” ì‹œì ì— -- SQL SELECT O FROM ORDERS O     WHERE O.MEMBER_ID IN (         SELECT             M.ID         FROM             MEMBER M         WHERE M.ID &gt; 10     )      ì •ë¦¬     ì¦‰ì‹œ ë¡œë”©ì€ ì„±ëŠ¥ ìµœì í™”ê°€ ì–´ë µë‹¤.   ì¦‰ì‹œ ë¡œë”©ì€ ì‚¬ìš©í•˜ì§€ ë§ê³  ì§€ì—° ë¡œë”©ë§Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤.   ì„±ëŠ¥ ìµœì í™”ê°€ ê¼­ í•„ìš”í•œ ê³³ì—ì„œë§Œ JPQL í˜ì¹˜ ì¡°ì¸ ì‚¬ìš©í•˜ì.        15.4.2 ì½ê¸° ì „ìš© ì¿¼ë¦¬ì˜ ì„±ëŠ¥ ìµœì í™”  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” ë³€ê²½ ê°ì§€ë¥¼ ìœ„í•´ ìŠ¤ëƒ…ìƒ· ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë³´ê´€í•˜ë¯€ë¡œ ë” ë§ì€ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ë‹¨ì ì´ ìˆë‹¤. ë‹¨ìˆœíˆ ì¡°íšŒë§Œ í•˜ê³ , ì¡°íšŒí•œ ì—”í‹°í‹°ë¥¼ ë‹¤ì‹œ ì¡°íšŒí•  ì¼ë„ ì—†ê³  ìˆ˜ì •í•  ì¼ë„ ì—†ë‹¤ë©´ ì½ê¸° ì „ìš©ìœ¼ë¡œ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•˜ë©´ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ìµœì í™”í•  ìˆ˜ ìˆë‹¤.   ìŠ¤ì¹¼ë¼ íƒ€ì…ìœ¼ë¡œ ì¡°íšŒ  ìŠ¤ì¹¼ë¼ íƒ€ì…ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ê²°ê³¼ë¥¼ ê´€ë¦¬í•˜ì§€ ì•ŠëŠ”ë‹¤.  select o.id, o.name, o.price from Order p      ì½ê¸° ì „ìš© ì¿¼ë¦¬ íŒíŠ¸ ì‚¬ìš©  í•˜ì´ë²„ë„¤ì´íŠ¸ ì „ìš© íŒíŠ¸ì¸ org.hibernate.readOnlyë¥¼ ì‚¬ìš©í•˜ë©´ ì—”í‹°í‹°ë¥¼ ì½ê¸° ì „ìš©ìœ¼ë¡œ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤. ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” ìŠ¤ëƒ…ìƒ·ì„ ë³´ê´€í•˜ì§€ ì•ŠëŠ”ë‹¤.  TypedQuery&lt;Order&gt; query = em.createQuery(\"select o from Order o\", Order.class); query.setHint(\"org.hibernate.readOnly\", true);      ì½ê¸° ì „ìš© íŠ¸ëœì­ì…˜ ì‚¬ìš©  ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ë©´ íŠ¸ëœì­ì…˜ì„ ì½ê¸° ì „ìš© ëª¨ë“œë¡œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. ì´ ì˜µì…˜ì€ íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•´ë„ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ í”ŒëŸ¬ì‹œ í•˜ì§€ ì•ŠëŠ”ë‹¤. ìŠ¤ëƒ…ìƒ· ë¹„êµì™€ ê°™ì€ ë¬´ê±°ìš´ ë¡œì§ë“¤ì„ ìˆ˜í–‰í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì„±ëŠ¥ì´ í–¥ìƒëœë‹¤.  @Transactional(readOnly = true)      ì¶”ì²œ ë°©ë²•     ì½ê¸° ì „ìš© íŠ¸ëœì­ì…˜ ì‚¬ìš©: í”ŒëŸ¬ì‹œë¥¼ ì‘ë™í•˜ì§€ ì•Šë„ë¡ í•´ì„œ ì„±ëŠ¥ í–¥ìƒ   ì½ê¸° ì „ìš© ì—”í‹°í‹° ì‚¬ìš©: ì—”í‹°í‹°ë¥¼ ì½ê¸° ì „ìš©ìœ¼ë¡œ ì¡°íšŒí•´ì„œ ë©”ëª¨ë¦¬ ì ˆì•½        15.4.3 ë°°ì¹˜ ì²˜ë¦¬     ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ë„ˆë¬´ ë§ì€ ì—”í‹°í‹°ê°€ ì €ì¥ë˜ë©´ ë©”ëª¨ë¦¬ ë¶€ì¡± ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.   ë”°ë¼ì„œ ì´ëŸ¬í•œ ë°°ì¹˜ ì²˜ë¦¬ë¥¼ ì ì ˆí•œ ë‹¨ìœ„ë¡œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì´ˆê¸°í™”í•´ì•¼ í•œë‹¤.   2ì°¨ ìºì‹œë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´ 2ì°¨ ìºì‹œì— ì—”í‹°í‹°ë¥¼ ë³´ê´€í•˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•´ì•¼ í•œë‹¤.   JPA ë“±ë¡ ë°°ì¹˜  ë§ì€ ì–‘ì˜ ì—”í‹°í‹°ë¥¼ í•œ ë²ˆì— ë“±ë¡í•  ë•Œ ì£¼ì˜í•  ì ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì—”í‹°í‹°ê°€ ê³„ì† ìŒ“ì´ì§€ ì•Šë„ë¡ ì¼ì • ë‹¨ìœ„ë§ˆë‹¤ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ì—”í‹°í‹°ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— í”ŒëŸ¬ì‹œí•˜ê³  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì´ˆê¸°í™”í•´ì•¼ í•œë‹¤.  EntityManager em = entityManagerFactory.createEntityManager(); EntityTransaction tx = em.getTransaction(); tx.begin();  for(int i=0; i&lt;100000; ++i){     Product product = new Product(\"item\"+ i, 10000);     em.persist(product);      //100ê±´ë§ˆë‹¤ í”ŒëŸ¬ì‹œì™€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì´ˆê¸°í™”     if( i % 100 == 0 ) {         em.flush();         em.clear();     } }  tx.commit(); em.close();â€‹      JPA ìˆ˜ì • ë°°ì¹˜  ë°°ì¹˜ ì²˜ë¦¬ëŠ” ì•„ì£¼ ë§ì€ ë°ì´í„°ë¥¼ ì¡°íšŒí•´ì„œ ìˆ˜ì •í•œë‹¤. ì´ë•Œ ìˆ˜ë§ì€ ë°ì´í„°ë“¤ì„ í•œ ë²ˆì— ë©”ëª¨ë¦¬ì— ì˜¬ë ¤ë‘˜ ìˆ˜ ì—†ì–´ì„œ ë‹¤ìŒ ë°©ë²•ì„ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤.   1. JPA í˜ì´ì§• ë°°ì¹˜ ì²˜ë¦¬  EntityManager em = entityManagerFactory.createEntityManager(); EntityTransaction tx = em.getTransaction();  tx.begin(); int pageSize = 100;  for (int i = 0; i &lt; 10; ++i) {     // ì¡°íšŒ     List &lt; Product &gt; resultList = em.createQuery(\"select p from Product p\", Product.class)         .setFirstResult(i * pageSize)         .setMaxResults(pageSize)         .getResultList();      //ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì‹¤í–‰      for (Product product: resultList) {         product.setPrice(product.getPrice + 100);     }      // í”ŒëŸ¬ì‹œ, ì´ˆê¸°í™”     em.flush();     em.clear(); } tx.commit(); em.close();      2. í•˜ì´ë²„ë„¤ì´íŠ¸ scroll ì‚¬ìš©  JPAëŠ” JDBC ì»¤ì„œ(CURSOR)ë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ ì»¤ì„œë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ í•˜ì´ë²„ë„¤ì´íŠ¸ ì„¸ì…˜(SESSION)ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤. í•˜ì´ë²„ë„¤ì´íŠ¸ëŠ” scrollì´ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ JDBC ì»¤ì„œë¥¼ ì§€ì›í•œë‹¤.  EntityTransaction tx = em.getTransaction(); Session session = em.unwrap(Session.class);  tx.begin(); ScrollableResults scroll = session.createQuery(\"select p from Product p\")     .setCacheMode(CacheMode.IGNORE) // 2ì°¨ ìºì‹œ ê¸°ëŠ¥ì„ ëˆë‹¤.     .scroll(ScrollMode.FORWARD_ONLY);  int count = 0; while (scroll.next()) {     Product p = (Product) scroll.get(0);     p.setPrice(p.getPrice() + 100);      count++;     if (count % 100 == 0) {         session.flush(); //í”ŒëŸ¬ì‹œ         session.clear(); //ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì´ˆê¸°í™”     } } tx.commit(); session.close();      3. í•˜ì´ë²„ë„¤ì´íŠ¸ ë¬´ìƒíƒœ ì„¸ì…˜ ì‚¬ìš©     í•˜ì´ë²„ë„¤ì´íŠ¸ëŠ” ë¬´ìƒíƒœ ì„¸ì…˜ì´ë¼ëŠ” íŠ¹ë³„í•œ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.   ë¬´ìƒíƒœ ì„¸ì…˜ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì§€ ì•Šê³  ì‹¬ì§€ì–´ 2ì°¨ ìºì‹œë„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.   ì—”í‹°í‹°ë¥¼ ìˆ˜ì •í•˜ë ¤ë©´ ë¬´ìƒíƒœ ì„¸ì…˜ì´ ì œê³µí•˜ëŠ” update() ë©”ì†Œë“œë¥¼ ì§ì ‘ í˜¸ì¶œí•´ì•¼ í•œë‹¤.   SessionFactory sessionFactory = entityManagerFactory.unwrap(SessionFactory.class); StatelessSession session = sessionFactory.openStatelessSession(); Transaction tx = session.beginTransaction(); ScrollableResults scroll = session.createQuery(\"select p from Product p\").scroll();  while (scroll.next()) {     Product p = (Product) scroll.get(0);     p.setPrice(p.getPrice() + 100);     session.update(p); // ì§ì ‘ updateë¥¼ í˜¸ì¶œí•´ì•¼ í•œë‹¤. } tx.commit(); session.close();        15.4.4 SQL ì¿¼ë¦¬ íŒíŠ¸ ì‚¬ìš©  JPAëŠ” ë°ì´í„°ë² ì´ìŠ¤ SQL íŒíŠ¸ ê¸°ëŠ¥ì„ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤. SQL íŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ í•˜ì´ë²„ë„¤ì´íŠ¸ë¥¼ ì§ì ‘ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ì—¬ê¸°ì„œ ë§í•˜ëŠ” SQL íŒíŠ¸ëŠ” JPA êµ¬í˜„ì²´ì—ê²Œ ì œê³µí•˜ëŠ” íŒíŠ¸ê°€ ì•„ë‹ˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ë²¤ë”ì—ê²Œ ì œê³µí•˜ëŠ” íŒíŠ¸ë‹¤.   SQL ì¿¼ë¦¬ íŒíŠ¸ ì‚¬ìš©  Session session = em.unwrap(Session.class); // í•˜ì´ë²„ë„¤ì´íŠ¸ ì§ì ‘ ì‚¬ìš©  List&lt;Member&gt; list = session.creatQuery(\"select m from Member m\")             .addQueryHint(\"FULL (MEMBER)\") // SQL íŒíŠ¸ ì¶”ê°€             .list();  -- ì‹¤í–‰ëœ SQLì„ ë³´ë©´ ì¶”ê°€í•œ íŒíŠ¸ê°€ ìˆë‹¤. select     /*+ FULL (MEMBER) */ m.id, m.name from     Member m        15.4.5 íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ëŠ” ì“°ê¸° ì§€ì—° ì„±ëŠ¥ ìµœì í™”  ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ SQL ë°°ì¹˜ë¥¼ ì´ìš©í•œë‹¤. í•˜ì´ë²„ë„¤ì´íŠ¸ì—ì„œ ë°°ì¹˜ë¥¼ ì„¤ì •í•˜ë©´ ë°ì´í„°ë¥¼ ë“±ë¡, ìˆ˜ì • ì‚­ì œí•  ë•Œ SQL ë°°ì¹˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•œë‹¤  &lt;property name=\"hibernate.jdbc.batch_size\" value=\"50\"&gt;  hibernate.jdbc.batch_size ì†ì„±ì˜ ì†ì„± ê°’ì„ 50ìœ¼ë¡œ ì£¼ë©´ ìµœëŒ€ 50ê±´ì”© ëª¨ì•„ì„œ SQL ë°°ì¹˜ë¥¼ ì‹¤í–‰í•œë‹¤. í•˜ì§€ë§Œ SQL ë°°ì¹˜ëŠ” ê°™ì€ SQLì¼ ë•Œë§Œ ìœ íš¨í•˜ë‹¤.  em.persist(ner Member()); // 1 em.persist(ner Member()); // 2 em.persist(ner Member()); // 3 em.persist(ner Member()); // 4 em.persist(ner Child());  // 5, ë‹¤ë¥¸ ì—°ì‚° em.persist(ner Member()); // 6 em.persist(ner Member()); // 7  ì´ë ‡ê²Œ í•˜ë©´ 1,2,3,4ë¥¼ ëª¨ì•„ì„œ í•˜ë‚˜ì˜ SQL ë°°ì¹˜ë¥¼ ì‹¤í–‰í•˜ê³  5ë¥¼ í•œ ë²ˆ ì‹¤í–‰í•˜ê³  6,7ì„ ëª¨ì•„ì„œ ì‹¤í–‰í•œë‹¤. ì´ 3ë²ˆì˜ SQL ë°°ì¹˜ë¥¼ ì‹¤í–‰í•œë‹¤.         15.5 ì •ë¦¬     JPAì˜ ì˜ˆì™¸ëŠ” íŠ¸ëœì­ì…˜ ë¡¤ë°±ì„ í‘œì‹œí•˜ëŠ” ì˜ˆì™¸ì™€ í‘œì‹œí•˜ì§€ ì•ŠëŠ” ì˜ˆì™¸ë¡œ ë‚˜ëˆˆë‹¤. íŠ¸ëœì­ì…˜ì„ ë¡¤ë°±í•˜ëŠ” ì˜ˆì™¸ëŠ” ì‹¬ê°í•œ ì˜ˆì™¸ì´ë¯€ë¡œ íŠ¸ëœì­ì…˜ì„ ê°•ì œë¡œ ì»¤ë°‹í•´ë„ ì»¤ë°‹ë˜ì§€ ì•Šê³  ë¡¤ë°±ëœë‹¤.   ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ì—”í‹°í‹°ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ í‚¤ë¥¼ ì‚¬ìš©í•œ ë™ë“±ì„± ë¹„êµë¥¼ í•´ì•¼ í•œë‹¤.   í”„ë¡ì‹œë¥¼ ì‚¬ìš©í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ëŠ” ì¡°íšŒí•œ ì—”í‹°í‹°ê°€ í”„ë¡ì‹œì¸ì§€ ì›ë³¸ ì—”í‹°í‹°ì¸ì§€ êµ¬ë¶„í•˜ì§€ ì•Šê³  ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. í•˜ì§€ë§Œ í”„ë¡ì‹œëŠ” ê¸°ìˆ ì ì¸ í•œê³„ê°€ ìˆìœ¼ë¯€ë¡œ í•œê³„ì ì„ ì¸ì‹í•˜ê³  ì‚¬ìš©í•´ì•¼ í•œë‹¤.   JPAë¥¼ ì‚¬ìš©í•  ë•Œ N+1 ë¬¸ì œë¥¼ ê°€ì¥ ì¡°ì‹¬í•´ì•¼ í•œë‹¤. ì£¼ë¡œ í˜ì¹˜ ì¡°ì¸ìœ¼ë¡œ í•´ê²°í•œë‹¤.   ì—”í‹°í‹°ë¥¼ ì½ê¸° ì „ìš©ìœ¼ë¡œ ì¡°íšŒí•˜ë©´ ìŠ¤ëƒ…ìƒ·ì„ ìœ ì§€í•  í•„ìš”ê°€ ì—†ê³  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ í”ŒëŸ¬ì‹œí•˜ì§€ ì•Šì•„ë„ ëœë‹¤.   ëŒ€ëŸ‰ì˜ ì—”í‹°í‹°ë¥¼ ë°°ì¹˜ ì²˜ë¦¬í•˜ë ¤ë©´ ì ì ˆí•œ ì‹œì ì— ê¼­ í”ŒëŸ¬ì‹œë¥¼ í˜¸ì¶œí•˜ê³  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë„ ì´ˆê¸°í™”í•´ì•¼ í•œë‹¤.   JPAëŠ” SQL ì¿¼ë¦¬ íŒíŠ¸ë¥¼ ì§€ì›í•˜ì§€ ì•Šì§€ë§Œ í•˜ì´ë²„ë„¤ì´íŠ¸ êµ¬í˜„ì²´ë¥¼ ì‚¬ìš©í•˜ë©´ SQL ì¿¼ë¦¬ íŒíŠ¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.           16. íŠ¸ëœì­ì…˜ê³¼ ë½, 2ì°¨ ìºì‹œ  16.1 íŠ¸ëœì­ì…˜ê³¼ ë½  íŠ¸ëœì­ì…˜ ê¸°ì´ˆì™€ JPAê°€ ì œê³µí•˜ëŠ” ë‚™ê´€ì  ë½ê³¼ ë¹„ê´€ì  ë½ì— ëŒ€í•´ ì•Œì•„ë³¸ë‹¤.      16.1.1 íŠ¸ëœì­ì…˜ê³¼ ê²©ë¦¬ ìˆ˜ì¤€  íŠ¸ëœì­ì…˜ì€ ACIDë¼ í•˜ëŠ” ì›ìì„±(Atomicty), ì¼ê´€ì„±(Consistency), ê²©ë¦¬ì„±(Isolation), ì§€ì†ì„±(Durability)ì„ ë³´ì¥í•´ì•¼ í•œë‹¤.     ì›ìì„±: íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ì‹¤í–‰í•œ ì‘ì—…ë“¤ì€ ë§ˆì¹˜ í•˜ë‚˜ì˜ ì‘ì—…ì¸ ê²ƒì²˜ëŸ¼ ëª¨ë‘ ì„±ê³µ í•˜ë“ ê°€ ëª¨ë‘ ì‹¤íŒ¨í•´ì•¼ í•œë‹¤.   ì¼ê´€ì„±: ëª¨ë“  íŠ¸ëœì­ì…˜ì€ ì¼ê´€ì„± ìˆëŠ” ë°ì´í„°ë² ì´ìŠ¤ ìƒíƒœë¥¼ ìœ ì§€í•´ì•¼ í•œë‹¤.   ê²©ë¦¬ì„±: ë™ì‹œì— ì‹¤í–‰ë˜ëŠ” íŠ¸ëœì­ì…˜ë“¤ì´ ì„œë¡œì—ê²Œ ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šë„ë¡ ê²©ë¦¬í•œë‹¤.   ì§€ì†ì„±: íŠ¸ëœì­ì…˜ì„ ì„±ê³µì ìœ¼ë¡œ ëë‚´ë©´ ê·¸ ê²°ê³¼ê°€ í•­ìƒ ê¸°ë¡ë˜ì–´ì•¼ í•œë‹¤.      ANSI í‘œì¤€ íŠ¸ëœì­ì…˜ì˜ ê²©ë¦¬ ìˆ˜ì¤€ 4ë‹¨ê³„     READ UNCOMMITED            íŠ¸ëœì­ì…˜ì—ì„œ ë³€ê²½í•˜ëŠ” ë‚´ìš©ì´ commitê³¼ rollbackì—¬ë¶€ì— ê´€ê³„ ì—†ì´ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ê²Œ ë…¸ì¶œëœë‹¤.           READ COMMITTED            íŠ¸ëœì­ì…˜ì—ì„œ ë³€ê²½í•œ ë ˆì½”ë“œëŠ” commitì´ ì™„ë£Œëœ ë°ì´í„°ë§Œ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.       commit ì „ì— ì¡°íšŒë¥¼ ì‹œë„í•œë‹¤ë©´ UNDOì˜ì—­ì— ë°±ì—…ëœ ë ˆì½”ë“œë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.           REPEATABLE READ            InnoDB ì—”ì§„ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê¸°ë³¸ ê²©ë¦¬ ìˆ˜ì¤€.       REPEATABLE READë€ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ ë‚´ë¶€ì—ì„œ ê°™ì€ SELECT ë¬¸ì€ í•­ìƒ ê°™ì€ ê²°ê³¼ë¥¼ ë³´ì—¬ì£¼ëŠ” ê²ƒ.       MySQL InnoDBì—ì„œëŠ” íŠ¸ëœì­ì…˜ë³„ë¡œ ì‹ë³„ìë¥¼ ì£¼ê³  íŠ¸ëœì­ì…˜ì—ì„œ ë³€ê²½í•˜ëŠ” ë°ì´í„°ë¥¼ UNDOì˜ì—­ì— ë°±ì—…í•œë‹¤.       ì´ ë°±ì—…ëœ ë°ì´í„°ì™€ íŠ¸ëœì­ì…˜ ì‹ë³„ìë¡œ ë™ì¼ íŠ¸ëœì­ì…˜ì—ì„œ ë™ì¼ ê²°ê³¼ê°’ì„ ë³´ì—¬ì¤„ ìˆ˜ ìˆë„ë¡ ë³´ì¥í•œë‹¤.           SERIALIZABLE            ê°€ì¥ ë†’ì€ ê²©ë¦¬ ìˆ˜ì¤€.       ë ˆì½”ë“œë¥¼ ì¡°íšŒí•  ë•Œ Shared Lockì„ íšë“í•´ì•¼ë§Œ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.       ë°ì´í„°ë¥¼ ë³€ê²½í•  ë•Œì—ëŠ” Exclusive Lockì„ íšë“í•´ì•¼ë§Œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.       ì¦‰ í•œ íŠ¸ëœì­ì…˜ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°ì´í„°ëŠ” ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ì—†ê²Œ ë§Œë“ ë‹¤.       ë°ì´í„° ì •í•©ì„±ì„ ì§€í‚¤ëŠ” ë©´ì€ ê°€ì¥ ìš°ìˆ˜í•˜ì§€ë§Œ ë™ì‹œ ì²˜ë¦¬ ì„±ëŠ¥ì´ ë–¨ì–´ì§„ë‹¤.              ê²©ë¦¬ ìˆ˜ì¤€ì— ë”°ë¥¸ ë¬¸ì œì      DIRTY READ            íŠ¸ëœì­ì…˜ì—ì„œ ì‘ì—…ì´ ë‹¤ ëë‚˜ì§€ ì•Šì•˜ì§€ë§Œ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ì‘ì—… ë‚´ìš©ì„ ë³¼ ìˆ˜ ìˆëŠ” ê²ƒì„ DIRTY READë¼ê³  í•œë‹¤.       ë³€ê²½ëœ ë°ì´í„°ê°€ ë¡¤ë°±ë ì§€, ì»¤ë°‹ë ì§€ ëª¨ë¥´ëŠ” ìƒí™©ì—ì„œ ì‘ì—… ë‚´ìš©ì„ ì¡°íšŒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë°ì´í„° ì •í•©ì„±ì— í° ë¬¸ì œë¥¼ ìœ ë°œí•  ìˆ˜ ìˆë‹¤.           NON REPEATABLE READ            í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ì—ì„œ ê°™ì€ SELECTë¬¸ìœ¼ë¡œ ì¡°íšŒí•  ë•Œ ë§ˆë‹¤ ë‹¤ë¥¸ê²°ê³¼ë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤ë©´ ì´ë¥¼ NON REPEATABLE READìƒíƒœë¼ê³  ë¶€ë¥¸ë‹¤.           PHANTOM READ            í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ì—ì„œ ê°™ì€ SELECTë¬¸ìœ¼ë¡œ ì¡°íšŒí•  ë•Œ ì´ì „ SELECTì—ì„œëŠ” ì¡´ì¬í•˜ì§€ ì•Šë˜ ê°’ì´ ë‹¤ìŒ SELECTì— ì¡°íšŒë˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.              íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€ê³¼ ë¬¸ì œì  ì •ë¦¬                  ê²©ë¦¬ ìˆ˜ì¤€       DIRTY READ       NON-REPEATABLE READ       PHANTOM READ                       READ UNCOMMITED       O       O       O                 READ COMMITTED       Â        O       O                 REPEATABLE READ       Â        Â        O                 SERIALIZABLE       Â        Â        Â                  16.1.2 ë‚™ê´€ì  ë½ê³¼ ë¹„ê´€ì  ë½ ê¸°ì´ˆ  JPAëŠ” ë°ì´í„°ë² ì´ìŠ¤ íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€ì„ READ COMMITED ì •ë„ë¡œ ê°€ì •í•œë‹¤. ë§Œì•½ ì¼ë¶€ ë¡œì§ì— ë” ë†’ì€ ê²©ë¦¬ ìˆ˜ì¤€ì´ í•„ìš”í•˜ë©´ ë‚™ê´€ì  ë½ê³¼ ë¹„ê´€ì  ë½ ì¤‘ í•˜ë‚˜ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.   ë‚™ê´€ì  ë½  ë°ì´í„°ë² ì´ìŠ¤ê°€ ì œê³µí•˜ëŠ” ë½ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ JPAê°€ ì œê³µí•˜ëŠ” ë²„ì „ ê´€ë¦¬ ê¸°ëŠ¥ì„ ì‚¬ìš©í•œë‹¤. íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•˜ê¸° ì „ê¹Œì§€ëŠ” íŠ¸ëœì­ì…˜ì˜ ì¶©ëŒì„ ì•Œ ìˆ˜ ì—†ë‹¤ëŠ” íŠ¹ì§•ì´ ìˆë‹¤.   ë¹„ê´€ì  ë½  íŠ¸ëœì­ì…˜ì˜ ì¶©ëŒì´ ë°œìƒí•œë‹¤ê³  ê°€ì •í•˜ê³  ìš°ì„  ë½ì„ ê±¸ê³  ë³´ëŠ” ë°©ë²•ì´ë‹¤. ë°ì´í„°ë² ì´ìŠ¤ê°€ ì œê³µí•˜ëŠ” ë½ ê¸°ëŠ¥ì„ ì‚¬ìš©í•œë‹¤. ëŒ€í‘œì ìœ¼ë¡œ select for update êµ¬ë¬¸ì´ ìˆë‹¤.   ë‘ ë²ˆì˜ ê°±ì‹  ë¶„ì‹¤ ë¬¸ì œ  ì‚¬ìš©ì Aê°€ ìˆ˜ì •í•˜ê³  ì‚¬ìš©ì Bê°€ 1ì´ˆ ë’¤ì— ìˆ˜ì • ìš”ì²­ì„ í•˜ê²Œ ë˜ë©´ ì‚¬ìš©ì Bì˜ ìˆ˜ì •ì‚¬í•­ë§Œ ë‚¨ê²Œ ëœë‹¤. ì´ê²ƒì„ ë‘ ë²ˆì˜ ê°±ì‹  ë¶„ì‹¤ ë¬¸ì œë¼ í•œë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ 3ê°€ì§€ ì„ íƒ ë°©ë²•ì´ ìˆë‹¤.      ë§ˆì§€ë§‰ ì»¤ë°‹ë§Œ ì¸ì •í•˜ê¸°: ì‚¬ìš©ì Aì˜ ë‚´ìš©ì€ ë¬´ì‹œí•˜ê³  ë§ˆì§€ë§‰ì— ì»¤ë°‹í•œ ì‚¬ìš©ì Bì˜ ë‚´ìš©ë§Œ ì¸ì •í•œë‹¤.   ìµœì´ˆ ì»¤ë°‹ë§Œ ì¸ì •í•˜ê¸°: ì‚¬ìš©ì Aê°€ ì´ë¯¸ ìˆ˜ì •ì„ ì™„ë£Œí–ˆìœ¼ë¯€ë¡œ ì‚¬ìš©ì Bê°€ ìˆ˜ì •ì„ ì™„ë£Œí•  ë•Œ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.   ì¶©ëŒí•˜ëŠ” ê°±ì‹  ë‚´ìš© ë³‘í•©í•˜ê¸°: ì‚¬ìš©ì Aì™€ ì‚¬ìš©ì Bì˜ ìˆ˜ì •ì‚¬í•­ì„ ë³‘í•©í•œë‹¤.         16.1.3 @Version  JPAê°€ ì œê³µí•˜ëŠ” ë‚™ê´€ì  ë½ì„ ì‚¬ìš©í•˜ë ¤ë©´ @Version ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ì„œ ë²„ì „ ê´€ë¦¬ ê¸°ëŠ¥ì„ ì¶”ê°€í•´ì•¼ í•œë‹¤.    @Version ì ìš© ê°€ëŠ¥ íƒ€ì…     Long (long)   Integer (int)   Shoort (short)   Timestamp    @Entity public class Board {  \t@Id \tprivate String id; \tprivate String title;  \t@Version \tprivate Integer version; }  ì´ì œë¶€í„° ì—”í‹°í‹°ë¥¼ ìˆ˜ì •í•  ë•Œ ë§ˆë‹¤ ë²„ì „ì´ í•˜ë‚˜ì”© ìë™ìœ¼ë¡œ ì¦ê°€í•œë‹¤. ê·¸ë¦¬ê³  ì—”í‹°í‹°ë¥¼ ìˆ˜ì •í•  ë•Œ ì¡°íšŒ ì‹œì ì˜ ë²„ì „ê³¼ ìˆ˜ì • ì‹œì ì˜ ë²„ì „ì´ ë‹¤ë¥´ë©´ ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤.  // íŠ¸ëœì­ì…˜ 1 ì¡°íšŒ title=\"ì œëª©A\", version=1 Board board = em.find(Board.class, id);  // íŠ¸ëœì­ì…˜ 2ì—ì„œ í•´ë‹¹ ê²Œì‹œë¬¼ì„ ìˆ˜ì •í•´ì„œ title=\"ì œëª©C\", version=2ë¡œ ì¦ê°€ board.setTitle(\"ì œëª©B\"); // íŠ¸ëœì­ì…˜ 1 ë°ì´í„° ìˆ˜ì •  save(board); tx.commit(); //ì˜ˆì™¸ ë°œìƒ, ë°ì´í„°ë² ì´ìŠ¤ version=2, ì—”í‹°í‹° version=1     íŠ¸ëœì­ì…˜ 1ì´ ë°ì´í„°ë¥¼ ì œëª© Bë¡œ ë³€ê²½í•˜ê³  íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•˜ëŠ” ìˆœê°„ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•  ë•Œ ë²„ì „ê³¼ ë°ì´í„°ë² ì´ìŠ¤ì˜ í˜„ì¬ ë²„ì „ ì •ë³´ê°€ ë‹¤ë¥´ë¯€ë¡œ ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤. ë”°ë¼ì„œ ë²„ì „ ì •ë³´ë¥¼ ì‚¬ìš©í•˜ë©´ ìµœì´ˆ ì»¤ë°‹ë§Œ ì¸ì •í•˜ê¸°ê°€ ì ìš©ëœë‹¤.   @Versionìœ¼ë¡œ ì¶”ê°€í•œ ë²„ì „ ê´€ë¦¬ í•„ë“œëŠ” JPAê°€ ì§ì ‘ ê´€ë¦¬í•˜ë¯€ë¡œ ê°œë°œìê°€ ì„ì˜ë¡œ ìˆ˜ì •í•˜ë©´ ì•ˆ ëœë‹¤(ë²Œí¬ ì—°ì‚° ì œì™¸) ë§Œì•½ ë²„ì „ ê°’ì„ ê°•ì œë¡œ ì¦ê°€ í•˜ë ¤ë©´ íŠ¹ë³„í•œ ë½ ì˜µì…˜ì„ ì„ íƒí•˜ë©´ ëœë‹¤.    ì°¸ê³   ë²Œí¬ ì—°ì‚°ì€ ë²„ì „ì„ ë¬´ì‹œí•œë‹¤. ë²Œí¬ ì—°ì‚°ì—ì„œ ë²„ì „ì„ ì¦ê°€í•˜ë ¤ë©´ ë²„ì „ í•„ë“œë¥¼ ê°•ì œë¡œ ì¦ê°€ì‹œì¼œì•¼ í•œë‹¤.  update Member m set m.name = 'ë³€ê²½', m.version = m.version + 1         16.1.4 JPA ë½ ì‚¬ìš©    ì°¸ê³   JPAë¥¼ ì‚¬ìš©í•  ë•Œ ì¶”ì²œí•˜ëŠ” ì „ëµì€ READ COMMITTED íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€ + ë‚™ê´€ì  ë²„ì „ ê´€ë¦¬ë‹¤. (ë‘ ë²ˆì˜ ê°±ì‹  ë‚´ì—­ ë¶„ì‹¤ ë¬¸ì œ ì˜ˆë°©)    ë½ì€ ë‹¤ìŒ ìœ„ì¹˜ì— ì ìš©í•  ìˆ˜ ìˆë‹¤.     EntityManager.lock(), EntityManager.find(), EntityManager.refresh()   Query.setLockMode() (TypeQuery í¬í•¨)   @NamedQuery   JPAê°€ ì œê³µí•˜ëŠ” ë½ ì˜µì…˜ì€ javax.persistence.LockModeTypeì— ì •ì˜ë˜ì–´ ìˆë‹¤.                  ë½ ëª¨ë“œ       íƒ€ì…       ì„¤ëª…                       ë‚™ê´€ì  ë½       OPTIMISTIC       ë‚™ê´€ì  ë½ì„ ì‚¬ìš©í•œë‹¤.                 ë‚™ê´€ì  ë½       OPTIMISTIC_FORCE_INCREMENT       ë‚™ê´€ì  ë½ + ë²„ì „ì •ë³´ë¥¼ ê°•ì œë¡œ ì¦ê°€í•œë‹¤.                 ë¹„ê´€ì  ë½       PESSIMISTIC_READ       ë¹„ê´€ì  ë½, ì½ê¸° ë½ì„ ì‚¬ìš©í•œë‹¤.                 ë¹„ê´€ì  ë½       PESSIMISTIC_WRITE       ë¹„ê´€ì  ë½, ì“°ê¸° ë½ì„ ì‚¬ìš©í•œë‹¤.                 ë¹„ê´€ì  ë½       PESSIMISTIC_FORCE_INCREMENT       ë¹„ê´€ì  ë½, ë²„ì „ì •ë³´ë¥¼ ê°•ì œë¡œ ì¦ê°€í•œë‹¤.                 ê¸°íƒ€       NONE       ë½ì„ ê±¸ì§€ ì•ŠëŠ”ë‹¤.                 ê¸°íƒ€       READ       JPA1.0 í˜¸í™˜ ê¸°ëŠ¥ì´ë‹¤. OPTIMISTICê³¼ ê°™ìœ¼ë¯€ë¡œ OPTIMISTICì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.                 ê¸°íƒ€       WRITE       JPA1.0 í˜¸í™˜ ê¸°ëŠ¥ì´ë‹¤. OPTIMISTIC_FORCE_INCREMENTì™€ ê°™ë‹¤                 16.1.5 JPA ë‚™ê´€ì  ë½  JPAê°€ ì œê³µí•˜ëŠ” ë‚™ê´€ì  ë½ì€ ë²„ì „ì„ ì‚¬ìš©í•œë‹¤. ë”°ë¼ì„œ ë‚™ê´€ì  ë½ì„ ì‚¬ìš©í•˜ë ¤ë©´ ë²„ì „ì´ ìˆì–´ì•¼ í•œë‹¤. ë‚™ê´€ì  ë½ì€ íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•˜ëŠ” ì‹œì ì— ì¶©ëŒì„ ì•Œ ìˆ˜ ìˆë‹¤ëŠ” íŠ¹ì§•ì´ ìˆë‹¤. ë‚™ê´€ì  ë½ì˜ ì˜µì…˜ì— ë”°ë¥¸ íš¨ê³¼ë¥¼ ì•Œì•„ë³´ì.   NONE  ë½ ì˜µì…˜ì„ ì ìš©í•˜ì§€ ì•Šì•„ë„ ì—”í‹°í‹°ì— @Versionì´ ì ìš©ëœ í•„ë“œë§Œ ìˆìœ¼ë©´ ë‚™ê´€ì  ë½ì´ ì ìš©ëœë‹¤.     ìš©ë„: ì¡°íšŒí•œ ì—”í‹°í‹°ë¥¼ ìˆ˜ì •í•  ë•Œ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì— ì˜í•´ ë³€ê²½(ì‚­ì œ)ë˜ì§€ ì•Šì•„ì•¼ í•œë‹¤. ì¡°íšŒ ì‹œì ë¶€í„° ìˆ˜ì • ì‹œì ê¹Œì§€ë¥¼ ë³´ì¥í•œë‹¤.   ë™ì‘: ì—”í‹°í‹°ë¥¼ ìˆ˜ì •í•  ë•Œ ë²„ì „ì„ ì²´í¬í•˜ë©´ì„œ ë²„ì „ì„ ì¦ê°€í•œë‹¤.(UPDATE ì¿¼ë¦¬ ì‚¬ìš©). ì´ë•Œ ë°ì´í„°ë² ì´ìŠ¤ì˜ ë²„ì „ ê°’ì´ í˜„ì¬ ë²„ì „ì´ ì•„ë‹ˆë©´ ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤.   ì´ì : ë‘ ë²ˆì˜ ê°±ì‹  ë¶„ì‹¤ ë¬¸ì œë¥¼ ì˜ˆë°©í•œë‹¤.      OPTIMISTIC  @Versionë§Œ ì ìš©í–ˆì„ ë•ŒëŠ” ì—”í‹°í‹°ë¥¼ ìˆ˜ì •í•´ì•¼ ë²„ì „ì„ ì²´í¬í•˜ì§€ë§Œ ì´ ì˜µì…˜ì„ ì¶”ê°€í•˜ë©´ ì—”í‹°í‹°ë¥¼ ì¡°íšŒë§Œ í•´ë„ ë²„ì „ì„ ì²´í¬í•œë‹¤. í•œ ë²ˆ ì¡°íšŒí•œ ì—”í‹°í‹°ëŠ” íŠ¸ëœì­ì…˜ì„ ì¢…ë£Œí•  ë•Œê¹Œì§€ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ë³€ê²½ë˜ì§€ ì•ŠìŒì„ ë³´ì¥í•œë‹¤.     ìš©ë„: ì¡°íšŒ ì‹œì ë¶€í„° íŠ¸ëœì­ì…˜ì´ ëë‚  ë•Œê¹Œì§€ ì¡°íšŒí•œ ì—”í‹°í‹°ê°€ ë³€ê²½ë˜ì§€ ì•ŠìŒì„ ë³´ì¥í•œë‹¤.   ë™ì‘: íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•  ë•Œ ë²„ì „ ì •ë³´ë¥¼ ì¡°íšŒí•´ì„œ í˜„ì¬ ì—”í‹°í‹°ì˜ ë²„ì „ê³¼ ê°™ì€ì§€ ê²€ì¦í•œë‹¤. ë§Œì•½ ê°™ì§€ ì•Šìœ¼ë©´ ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤.   ì´ì : OPTIMISTIC ì˜µì…˜ì€ DIRTY READì™€ NON-REPEATABLE READë¥¼ ë°©ì§€í•œë‹¤.      OPTIMISTIC_FORCE_INCREMENT  íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•  ë•Œ UPDATE ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•´ì„œ ë²„ì „ ì •ë³´ë¥¼ ê°•ì œë¡œ ì¦ê°€ì‹œí‚¨ë‹¤.     ìš©ë„: ë…¼ë¦¬ì ì¸ ë‹¨ìœ„ì˜ ì—”í‹°í‹° ë¬¶ìŒì„ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤. ê²Œì‹œë¬¼ê³¼ ì²¨ë¶€íŒŒì¼ì´ ì¼ëŒ€ë‹¤, ë‹¤ëŒ€ì¼ì˜ ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ì´ê³  ì²¨ë¶€íŒŒì¼ì´ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ë‹¤. ê²Œì‹œë¬¼ì„ ìˆ˜ì •í•˜ëŠ” ë° ë‹¨ìˆœíˆ ì²¨ë¶€íŒŒì¼ë§Œ ì¶”ê°€í•˜ë©´ ê²Œì‹œë¬¼ì˜ ë²„ì „ì€ ì¦ê°€í•˜ì§€ ì•ŠëŠ”ë‹¤. ì´ë•Œ ê²Œì‹œë¬¼ì˜ ë²„ì „ë„ ê°•ì œë¡œ ì¦ê°€í•˜ë ¤ë©´ OPTIMISTIC_FORCE_INCREMENTë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.   ë™ì‘: íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•  ë•Œ UPDATE ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•´ì„œ ë²„ì „ ì •ë³´ë¥¼ ê°•ì œë¡œ ì¦ê°€ì‹œí‚¨ë‹¤. ì¶”ê°€ë¡œ ì—”í‹°í‹°ë¥¼ ìˆ˜ì •í•˜ë©´ ìˆ˜ì • ì‹œ ë²„ì „ UPDATEê°€ ë°œìƒí•œë‹¤. ë”°ë¼ì„œ ì´ 2ë²ˆì˜ ë²„ì „ ì¦ê°€ê°€ ë‚˜íƒ€ë‚  ìˆ˜ ìˆë‹¤.   ì´ì : ê°•ì œë¡œ ë²„ì „ì„ ì¦ê°€í•´ì„œ ë…¼ë¦¬ì ì¸ ë‹¨ìœ„ì˜ ì—”í‹°í‹° ë¬¶ìŒì„ ë²„ì „ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.          16.1.6 JPA ë¹„ê´€ì  ë½  JPAê°€ ì œê³µí•˜ëŠ” ë¹„ê´€ì  ë½ì€ ë°ì´í„°ë² ì´ìŠ¤ íŠ¸ëœì­ì…˜ ë½ ë©”ì»¤ë‹ˆì¦˜ì— ì˜ì¡´í•˜ëŠ” ë°©ë²•ì´ë‹¤. ì£¼ë¡œ SQL ì¿¼ë¦¬ì— select for update êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ë©´ì„œ ì‹œì‘í•˜ê³  ë²„ì „ ì •ë³´ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.   ë¹„ê´€ì  ë½ì˜ íŠ¹ì§•     ì—”í‹°í‹°ê°€ ì•„ë‹Œ ìŠ¤ì¹¼ë¼ íƒ€ì…ì„ ì¡°íšŒí•  ë•Œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.   ë°ì´í„°ë¥¼ ìˆ˜ì •í•˜ëŠ” ì¦‰ì‹œ íŠ¸ëœì­ì…˜ ì¶©ëŒì„ ê°ì§€í•  ìˆ˜ ìˆë‹¤.      PESSIMISTIC_WRITE     ìš©ë„: ë°ì´í„°ë² ì´ìŠ¤ì— ì“°ê¸° ë½ì„ ê±´ë‹¤   ë™ì‘: ë°ì´í„°ë² ì´ìŠ¤ select for updateë¥¼ ì‚¬ìš©í•´ì„œ ë½ì„ ê±´ë‹¤.   ì´ì : NON-REPEATABLE READë¥¼ ë°©ì§€í•œë‹¤. ë½ì´ ê±¸ë¦° ë¡œìš°ëŠ” ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ ìˆ˜ì •í•  ìˆ˜ ì—†ë‹¤.      PESSIMISTIC_READ  ë°ì´í„°ë¥¼ ë°˜ë³µ ì½ê¸°ë§Œ í•˜ê³  ìˆ˜ì •í•˜ì§€ ì•ŠëŠ” ìš©ë„ë¡œ ë½ì„ ê±¸ ë•Œ ì‚¬ìš©í•œë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ëŒ€ë¶€ë¶„ì€ PESSIMISTIC_WRITEë¡œ ë™ì‘í•œë‹¤.     MySQL: lock in share mode   PostgreSQL: for share      PESSIMISTIC_FORCE_INCREMENT  ë¹„ê´€ì  ë½ì¤‘ ìœ ì¼í•˜ê²Œ ë²„ì „ ì •ë³´ë¥¼ ì‚¬ìš©í•œë‹¤. í•˜ì´ë²„ë„¤ì´íŠ¸ëŠ” nowaitë¥¼ ì§€ì›í•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•´ì„œ for update nowait ì˜µì…˜ì„ ì ìš©í•œë‹¤.     ì˜¤ë¼í´: for update nowait   PostreSQL: for update nowait   nowaitë¥¼ ì§€ì›í•˜ì§€ ì•Šìœ¼ë©´ for updateê°€ ì‚¬ìš©ëœë‹¤.        16.1.7 ë¹„ê´€ì  ë½ê³¼ íƒ€ì„ì•„ì›ƒ  ë¹„ê´€ì  ë½ì„ ì‚¬ìš©í•˜ë©´ ë½ì„ íšë“í•  ë•Œê¹Œì§€ íŠ¸ëœì­ì…˜ì´ ëŒ€ê¸°í•œë‹¤. ë¬´í•œì • ê¸°ë‹¤ë¦´ ìˆ˜ëŠ” ì—†ìœ¼ë¯€ë¡œ íƒ€ì„ì•„ì›ƒ ì‹œê°„ì„ ì¤„ ìˆ˜ ìˆë‹¤.  Map&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();  // íƒ€ì„ì•„ì›ƒ 10ì´ˆê¹Œì§€ ëŒ€ê¸° ì„¤ì • properties.put(\"java.persistence.lock.timeout\", 10000);  Board board = em.find(Board.class, \"boardId\", LockModeType.PESSIMISTIC_WRITE, properties);          16.2 2ì°¨ ìºì‹œ  JPAê°€ ì œê³µí•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ë²”ìœ„ì˜ ìºì‹œì— ëŒ€í•´ ì•Œì•„ë³´ê³  í•˜ì´ë²„ë„¤ì´íŠ¸ì™€ EHCACHEë¥¼ ì‚¬ìš©í•´ì„œ ì‹¤ì œ ìºì‹œë¥¼ ì ìš©í•´ë³´ì.   16.2.1 1ì°¨ ìºì‹œì™€ 2ì°¨ ìºì‹œ  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¡œ ì–»ì„ ìˆ˜ ìˆëŠ” ì´ì ì´ ë§ì§€ë§Œ, ì¼ë°˜ì ì¸ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ í™˜ê²½ì€ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•˜ê³  ì¢…ë£Œí•  ë•Œê¹Œì§€ë§Œ 1ì°¨ ìºì‹œê°€ ìœ íš¨í•˜ë‹¤. OSIVë¥¼ ì‚¬ìš©í•´ë„ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì´ ë“¤ì–´ì˜¬ ë•Œë¶€í„° ëë‚  ë•Œê¹Œì§€ë§Œ 1ì°¨ ìºì‹œê°€ ìœ íš¨í•˜ë‹¤. ë”°ë¼ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ë¡œ ë³´ë©´ ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼ íšŸìˆ˜ë¥¼ íšê¸°ì ìœ¼ë¡œ ì¤„ì´ì§€ëŠ” ëª»í•œë‹¤. í•˜ì´ë²„ë„¤ì´íŠ¸ë¥¼ í¬í•¨í•œ ëŒ€ë¶€ë¶„ì˜ JPA êµ¬í˜„ì²´ë“¤ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ ë²”ìœ„ì˜ ìºì‹œë¥¼ ì§€ì›í•˜ëŠ”ë° ì´ê²ƒì„ ê³µìœ  ìºì‹œ ë˜ëŠ” 2ì°¨ ìºì‹œë¼ í•œë‹¤.        1ì°¨ ìºì‹œ  1ì°¨ ìºì‹œëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ë‚´ë¶€ì— ìˆë‹¤. ì—”í‹°í‹° ë§¤ë‹ˆì €ë¡œ ì¡°íšŒí•˜ê±°ë‚˜ ë³€ê²½í•˜ëŠ” ëª¨ë“  ì—”í‹°í‹°ëŠ” 1ì°¨ ìºì‹œì— ì €ì¥ëœë‹¤. íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•˜ê±°ë‚˜ í”ŒëŸ¬ì‹œë¥¼ í˜¸ì¶œí•˜ë©´ 1ì°¨ ìºì‹œì— ìˆëŠ” ì—”í‹°í‹°ì˜ ë³€ê²½ ë‚´ì—­ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ë™ê¸°í™” í•œë‹¤.       2ì°¨ ìºì‹œ  2ì°¨ ìºì‹œëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ë²”ìœ„ì˜ ìºì‹œë‹¤. ë”°ë¼ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì¢…ë£Œí•  ë•Œê¹Œì§€ ìºì‹œê°€ ìœ ì§€ëœë‹¤. ë¶„ì‚° ìºì‹œë‚˜ í´ëŸ¬ìŠ¤í„°ë§ í™˜ê²½ì˜ ìºì‹œëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ë³´ë‹¤ ë” ì˜¤ë˜ ìœ ì§€ë  ìˆ˜ë„ ìˆë‹¤. 2ì°¨ ìºì‹œë¥¼ ì ì ˆíˆ í™œìš©í•˜ë©´ ë°ì´í„°ë² ì´ìŠ¤ ì¡°íšŒ íšŸìˆ˜ë¥¼ íšê¸°ì ìœ¼ë¡œ ì¤„ì¼ ìˆ˜ ìˆë‹¤.       2ì°¨ ìºì‹œì˜ íŠ¹ì§•     2ì°¨ ìºì‹œëŠ” ì˜ì†ì„± ìœ ë‹› ë²”ìœ„ì˜ ìºì‹œë‹¤   2ì°¨ ìºì‹œëŠ” ì¡°íšŒí•œ ê°ì²´ë¥¼ ê·¸ëŒ€ë¡œ ë°˜í™˜í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë³µì‚¬ë³¸ì„ ë§Œë“¤ì–´ì„œ ë°˜í™˜í•œë‹¤.   2ì°¨ ìºì‹œëŠ” ë°ì´í„°ë² ì´ìŠ¤ ê¸°ë³¸ í‚¤ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìºì‹œí•˜ì§€ë§Œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ë‹¤ë¥´ë©´ ê°ì²´ ë™ì¼ì„±(a==b)ì„ ë³´ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤.        16.2.2 JPA 2ì°¨ ìºì‹œ ê¸°ëŠ¥   ìºì‹œ ëª¨ë“œ ì„¤ì •  2ì°¨ ìºì‹œë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ javax.persistence.Cacheable ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤. @Cacheableì€ @Cacheable(true), @Cacheable(false)ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆëŠ”ë° ê¸°ë³¸ê°’ì€ trueë‹¤.  @Cacheable @Entity public class Member {  \t@Id @GeneratedValue \tprivate Long id; \t... }  shared-cache-modeë¥¼ ì„¤ì •í•´ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´(ì •í™•íˆëŠ” ì˜ì†ì„± ìœ ë‹› ë‹¨ìœ„)ì— ìºì‹œë¥¼ ì–´ë–»ê²Œ ì ìš©í• ì§€ ì˜µì…˜ì„ ì„¤ì •í•´ì•¼ í•œë‹¤.  &lt;!-- ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ ìºì‹œ ëª¨ë“œ ì„¤ì • --&gt; &lt;bean id=\"entityManagerFactory\" class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;     &lt;property name=\"sharedCacheMode\" value=\"ENABLE_SELECTIVE\"&gt;     ...  ìºì‹œ ëª¨ë“œëŠ” javax.persistence.SharedCacheModeì— ì •ì˜ë˜ì–´ ìˆë‹¤.                  ìºì‹œ ëª¨ë“œ       ì„¤ëª…                       ALL       ëª¨ë“  ì—”í‹°í‹°ë¥¼ ìºì‹œí•œë‹¤.                 NONE       ìºì‹œë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.                 ENABLE_SELECTIVE       Cacheable(true)ë¡œ ì„¤ì •ëœ ì—”í‹°í‹°ë§Œ ìºì‹œë¥¼ ì ìš©í•œë‹¤.                 DISABLE_SELECTIVE       ëª¨ë“  ì—”í‹°í‹°ë¥¼ ìºì‹œí•˜ëŠ”ë° Cacheable(false)ë¡œ ëª…ì‹œëœ ì—”í‹°í‹°ëŠ” ìºì‹œí•˜ì§€ ì•ŠëŠ”ë‹¤.                 UNSPECIFIED       JPA êµ¬í˜„ì²´ê°€ ì •ì˜í•œ ì„¤ì •ì„ ë”°ë¥¸ë‹¤.                 16.2.3 í•˜ì´ë²„ë„¤ì´íŠ¸ì™€ EHCACHE ì ìš©  í•˜ì´ë²„ë„¤ì´íŠ¸ê°€ ì§€ì›í•˜ëŠ” ìºì‹œëŠ” í¬ê²Œ 3ê°€ì§€ê°€ ìˆë‹¤.     ì—”í‹°í‹° ìºì‹œ: ì—”í‹°í‹° ë‹¨ìœ„ë¡œ ìºì‹œí•œë‹¤. ì‹ë³„ìë¡œ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•˜ê±°ë‚˜ ì»¬ë ‰ì…˜ì´ ì•„ë‹Œ ì—°ê´€ëœ ì—”í‹°í‹°ë¥¼ ë¡œë”©í•  ë•Œ ì‚¬ìš©í•œë‹¤.   ì»¬ë ‰ì…˜ ìºì‹œ: ì—”í‹°í‹°ì™€ ì—°ê´€ëœ ì»¬ë ‰ì…˜ì„ ìºì‹œí•œë‹¤. ì»¬ë ‰ì…˜ì´ ì—”í‹°í‹°ë¥¼ ë‹´ê³  ìˆìœ¼ë©´ ì‹ë³„ì ê°’ë§Œ ìºì‹œí•œë‹¤(í•˜ì´ë²„ë„¤ì´íŠ¸ ê¸°ëŠ¥)   ì¿¼ë¦¬ ìºì‹œ: ì¿¼ë¦¬ì™€ íŒŒë¼ë¯¸í„° ì •ë³´ë¥¼ í‚¤ë¡œ ì‚¬ìš©í•´ì„œ ìºì‹œí•œë‹¤. ê²°ê³¼ê°€ ì—”í‹°í‹°ë©´ ì‹ë³„ì ê°’ë§Œ ìºì‹œí•œë‹¤.(í•˜ì´ë²„ë„¤ì´íŠ¸ ê¸°ëŠ¥)      í™˜ê²½ì„¤ì •  ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€  &lt;dependency&gt;     &lt;groupId&gt;org.hibernate&lt;/groupId&gt;     &lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;     &lt;version&gt;4.3.10.Final&lt;/version&gt; &lt;/dependency&gt;      ìºì‹œ ì •ì±… ì„¤ì •  &lt;!-- src/main/resources/ehcache.xml --&gt; &lt;ehcache&gt;     &lt;defaultCache         maxElementsInMemory=\"10000\"         eternal=\"false\"         timeToIdleSeconds=\"1200\"         timeToLiveSeconds=\"1200\"         diskExpiryThreadIntervalSeconds=\"1200\"         memoryStoreEvictionPolicy=\"LRU\"/&gt; &lt;/ehcache&gt;      í•˜ì´ë²„ë„¤ì´íŠ¸ ìºì‹œ ì‚¬ìš© ì •ë³´ë¥¼ ì •ì˜  # application.yml spring:   jpa:     properties:       hibernate:         generate_statistics: true         format_sql: true          cache:           use_second_level_cache: true           region:             factory_class: org.hibernate.cache.ehcache.EhCacheRegionFactory // EHCACHE        javax:         persistence:           sharedCache:             mode: ENABLE_SELECTIVE     hibernate.cache.use_second_level_cache: 2ì°¨ ìºì‹œë¥¼ í™œì„±í™” í•œë‹¤. ì—”í‹°í‹° ìºì‹œì™€ ì»¬ë ‰ì…˜ ìºì‹œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.   hibernate.cache.use_query_cach: ì¿¼ë¦¬ ìºì‹œë¥¼ í™œì„±í™” í•œë‹¤.   hibernate.cache.region.factory_class: 2ì°¨ ìºì‹œë¥¼ ì²˜ë¦¬í•  í´ë˜ìŠ¤ë¥¼ ì§€ì •í•œë‹¤.   hibernate.generate_statistics: ì´ ì†ì„±ì„ trueë¡œ ì„¤ì •í•˜ë©´ í•˜ì´ë²„ë„¤ì´íŠ¸ê°€ ì—¬ëŸ¬ í†µê³„ì •ë³´ë¥¼ ì¶œë ¥í•´ì£¼ëŠ”ë° ìºì‹œ ì ìš© ì—¬ë¶€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.(ì„±ëŠ¥ì— ì˜í–¥ì„ ì£¼ë¯€ë¡œ ê°œë°œ í™˜ê²½ì—ì„œë§Œ ì ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤)        @Cache  í•˜ì´ë²„ë„¤ì´íŠ¸ ì „ìš©ì¸ @Cache ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ë©´ ì„¸ë°€í•œ ìºì‹œ ì„¤ì •ì´ ê°€ëŠ¥í•˜ë‹¤.   @Cacheable // ì—”í‹°í‹° ìºì‹œ @Cache(usage = CacheConcurrencyStrategy.READ_WRITE) // í•˜ì´ë²„ë„¤ì´íŠ¸ ì „ìš©, ìºì‹œì™€ ê´€ë ¨ëœ ë” ì„¸ë°€í•  ì„¤ì • ê°€ëŠ¥ @Entity public class ParentMember {  \t@Id @GeneratedValue \tprivate Long id; \tprivate String name;  \t@Cache(usage = CacheConcurrencyStrategy.READ_WRITE) // ì»¬ë ‰ì…˜ë„ ìºì‹œ ì ìš© ê°€ëŠ¥ \t@OneToMany(mappedBy = \"parentMember\", cascade = CascadeType.ALL) \tprivate List&lt;ChildMember&gt; childMembers; }   í•˜ì´ë²„ë„¤ì´íŠ¸ @Cache ì†ì„±                  ì†ì„±       ì„¤ëª…                       usage       CacheConcurrencyStrategyë¥¼ ì‚¬ìš©í•´ì„œ ìºì‹œ ë™ì‹œì„± ì „ëµì„ ì„¤ì •í•œë‹¤.                 region       ìºì‹œ ì§€ì—­ ì„¤ì •                 include       ì—°ê´€ ê°ì²´ë¥¼ ìºì‹œì— í¬í•¨í• ì§€ ì„ íƒí•œë‹¤. all, non-laze ì˜µì…˜ì„ ì„ íƒí•  ìˆ˜ ìˆë‹¤.(ê¸°ë³¸ê°’ all)               CacheConcurrencyStrategy ì†ì„±                  ì†ì„±       ì„¤ëª…                       NONE       ìºì‹œë¥¼ ì„¤ì •í•˜ì§€ ì•ŠëŠ”ë‹¤.                 READ_ONLY       ì½ê¸° ì „ìš©ìœ¼ë¡œ ì„¤ì •í•œë‹¤. ë“±ë¡, ì‚­ì œëŠ” ê°€ëŠ¥í•˜ì§€ë§Œ ìˆ˜ì •ì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ì°¸ê³ ë¡œ ì½ê¸° ì „ìš©ì¸ ë¶ˆë³€ ê°ì²´ëŠ” ìˆ˜ì •ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ í•˜ì´ë²„ë„¤ì´íŠ¸ëŠ” 2ì°¨ ìºì‹œë¥¼ ì¡°íšŒí•  ë•Œ ê°ì²´ë¥¼ ë³µì‚¬í•˜ì§€ ì•Šê³  ì›ë³¸ ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.                 NONSTRICT_READ_WRITE       ì—„ê²©í•˜ì§€ ì•Šì€ ì½ê³  ì“°ê¸° ì „ëµì´ë‹¤. ë™ì‹œì— ê°™ì€ ì—”í‹°í‹°ë¥¼ ìˆ˜ì •í•˜ë©´ ë°ì´í„° ì¼ê´€ì„±ì´ ê¹¨ì§ˆ ìˆ˜ ìˆë‹¤. EHCACHEëŠ” ë°ì´í„°ë¥¼ ìˆ˜ì •í•˜ë©´ ìºì‹œ ë°ì´í„°ë¥¼ ë¬´íš¨í™”í•œë‹¤.                 READ_WRITE       ì½ê¸° ì“°ê¸°ê°€ ê°€ëŠ¥í•˜ê³  READ COMMITTED ì •ë„ì˜ ê²©ë¦¬ ìˆ˜ì¤€ì„ ë³´ì¥í•œë‹¤.                 TRANSACTIONAL       ì»¨í…Œì´ë„ˆ ê´€ë¦¬ í™˜ê²½ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì„¤ì •ì— ë”°ë¼ REPEATABLE READ ì •ë„ì˜ ê²©ë¦¬ ìˆ˜ì¤€ì„ ë³´ì¥ë°›ì„ ìˆ˜ ìˆë‹¤.               ìºì‹œ ë™ì‹œì„± ì „ëµ ì§€ì› ì—¬ë¶€                  Cache       read-only       nonstrict-read-write       nonstrict-read-write       transactional                       ConcurrentHashMap       yes       yes       yes       Â                  EHCache       yes       yes       yes       yes                 Infinispan       yes       Â        Â        yes                 ìºì‹œ ì˜ì—­  ìœ„ì—ì„œ ìºì‹œë¥¼ ì ìš©í•œ ì½”ë“œ(ì—”í‹°í‹° ì½”ë“œ)ëŠ” ë‹¤ìŒ ìºì‹œ ì˜ì—­ì— ì €ì¥ëœë‹¤.     ì—”í‹°í‹° ìºì‹œ ì˜ì—­            jpabook.jpashop.domain.test.cache.ParentMember       ê¸°ë³¸ê°’ìœ¼ë¡œ [íŒ¨í‚¤ì§€ ëª… + í´ë˜ìŠ¤ ëª…]ì„ ì‚¬ìš©           ì»¬ë ‰ì…˜ ìºì‹œ ì˜ì—­            jpabook.jpashop.domain.test.cache.ParentMember.childMembers       ì—”í‹°í‹° ìºì‹œ ì˜ì—­ ì´ë¦„ + ìºì‹œí•œ ì»¬ë ‰ì…˜ì˜ í•„ë“œ ëª…           í•„ìš”í•˜ë‹¤ë©´ @Cache(region = \"customRegion\", ...) ì²˜ëŸ¼ region ì†ì„±ì„ ì‚¬ìš©í•´ì„œ ìºì‹œ ì˜ì—­ì„ ì§ì ‘ ì§€ì •í•  ìˆ˜ ìˆë‹¤.      ìºì‹œ ì˜ì—­ì´ ì •í•´ì ¸ ìˆìœ¼ë©´ ì˜ì—­ë³„ë¡œ ì„¸ë¶€ ì„¤ì •ì„ í•  ìˆ˜ ìˆë‹¤.  &lt;ehcache&gt;     &lt;defaultCache         maxElementsInMemory=\"10000\"         eternal=\"false\"         timeToIdleSeconds=\"1200\"         timeToLiveSeconds=\"1200\"         diskExpiryThreadIntervalSeconds=\"1200\"         memoryStoreEvictionPolicy=\"LRU\" /&gt;          &lt;!-- ParentMemberë¥¼ 600ì´ˆ ë§ˆë‹¤ ìºì‹œì—ì„œ ì œê±° --&gt;     &lt;cache         name=\"jpabook.jpashop.domain.test.cache.ParentMember\"         maxElementsInMemory=\"10000\"         eternal=\"false\"         timeToIdleSeconds=\"600\"         timeToLiveSeconds=\"600\"         overflowToDisk=\"false\" /&gt; &lt;/ehcache&gt;        ì¿¼ë¦¬ ìºì‹œ     ì¿¼ë¦¬ ìºì‹œëŠ” ì¿¼ë¦¬ì™€ íŒŒë¼ë¯¸í„° ì •ë³´ë¥¼ í‚¤ë¡œ ì‚¬ìš©í•´ì„œ ì¿¼ë¦¬ ê²°ê³¼ë¥¼ ìºì‹œí•˜ëŠ” ë°©ë²•ì´ë‹¤.   ì¿¼ë¦¬ ìºì‹œë¥¼ ì ìš©í•˜ë ¤ë©´ ì˜ì†ì„± ìœ ë‹› ì„¤ì •ì— hibernate.cache.use_query_cache ì˜µì…˜ì„ ê¼­ trueë¡œ ì„¤ì •í•´ì•¼ í•œë‹¤.   ê·¸ë¦¬ê³  ì¿¼ë¦¬ ìºì‹œë¥¼ ì ìš©í•˜ë ¤ëŠ” ì¿¼ë¦¬ë§ˆë‹¤ org.hibernate.cacheableì„ trueë¡œ ì„¤ì •í•˜ëŠ” íŒíŠ¸ë¥¼ ì£¼ë©´ ëœë‹¤   // ì¿¼ë¦¬ ìºì‹œ ì‚¬ìš© em.createQuery(\"select i from Item i\", Item.class)     .setHint(\"org.hibernate.cacheable\", true)     .getResultList();   // @NamedQueryì— ì¿¼ë¦¬ ìºì‹œ ì ìš© @Entity @NamedQuery(     hints = @QueryHint(name = \"org.hibernate.cacheable\", value = \"true\"),     name = \"Member.findByUsername\",     query = \"select m.address from Member m where m.name = :username\" ) public class Member {...}        ì¿¼ë¦¬ ìºì‹œ ì˜ì—­  hibernate.cache.use_query_cache ì˜µì…˜ì„ trueë¡œ ì„¤ì •í•´ì„œ ì¿¼ë¦¬ ìºì‹œë¥¼ í™œì„±í™” í•˜ë©´ ë‹¤ìŒ ë‘ ìºì‹œ ì˜ì—­ì´ ì¶”ê°€ëœë‹¤.      org.hibernate.cache.internal.StandardQueryCache: ì¿¼ë¦¬ ìºì‹œë¥¼ ì €ì¥í•˜ëŠ” ì˜ì—­ì´ë‹¤. ì´ê³³ì—ëŠ” ì¿¼ë¦¬, ì¿¼ë¦¬ ê²°ê³¼ ì§‘í•©, ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•œ ì‹œì ì˜ íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ë³´ê´€í•œë‹¤.   org.hibernate.cache.spi.UpdateTimestampsCache: ì¿¼ë¦¬ ìºì‹œê°€ ìœ íš¨í•œì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ì¿¼ë¦¬ ëŒ€ìƒ í…Œì´ë¸”ì˜ ê°€ì¥ ìµœê·¼ ë³€ê²½(ë“±ë¡, ìˆ˜ì •, ì‚­ì œ) ì‹œê°„ì„ ì €ì¥í•˜ëŠ” ì˜ì—­ì´ë‹¤. ì´ê³³ì—ëŠ” í…Œì´ë¸” ëª…ê³¼ í•´ë‹¹ í…Œì´ë¸”ì˜ ìµœê·¼ ë³€ê²½ëœ íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ë³´ê´€í•œë‹¤.   ì¿¼ë¦¬ ìºì‹œëŠ” ìºì‹œí•œ ë°ì´í„° ì§‘í•©ì„ ìµœì‹  ë°ì´í„°ë¡œ ìœ ì§€í•˜ë ¤ê³  ì¿¼ë¦¬ ìºì‹œë¥¼ ì‹¤í–‰í•˜ëŠ” ì‹œê°„ê³¼ ì¿¼ë¦¬ ìºì‹œê°€ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ë“¤ì´ ê°€ì¥ ìµœê·¼ì— ë³€ê²½ëœ ì‹œê°„ì„ ë¹„êµí•œë‹¤. ì¿¼ë¦¬ ìºì‹œë¥¼ ì ìš©í•˜ê³  ë‚œ í›„ì— ì¿¼ë¦¬ ìºì‹œê°€ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ì— ì¡°ê¸ˆì´ë¼ë„ ë³€ê²½ì´ ìˆìœ¼ë©´ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë°ì´í„°ë¥¼ ì½ì–´ì™€ì„œ ì¿¼ë¦¬ ê²°ê³¼ë¥¼ ë‹¤ì‹œ ìºì‹œí•œë‹¤.   ì¿¼ë¦¬ ìºì‹œë¥¼ ì˜ í™œìš©í•˜ë©´ ê·¹ì ì¸ ì„±ëŠ¥ í–¥ìƒì´ ìˆì§€ë§Œ ë¹ˆë²ˆí•˜ê²Œ ë³€ê²½ì´ ìˆëŠ” í…Œì´ë¸”ì— ì‚¬ìš©í•˜ë©´ ì˜¤íˆë ¤ ì„±ëŠ¥ì´ ë” ì €í•˜ëœë‹¤. ë”°ë¼ì„œ ìˆ˜ì •ì´ ê±°ì˜ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ” í…Œì´ë¸”ì— ì‚¬ìš©í•´ì•¼ íš¨ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤.    ì£¼ì˜  org.hibernate.cache.spi.UpdateTimestampsCache ì¿¼ë¦¬ ìºì‹œ ì˜ì—­ì€ ë§Œë£Œë˜ì§€ ì•Šë„ë¡ ì„¤ì •í•´ì•¼ í•œë‹¤. í•´ë‹¹ ì˜ì—­ì´ ë§Œë£Œë˜ë©´ ëª¨ë“  ì¿¼ë¦¬ ìºì‹œê°€ ë¬´íš¨í™”ëœë‹¤. EHCACHEì˜ eternal=\"true\" ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ ìºì‹œì—ì„œ ì‚­ì œë˜ì§€ ì•ŠëŠ”ë‹¤.  &lt;cache     name=\"org.hibernate.cache.spi.UpdateTimestampsCache\"     maxElementsInMemory=\"10000\"     eternal=\"true\" /&gt;       ì¿¼ë¦¬ ìºì‹œì™€ ì»¬ë ‰ì…˜ ìºì‹œì˜ ì£¼ì˜ì   ì—”í‹°í‹° ìºì‹œë¥¼ ì‚¬ìš©í•´ì„œ ì—”í‹°í‹°ë¥¼ ìºì‹œí•˜ë©´ ì—”í‹°í‹° ì •ë³´ë¥¼ ëª¨ë‘ ìºì‹œí•˜ì§€ë§Œ ì¿¼ë¦¬ ìºì‹œì™€ ì»¬ë ‰ì…˜ ìºì‹œëŠ” ê²°ê³¼ ì§‘í•©ì˜ ì‹ë³„ì ê°’ë§Œ ìºì‹œí•œë‹¤. ê·¸ë¦¬ê³  ì´ ì‹ë³„ì ê°’ì„ í•œë‚˜ì”© ì—”í‹°í‹° ìºì‹œì— ì¡°íšŒí•´ì„œ ì‹¤ì œ ì—”í‹°í‹°ë¥¼ ì°¾ëŠ”ë‹¤.   ë¬¸ì œëŠ” ì¿¼ë¦¬ ìºì‹œë‚˜ ì»¬ë ‰ì…˜ ìºì‹œë§Œ ì‚¬ìš©í•˜ê³  ëŒ€ìƒ ì—”í‹°í‹°ì— ì—”í‹°í‹° ìºì‹œë¥¼ ì ìš©í•˜ì§€ ì•Šìœ¼ë©´ ì„±ëŠ¥ìƒ ì‹¬ê°í•œ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.      select m from Member m ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í–ˆëŠ”ë° ì¿¼ë¦¬ ìºì‹œê°€ ì ìš©ë˜ì–´ ìˆë‹¤. ì¡°íšŒ ê²°ê³¼ëŠ” 100ê±´ì´ë‹¤.   ê²°ê³¼ ì§‘í•©ì—ëŠ” ì‹ë³„ìë§Œ ìˆë¥´ë¯€ë¡œ í•œ ê±´ì”© ì—”í‹°í‹° ìºì‹œ ì˜ì—­ì—ì„œ ì¡°íšŒí•œë‹¤.   Member ì—”í‹°í‹°ëŠ” ì—”í‹°í‹° ìºì‹œë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ í•œ ê±´ì”© ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¡°íšŒí•œë‹¤.   100ê±´ì˜ SQLì´ ì‹¤í–‰ëœë‹¤.   ë”°ë¼ì„œ ì¿¼ë¦¬ ìºì‹œë‚˜ ì»¬ë ‰ì…˜ ìºì‹œë¥¼ ì‚¬ìš©í•˜ë©´ ê²°ê³¼ ëŒ€ìƒ ì—”í‹°í‹°ì—ëŠ” ê¼­ ì—”í‹°í‹° ìºì‹œë¥¼ ì ìš©í•´ì•¼ í•œë‹¤.         16.3 ì •ë¦¬     íŠ¸ëœì­ì…˜ì˜ ê²©ë¦¬ ìˆ˜ì¤€ì€ 4ë‹¨ê³„ê°€ ìˆë‹¤. ê²©ë¦¬ ìˆ˜ì¤€ì´ ë‚®ì„ìˆ˜ë¡ ë™ì‹œì„±ì€ ì¦ê°€í•˜ì§€ë§Œ ê²©ë¦¬ ìˆ˜ì¤€ì— ë”°ë¥¸ ë‹¤ì–‘í•œ ë¬¸ì œê°€ ë°œìƒí•œë‹¤.   ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” ë°ì´í„°ë² ì´ìŠ¤ íŠ¸ëœì­ì…˜ì´ READ COMMITTED ê²©ë¦¬ ìˆ˜ì¤€ì´ì–´ë„ ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ì—ì„œ ë°˜ë³µ ê°€ëŠ¥í•œ ì½ê¸°(REPEATABLE READ)ë¥¼ ì œê³µí•œë‹¤.   JPAëŠ” ë‚™ê´€ì  ë½ê³¼ ë¹„ê´€ì  ë½ì„ ì§€ì›í•œë‹¤. ë‚™ê´€ì  ë½ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì§€ì›í•˜ëŠ” ë½ì´ê³ , ë¹„ê´€ì  ë½ì€ ë°ì´í„°ë² ì´ìŠ¤ íŠ¸ëœì­ì…˜ ë½ ë©”ì»¤ë‹ˆì¦˜ì— ì˜ì¡´í•œë‹¤.   2ì°¨ ìºì‹œë¥¼ ì‚¬ìš©í•˜ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì¡°íšŒ ì„±ëŠ¥ ê·¹ì ìœ¼ë¡œ ëŒì–´ì˜¬ë¦´ ìˆ˜ ìˆë‹¤.             ê°ì‚¬í•©ë‹ˆë‹¤ ğŸ™‡ğŸ»â€â™‚ï¸   ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë°  ","categories": ["Books"],
        "tags": ["Books","JPA","ORM"],
        "url": "/books/%EC%9E%90%EB%B0%94-ORM-%ED%91%9C%EC%A4%80-JPA-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/",
        "teaser": null
      },{
        "title": "TDD(Test Driven Development) - í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ",
        "excerpt":"    ğŸ¤” TDD(Test Driven Development)ë€?     TDDë€ Test Driven Developmentì˜ ì•½ìë¡œ í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œì´ë¼ í•©ë‹ˆë‹¤.   TDDëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ë°©ë²•ë¡  ì¤‘ì˜ í•˜ë‚˜ë¡œ ìë™í™”ëœ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•œ í›„, í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•˜ê¸° ìœ„í•œ ì½”ë“œë¥¼ ê°œì„ í•˜ëŠ” ë°©ì‹ì˜ ê°œë°œ ë°©ì‹ì„ ë§í•©ë‹ˆë‹¤.         â›¹ï¸â€â™€ï¸ TDD ê°œë°œ ë°©ë²•        í…ŒìŠ¤íŠ¸ ì‘ì„±, ê¸°ëŠ¥ì´ ì•„ì§ êµ¬í˜„ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•œë‹¤.   í…ŒìŠ¤íŠ¸ë¥¼ ì„±ê³µí•˜ë„ë¡ í”„ë¡œë•ì…˜ ì½”ë“œ ì‘ì„±   í”„ë¡œë•ì…˜ ì½”ë“œì™€ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë¦¬íŒ©í† ë§   ìœ„ 3ë‹¨ê³„ë¥¼ ë°˜ë³µí•˜ë©°, ë” ê°„ë‹¨í•˜ê³  ê°œì„ ëœ ë””ìì¸ íŒ¨í„´ê³¼ ë†’ì€ í’ˆì§ˆì˜ ì½”ë“œë¥¼ ì‘ì„±í•˜ê²Œ ë©ë‹ˆë‹¤.       ğŸ¯ TDD ì›ì¹™     ì‹¤íŒ¨í•˜ëŠ” ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•  ë•Œê¹Œì§€ í”„ë¡œë•ì…˜ ì½”ë“œ(production code)ë¥¼ ì‘ì„±í•˜ì§€ ì•ŠëŠ”ë‹¤.   ì»´íŒŒì¼ì€ ì‹¤íŒ¨í•˜ì§€ ì•Šìœ¼ë©´ì„œ ì‹¤í–‰ì´ ì‹¤íŒ¨í•˜ëŠ” ì •ë„ë¡œë§Œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•œë‹¤.   í˜„ì¬ ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•  ì •ë„ë¡œë§Œ ì‹¤ì œ ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤.       ğŸ¯ TDDì˜ íš¨ê³¼           ë¹ ë¥´ê²Œ í”¼ë“œë°± ë°›ì„ ìˆ˜ ìˆë‹¤.  TDDë¥¼ í†µí•´ ì‹œìŠ¤í…œ êµ¬í˜„(â€œì‹œìŠ¤í…œì´ ë™ì‘í•˜ëŠ”ê°€?â€)ê³¼ ì„¤ê³„ì˜ í’ˆì§ˆ(â€œì‹œìŠ¤í…œì´ ì˜ êµ¬ì¡°í™” ë˜ìˆëŠ”ê°€?â€)ì— ê´€í•œ í”¼ë“œë°±ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.            ë””ë²„ê¹… ì‹œê°„ì„ ë‹¨ì¶• í•  ìˆ˜ ìˆë‹¤.  TDDì˜ ê²½ìš° ìë™í™” ëœ ìœ ë‹›í…ŒìŠ¤íŒ…ì„ ì „ì¬í•˜ë¯€ë¡œ íŠ¹ì • ë²„ê·¸ë¥¼ ì† ì‰½ê²Œ ì°¾ì•„ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.            ê°ì²´ ì§€í–¥ì ì¸ ì½”ë“œê°€ ëœë‹¤.  TDDë¥¼ ì‚¬ìš©í•˜ë©´ ìì—°ìŠ¤ëŸ½ê²Œ ë‹¨ìˆœí•œ ë‹¨ìœ„ë¡œ ì‘ì—…ì„ ì§„í–‰í•˜ê²Œ ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë‹¤ ë³´ë©´ ê¸°ëŠ¥ë³„ë¡œ ëª¨ë“ˆí™”ê°€ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤. ì¦‰ ê°•ë ¬í•œ ë””ìì¸ ì‚¬ê³  ë•Œë¬¸ì´ ì•„ë‹ˆë¼ ìƒí˜¸ ì—°ê²°ëœ ë§ì€ ì‘ì€ ëª¨ë“ˆì˜ ìƒí˜¸ ì‘ìš©ìœ¼ë¡œ ë³µì¡í•œ ê¸°ëŠ¥ì„ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì— ë” ë‚˜ì€ ì½”ë“œë¥¼ ê°–ê²Œ ë©ë‹ˆë‹¤.            í”„ë¡œê·¸ë˜ë¨¸ì˜ ì˜¤ë²„ ì—”ì§€ë‹ˆì–´ë§ì„ ë°©ì§€í•œë‹¤.  í”„ë¡œê·¸ë˜ë¨¸ë“¤ì€ ê°„í˜¹ ê³„íší•˜ì§€ ì•Šì•˜ë˜ ì½”ë“œë¥¼ ì¶”ê°€í•˜ì—¬ ì˜¤ë²„ ì—”ì§€ë‹ˆì–´ë§í•˜ëŠ” ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ TDDì˜ ì›ì¹™ ì¤‘ í•˜ë‚˜ëŠ”, í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•˜ê¸° ìœ„í•œ ìµœì†Œí•œì˜ ì½”ë“œë§Œ ì‘ì„± ë° ê°œì„ í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ê¸°ëŠ¥ ë‹¨ìœ„ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ê¸° ë•Œë¬¸ì—, ë¬¸ì œê°€ ë°œê²¬ë˜ì§€ ì•Šì€ ì½”ë“œì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆëŠ” ì˜¤ë²„ ì½”ë”©ì€ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.            ë¬¸ì„œì˜ ì—­í• ì„ í•œë‹¤.  TDDë¥¼ ì‚¬ìš©í•˜ë©´, í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê³¼ì •ì—ì„œ íˆìŠ¤í† ë¦¬ê°€ ë‚¨ìŠµë‹ˆë‹¤. TDDë¥¼ í†µí•´ ì‘ì„±í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ íŠ¸ë˜í‚¹í•˜ë©´ì„œ ê³¼ê±°ì— ì–´ë–¤ ì¸ê³¼ê´€ê³„ë¡œ ì˜ì‚¬ê²°ì •ì„ í–ˆëŠ”ì§€ í™•ì¸í•˜ê¸° ì‰½ìŠµë‹ˆë‹¤.            ìœ ì§€ë³´ìˆ˜(ë¦¬íŒ©í† ë§)ì´ ìš©ì´í•˜ë‹¤.  TDDì˜ ê²½ìš° ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ê¸°ë°˜ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ë•Œë¬¸ì— ì¶”í›„ ë¬¸ì œê°€ ë°œìƒí•˜ì˜€ì„ ë•Œ ê°ê°ì˜ ëª¨ë“ˆë³„ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•´ë³´ë©´ ë¬¸ì œì˜ ì§€ì ì„ ì‰½ê²Œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.            ë³€í™”, ì¶”ê°€ êµ¬í˜„ì´ ìš©ì´í•˜ë‹¤.  ê°œë°œì´ ì™„ë£Œëœ ì†Œí”„íŠ¸ì›¨ì–´ì— ì–´ë–¤ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ë•Œ ê°€ì¥ ìš°ë ¤ë˜ëŠ” ì ì€ í•´ë‹¹ ê¸°ëŠ¥ì´ ê¸°ì¡´ ì½”ë“œì— ì–´ë–¤ ì˜í–¥ì„ ë¯¸ì¹ ì§€ ì•Œì§€ ëª»í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. í•˜ì§€ë§Œ TDDì˜ ê²½ìš° ìë™í™”ëœ ìœ ë‹› í…ŒìŠ¤íŒ…ì„ ì „ì œí•˜ë¯€ë¡œ í…ŒìŠ¤íŠ¸ ê¸°ê°„ì„ íšê¸°ì ìœ¼ë¡œ ë‹¨ì¶•ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.            ğŸ˜“ TDDì˜ í•œê³„  ì´ë¡ ì ìœ¼ë¡œ, ê·¸ë¦¬ê³  ì‹¤ì œë¡œ ë§ì€ ê²½ìš°ì— TDDëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œì— ë§ì€ ì¥ì ì´ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì•„ë˜ì™€ ê°™ì€ í•œê³„ë„ ì¡´ì¬í•©ë‹ˆë‹¤.           ë ˆê±°ì‹œ ì½”ë“œ  ì½”ë“œê°€ ì´ë¯¸ ì‘ì„±ë˜ì—ˆê¸° ë•Œë¬¸ì— ë ˆê±°ì‹œ ì½”ë“œì— ì ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.            ìƒì‚°ì„±ì˜ ì €í•˜  ì¥ê¸°ì ìœ¼ë¡œ ë³´ë©´ ìƒì‚°ì„±ì´ ì¦ê°€í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ëŠ” â€œê¸‰í•˜ì§€ ì•Šì€ í™˜ê²½â€ì—ì„œì˜ ê²½ìš°ì…ë‹ˆë‹¤. ë‚©ê¸°ì¼ ì¤€ìˆ˜ê°€ ì¤‘ìš”í•œ SIí”„ë¡œì íŠ¸ ê°™ì€ ê²½ìš° ì´ëŸ¬í•œ ì¡°ê±´ê³¼ ëª¨ìˆœë©ë‹ˆë‹¤.            ë¶ˆì™„ì „í•œ í…ŒìŠ¤íŠ¸ ì‚¬ë¡€  í”„ë¡œê·¸ë˜ë¨¸ê°€ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ëˆ„ë½í•œë‹¤ë©´, TDDëŠ” ì‚¬ìš©ìë¥¼ ë³´í˜¸í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.            ğŸ¤” TDD í•„ìš”í•œê°€?  ì ì  ë” ë§ì€ ê°œë°œìë“¤ì´ TDDë¡œ ì „í™˜í•˜ê³  ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì¼ë¶€ëŠ” TDDê°€ ì‹¤ì œ ì½”ë”© ëŒ€ì‹  í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” ë° ì‹œê°„ì„ ë” ì†Œë¹„í•œë‹¤ê³  ì£¼ì¥í•©ë‹ˆë‹¤.   ë¹ ë¥´ê²Œ ì½”ë”©í•˜ê³  ë¹ ë¥´ê²Œ ì œí’ˆì„ ë§Œë“¤ì–´ì•¼ í•˜ëŠ” ìŠ¤íƒ€íŠ¸ì—… ê°œë°œìì™€ ê°™ì´ ì‹œê°„ì´ ì œí•œëœ ê°œë°œìì—ê²ŒëŠ” ì´ëŸ¬í•œ ì‹œê°„ ì†Œë¹„ê°€ ì¹˜ëª…ì ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ê´€ë¦¬ìì™€ ê³ ê°ì˜ TDDì˜ ì¥ì ì— ëŒ€í•œ ì´í•´ ë¶€ì¡±ê³¼ ê°œë°œì êµìœ¡ì˜ íˆ¬ì ë¹„ìš©ì€ TDDë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê²Œ í•©ë‹ˆë‹¤.   í•˜ì§€ë§Œ ë¦¬ì†ŒìŠ¤ë¥¼ ë³´ìœ í•˜ê³  ìˆìœ¼ë©° ì½”ë“œ í’ˆì§ˆì´ ê°€ì¥ ì¤‘ìš”í•œ ê¸°ì—…ì€ TDDë¡œ ì „í™˜ì„ í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.      ","categories": ["Insight"],
        "tags": ["Insight","Test","TDD"],
        "url": "/insight/TDD(Test-Driven-Development)-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%A3%BC%EB%8F%84-%EA%B0%9C%EB%B0%9C/",
        "teaser": null
      },{
        "title": "JUnit 5, AssertJ Cheat Sheet",
        "excerpt":"JUnit 5, AssertJì˜ ì‚¬ìš©ë²•ì„ ê°„ë‹¨í•˜ê²Œ ì •ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤. ğŸ˜     jUnit 5 ê°€ì´ë“œ ë§í¬   AssertJ ê°€ì´ë“œ ë§í¬         ğŸ¤” JUnit ì´ë€?     Java ì§„ì˜ì˜ ëŒ€í‘œì ì¸ Test Framework   ë‹¨ìœ„ í…ŒìŠ¤íŠ¸(Unit Test)ë¥¼ ìœ„í•œ ë„êµ¬ë¥¼ ì œê³µ            ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë€?                    ì½”ë“œì˜ íŠ¹ì • ëª¨ë“ˆì´ ì˜ë„ëœ ëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸í•˜ëŠ” ì ˆì°¨ë¥¼ ì˜ë¯¸           ëª¨ë“  í•¨ìˆ˜ì™€ ë©”ì†Œë“œì— ëŒ€í•´ ê°ê°ì˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒ                           ì–´ë…¸í…Œì´ì…˜(Annotation)ì„ ê¸°ë°˜ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì§€ì›   ë‹¨ì •ë¬¸(Assert)ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ê¸°ëŒ€ê°’ì— ëŒ€í•´ ìˆ˜í–‰ ê²°ê³¼ë¥¼ í™•ì¸ í•  ìˆ˜ ìˆë‹¤   Spring Boot 2.2 ë²„ì „ ë¶€í„° JUnit 5 ë²„ì „ì„ ì‚¬ìš©   JUnitì€ í¬ê²Œ Jupiter, Platform, Vintage ëª¨ë“ˆë¡œ êµ¬ì„±            ğŸ“– JUnit 5 ëª¨ë“ˆ ì„¤ëª…  JUnit Jupiter     TestEngine API êµ¬í˜„ì²´ë¡œ JUnit 5ë¥¼ êµ¬í˜„í•˜ê³  ìˆë‹¤.   í…ŒìŠ¤íŠ¸ì˜ ì‹¤ì œ êµ¬í˜„ì²´ëŠ” ë³„ë„ ëª¨ë“ˆ ì—­í• ì„ ìˆ˜í–‰í•˜ëŠ”ë°, ê·¸ ëª¨ë“ˆ ì¤‘ í•˜ë‚˜ê°€ Jupiter-Engineì´ë‹¤.   ì´ ëª¨ë“ˆì€ Jupiter-APIë¥¼ ì‚¬ìš©í•˜ì—¬ ì‘ì„±í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë°œê²¬í•˜ê³  ì‹¤í–‰í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤.   ê°œë°œìê°€ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•  ë•Œ ì‚¬ìš©ëœë‹¤.   JUnit Platform     Testë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•œ ë¼ˆëŒ€   Testë¥¼ ë°œê²¬í•˜ê³  í…ŒìŠ¤íŠ¸ ê³„íšì„ ìƒì„±í•˜ëŠ” TestEngine ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°€ì§€ê³  ìˆë‹¤.   TestEngineì„ í†µí•´ Testë¥¼ ë°œê²¬í•˜ê³ , ìˆ˜í–‰ ë° ê²°ê³¼ë¥¼ ë³´ê³ í•œë‹¤. ê·¸ë¦¬ê³  ê°ì¢… IDE ì—°ë™ì„ ë³´ì¡°í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤.(ì½˜ì†” ì¶œë ¥ ë“±)   Platform = TestEngine API + Console Launcher + JUnit 4 Based Runner ë“±   JUnit Vintage     TestEngine API êµ¬í˜„ì²´ë¡œ JUnit 3, 4ë¥¼ êµ¬í˜„í•˜ê³  ìˆë‹¤.   ê¸°ì¡´ JUnit 3, 4ë²„ì „ìœ¼ë¡œ ì‘ì„±ëœ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‹¤í–‰í•  ë•Œ ì‚¬ìš©ëœë‹¤.   Vintage-Engine ëª¨ë“ˆì„ í¬í•¨í•˜ê³  ìˆë‹¤.              ğŸ“– JUnit 5 ì–´ë…¸í…Œì´ì…˜  ì–´ë…¸í…Œì´ì…˜ ê°€ì´ë“œ ë§í¬   ë¼ì´í”„ì‚¬ì´í´ ì–´ë…¸í…Œì´ì…˜  JUnit 5ëŠ” ì•„ë˜ì™€ ê°™ì€ í…ŒìŠ¤íŠ¸ ë¼ì´í”„ ì‚¬ì´í´ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.                  Annotation       Description                       @Test       í…ŒìŠ¤íŠ¸ìš© ë©”ì†Œë“œë¥¼ í‘œí˜„í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜                 @BeforeEach       ê° í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œê°€ ì‹œì‘ë˜ê¸° ì „ì— ì‹¤í–‰ë˜ì–´ì•¼ í•˜ëŠ” ë©”ì†Œë“œë¥¼ í‘œí˜„                 @AfterEach       ê° í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œê°€ ì‹œì‘ëœ í›„ ì‹¤í–‰ë˜ì–´ì•¼ í•˜ëŠ” ë©”ì†Œë“œë¥¼ í‘œí˜„                 @BeforeAll       í…ŒìŠ¤íŠ¸ ì‹œì  ì „ì— ì‹¤í–‰ë˜ì–´ì•¼ í•˜ëŠ” ë©”ì†Œë“œë¥¼ í‘œí˜„ (static ì²˜ë¦¬ í•„ìš”)                 @AfterAll       í…ŒìŠ¤íŠ¸ ì¢…ë£Œ í›„ì— ì‹¤í–‰ë˜ì–´ì•¼ í•˜ëŠ” ë©”ì†Œë“œë¥¼ í‘œí˜„ (static ì²˜ë¦¬ í•„ìš”)               @ParameterizedTest  íŒŒë¼ë¯¸í„° í…ŒìŠ¤íŠ¸ë¥¼ í•  ìˆ˜ ìˆê²Œ ë„ì™€ì£¼ëŠ” ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ,Â @ValueSource, @CsvSource,@MethodSource ë“±ì„ í†µí•´ ë§¤ê°œë³€ìˆ˜ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤.  @ParameterizedTest @ValueSource(ints = { 1, 5 }) void isPositive(int number) {   assertTrue(number &gt; 0); }  @ParameterizedTest @CsvSource({     \"apple,         1\",     \"banana,        2\",     \"'lemon, lime', 0xF1\",     \"strawberry,    700_000\" }) void testWithCsvSource(String fruit, int rank) {     assertNotNull(fruit);     assertNotEquals(0, rank); }  @ParameterizedTest @MethodSource(\"stringProvider\") void testWithExplicitLocalMethodSource(String argument) {     assertNotNull(argument); }  static Stream&lt;String&gt; stringProvider() {     return Stream.of(\"apple\", \"banana\"); }      @RepeatedTest  ë°˜ë³µ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ì–´ë…¸í…Œì´ì…˜  @RepeatedTest(5) void repeatedTest() {   System.out.println(\"í…ŒìŠ¤íŠ¸ ë°˜ë³µ!\"); }      @TestMethodOrder  ìš°ì„  ìˆœìœ„ì— ë”°ë¼ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” ì–´ë…¸í…Œì´ì…˜. @Order ë¥¼ í†µí•´ ìš°ì„ ìˆœìœ„ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤.  @TestMethodOrder(OrderAnnotation.class) class OrderedTestsDemo {   @Test   @Order(2)   void secondTest() {     System.out.println(\"2\");   }    @Test   @Order(1)   void firstTest() {     System.out.println(\"1\");   } }      @TestInstance  ìƒëª…ì£¼ê¸°ë¥¼ ì§€ì •í•  ìˆ˜ ìˆëŠ” ì–´ë…¸í…Œì´ì…˜  @TestInstance(Lifecycle.PER_CLASS) class OrderedTestsDemo {...}      @DisplayName  í…ŒìŠ¤íŠ¸ ì´ë¦„ì„ ì§€ì •í•  ìˆ˜ ìˆëŠ” ì–´ë…¸í…Œì´ì…˜  @DisplayName(\"ê¸°ë³¸ ì‚°ìˆ˜ë¥¼ ê²€ì¦í•˜ëŠ” í…ŒìŠ¤íŠ¸\") @Test void basic() {   assertEquals(2, 1 + 1); }      @Nested  ì¤‘ì²© í´ë˜ìŠ¤ í…ŒìŠ¤íŠ¸ë¼ëŠ” ê²ƒì„ ëª…ì‹œí•˜ëŠ” ì–´ë…¸í…Œì´ì…˜ @BeforeAllÂ ë˜ëŠ”Â @AfterAll ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ìƒëª… ì£¼ê¸°ë¥¼ ëª…ì‹œí•´ì•¼í•œë‹¤.  public class NestedTests {    @TestInstance(Lifecycle.PER_CLASS)   @Nested   class Positive {      @BeforeAll     void startTest() {       System.out.println(\"í…ŒìŠ¤íŠ¸ ì‹œì‘\");     }      @Test     void isPositive() {       assertTrue(1 &gt; 0);     }   }    @Nested   class Negative {     @Test     void isNegative() {       assertTrue(-1 &lt; 0);     }   } }      @Tag  íƒœê·¸ë¥¼ ì„ ì–¸í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜. ì¶”í›„ì— êµ¬ì„± ì„¤ì • íŒŒì¼ì„ í†µí•´ í…ŒìŠ¤íŠ¸ì— í¬í•¨ ì‹œí‚¬ íƒœê·¸ë¥¼ ì„ íƒí•˜ê±°ë‚˜, ì œì™¸ì‹œí‚¬ íƒœê·¸ë¥¼ ì„ íƒí•  ìˆ˜ ìˆë‹¤. JUnit4ì˜Â @Categoryê°€ ì´ ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ëŒ€ì²´ë¨  @Tag(\"number\") @Test void basic() {   assertEquals(2, 1 + 1); }  junitPlatform {   filters {       tags {           include 'number', 'korean'           exclude 'english'       }   } }      @Disabled  í…ŒìŠ¤íŠ¸ì—ì„œ ì œì™¸ì‹œí‚¤ëŠ” ì–´ë…¸í…Œì´ì…˜. JUnit4ì˜Â @Ingoreì™€ ê°™ì€ ê¸°ëŠ¥ì´ë‹¤.  @Disabled @Test void ignoredTest() {   System.out.println(\"í…ŒìŠ¤íŠ¸ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤!\"); }      @Timeout  ì‹¤í–‰ ì‹œê°„ ì œí•œì„ ê±¸ì–´ë‘ëŠ” ì–´ë…¸í…Œì´ì…˜. ì‹œê°„ì´ ì´ˆê³¼ë˜ë©´Â TimeoutExceptionì´ ë°œìƒí•˜ë©° í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨  @Timeout(1) @Test void mustRunIn1SecondTest() throws InterruptedException { \tThread.sleep(1500); // ì‹¤íŒ¨ }  @Test @Timeout(value = 500, unit = TimeUnit.MILLISECONDS) void failsIfExecutionTimeExceeds500Milliseconds() {     // fails if execution time exceeds 500 milliseconds }            ğŸ“– JUnit Assertions  Assertions ê°€ì´ë“œ ë§í¬   assertTrue &amp;&amp; assertFalse  ì°¸ ê±°ì§“ ì—¬ë¶€ íŒë‹¨. 2ë²ˆì§¸ ì¸ìê°€ ì¡´ì¬í•˜ë©´ ì‹¤íŒ¨ ì‹œ 2ë²ˆì§¸ ì¸ìë¥¼ ë©”ì‹œì§€ë¡œ ì¶œë ¥í•´ì¤€ë‹¤.  assertTrue('a' &lt; 'b'); assertTrue('a' &lt; 'b', () -&gt; \"message\");  assertFalse('a' &lt; 'b'); assertFalse('a' &lt; 'b', () -&gt; \"message\");      assertNull &amp;&amp; assertNotNull  ê°ì²´ì˜ null ì—¬ë¶€ íŒë‹¨  assertNull(System.getProperty(\"my.prop\")); assertNotNull(System.getProperty(\"my.prop\"));      assertEquals &amp;&amp; assertNotEquals  ë‘ ê°’ì„ ë¹„êµí•˜ì—¬ ì¼ì¹˜ ì—¬ë¶€ íŒë‹¨. 3ë²ˆì§¸ ì¸ìê°€ ì¡´ì¬í•˜ë©´ ì‹¤íŒ¨ ì‹œ 3ë²ˆì§¸ ì¸ìë¥¼ ë©”ì‹œì§€ë¡œ ì¶œë ¥í•´ì¤€ë‹¤.  assertEquals(2, calculator.add(1, 1)); assertEquals(4, calculator.multiply(2, 2), \"message\");      assertArrayEquals  ë‘ ë°°ì—´ì„ ë¹„êµí•˜ì—¬ ì¼ì¹˜ ì—¬ë¶€ íŒë‹¨. ë‘ ë°°ì—´ì´ ëª¨ë‘ nullì´ì–´ë„ ë™ì¼í•œ ê²ƒìœ¼ë¡œ ê°„ì£¼í•œë‹¤.  char[] expected = {'J','u','n','i','t'}; char[] actual = \"Junit\".toCharArray(); assertArrayEquals(expected, actual);      assertAll  ì—¬ëŸ¬ ê°œì˜ assertionsê°€ ë§Œì¡±í•  ê²½ìš°ì—ë§Œ í…ŒìŠ¤ë¥¼ í†µê³¼í•˜ì˜€ë‹¤ê³  íŒë‹¨í•˜ê³  ì‹¶ì„ ê²½ìš°ì—ëŠ” assertAll()ì„ ì‚¬ìš©í•œë‹¤.  @Test public void test() {     assertAll(       \"heading\",       () -&gt; assertEquals(4, 2 * 2, \"4 is 2 times 2\"),       () -&gt; assertEquals(\"java\", \"JAVA\".toLowerCase()),       () -&gt; assertEquals(null, null, \"null is equal to null\")     ); }  @Test void dependentAssertions() {     assertAll(\"properties\",         () -&gt; {             String firstName = person.getFirstName();             assertNotNull(firstName);             assertAll(\"first name\",                 () -&gt; assertTrue(firstName.startsWith(\"J\")),                 () -&gt; assertTrue(firstName.endsWith(\"e\"))             );         },         () -&gt; {             String lastName = person.getLastName();             assertNotNull(lastName);             assertAll(\"last name\",                 () -&gt; assertTrue(lastName.startsWith(\"D\")),                 () -&gt; assertTrue(lastName.endsWith(\"e\"))             );         }     ); }      assertSame &amp;&amp; assertNotSame  ì˜ˆìƒë˜ëŠ” ê°’ê³¼ ì‹¤ì œ ê°’ì´ ë™ì¼í•œ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ëŠ”ì§€ í™•ì¸  String language = \"Java\"; Optional&lt;String&gt; optional = Optional.of(language);  assertSame(language, optional.get()); assertNotSame(language, optional.get());      assertThrows  íŠ¹ì • ì˜ˆì™¸ê°€ ë°œìƒí•˜ì˜€ëŠ”ì§€ í™•ì¸. ì²« ë²ˆì§¸ ì¸ìëŠ” í™•ì¸í•  ì˜ˆì™¸ í´ë˜ìŠ¤, ë‘ ë²ˆì§¸ ì¸ìëŠ” í…ŒìŠ¤íŠ¸í•˜ë ¤ëŠ” ì½”ë“œ  @Test void exceptionTesting() {     Exception exception = assertThrows(ArithmeticException.class, () -&gt;         calculator.divide(1, 0));     assertEquals(\"/ by zero\", exception.getMessage()); }      assertTimeout &amp; assertTimeoutPreemptively  íŠ¹ì • ì‹œê°„ ì•ˆì— ì‹¤í–‰ì´ ëë‚˜ëŠ”ì§€ í™•ì¸     assertTimeout: ì‹œê°„ ë‚´ ì‹¤í–‰ì´ ëë‚˜ëŠ”ì§€ ì—¬ë¶€ í™•ì¸ ì‹œ   assertTimeoutPreemptively: ì§€ì •í•œ ì‹œê°„ ë‚´ ëë‚˜ì§€ ì•Šìœ¼ë©´ ë°”ë¡œ ì¢…ë£Œ   @Test void timeoutNotExceeded() {     // ì‹œê°„ì•ˆì— ì„±ê³µ     assertTimeout(ofMinutes(2), () -&gt; {         // 2ë¶„ ì•ˆì— ëë‚˜ëŠ” í…ŒìŠ¤íŠ¸ ì‘ì„±...     }); }  @Test void timeoutNotExceededWithResult() {     // ì‹œê°„ ì•ˆì— ì„±ê³µ, ê·¸ë¦¬ê³  supplied object ë¦¬í„´     String actualResult = assertTimeout(ofMinutes(2), () -&gt; {         return \"a result\";     });     assertEquals(\"a result\", actualResult); }  @Test void timeoutExceeded() {     // ì‹œê°„ì•ˆì— í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µí•˜ì§€ ëª»í•œë‹¤ë©´ ë‹¤ìŒê³¼ ë¹„ìŠ·í•œ ì˜¤ë¥˜ ë©”ì‹œì§€ ì¶œë ¥     // execution exceeded timeout of 10 ms by 91 ms     assertTimeout(ofMillis(10), () -&gt; {         Thread.sleep(100);     }); }  @Test void timeoutExceededWithPreemptiveTermination() {     // ì‹œê°„ì•ˆì— í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µí•˜ì§€ ëª»í•œë‹¤ë©´ ë‹¤ìŒê³¼ ë¹„ìŠ·í•œ ì˜¤ë¥˜ ë©”ì‹œì§€ ì¶œë ¥     // execution timed out after 10 ms     assertTimeoutPreemptively(ofMillis(10), () -&gt; {         // 10ms ì´ìƒ ì†Œìš”ë˜ëŠ” ì‘ì—…...         new CountDownLatch(1).await();     }); }            ğŸ“– AssertJ Assertions     AssertJ ê°€ì´ë“œ ë§í¬   Spring AssertJ ê°€ì´ë“œ ë§í¬    ì°¸ê³    AssertJì—ì„œ ëª¨ë“  í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” assertThat()ìœ¼ë¡œ ì‹œì‘í•œë‹¤.  assertThat(íƒ€ê²Ÿ).ë©”ì†Œë“œ1().ë©”ì†Œë“œ2();       Object Assertions  ObjectsëŠ” ë‘ ê°ì²´ì˜ ë™ë“±ì„±ì´ë‚˜ ê°ì²´ì˜ í•„ë“œë¥¼ ê²€ì‚¬í•˜ê¸° ìœ„í•´ ë‹¤ì–‘í•œ ë°©ë²•ìœ¼ë¡œ ë¹„êµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  public class Dog {      private String name;      private Float weight;          // Getters, Setters... }  Dog fido = new Dog(\"Fido\", 5.25); Dog fidosClone = new Dog(\"Fido\", 5.25)   isEqualTo()  ì°¸ì¡° ë¹„êµ  assertThat(fido).isEqualTo(fidosClone);   isEqualToComparingFieldByFieldRecursively()  ë‚´ìš© ë¹„êµ  assertThat(fido).isEqualToComparingFieldByFieldRecursively(fidosClone);      Boolean Assertions  ì°¸, ê±°ì§“ í™•ì¸   isTrue() &amp;&amp; isFalse()  assertThat(\"\".isEmpty()).isTrue();      Iterable/Array Assertions  Iterable/Array ê°€ì´ë“œ ë§í¬  Iterable/Arrayì— íŠ¹ì • ìš”ì†Œê°€ ì¡´ì¬í•˜ëŠ”ì§€ ë‹¤ì–‘í•œ ë°©ë²•ìœ¼ë¡œ ì•Œ ìˆ˜ ìˆë‹¤.   contains()  ìš”ì†Œ í¬í•¨ í™•ì¸  List&lt;String&gt; list = Arrays.asList(\"1\", \"2\", \"3\"); assertThat(list).contains(\"1\");   doesNotContain()  ìš”ì†Œê°€ í¬í•¨ë˜ì§€ ì•Šì•˜ëŠ”ì§€ í™•ì¸  assertThat(list).doesNotContain(\"4\");   containsExactly()  ì‹¤ì œ ê·¸ë£¹ì— ì§€ì •ëœ ê°’ì´ ìˆœì„œëŒ€ë¡œ ì •í™•íˆ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤. ì¼ê´€ëœ ë°˜ë³µ ìˆœì„œê°€ ìˆëŠ” ê·¸ë£¹ì—ë§Œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.   Iterable&lt;Ring&gt; elvesRings = newArrayList(vilya, nenya, narya);   // ì„±ê³µ  assertThat(elvesRings).containsExactly(vilya, nenya, narya);   // ì‹¤íŒ¨  assertThat(elvesRings).containsExactly(nenya, vilya, narya);   containsAll()  ì‹¤ì œ ê·¸ë£¹ì— ì§€ì •ëœ Iterableì˜ ëª¨ë“  ìš”ì†Œê°€ ì„ì˜ì˜ ìˆœì„œë¡œ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤.  Iterable&lt;String&gt; abc = Arrays.asList(\"a\", \"b\", \"c\");   // ì„±ê³µ  assertThat(abc).containsAll(Arrays.asList(\"b\", \"c\"))                 .containsAll(Arrays.asList(\"a\", \"b\", \"c\"));   // ì‹¤íŒ¨  assertThat(abc).containsAll(Arrays.asList(\"d\"));  assertThat(abc).containsAll(Arrays.asList(\"a\", \"b\", \"c\", \"d\"));   isNotEmpty()  ë¹„ì–´ìˆì§€ ì•Šì•˜ëŠ”ì§€ í™•ì¸  assertThat(list).isNotEmpty();   startsWith()  ì£¼ì–´ì§„ ê°’ìœ¼ë¡œ ì‹œì‘í•˜ëŠ”ì§€ í™•ì¸  assertThat(list).startsWith(\"1\");      Character Assertions  Character ê°€ì´ë“œ ë§í¬  Characterì— ëŒ€í•œ ë¹„êµ  assertThat(someCharacter)   .isNotEqualTo('a')             // a ê°€ ì•„ë‹ˆê³    .inUnicode()                   // ìœ ë‹ˆì½”ë“œ í…Œì´ë¸”ì— ìˆê³    .isGreaterThanOrEqualTo('b')   // bë³´ë‹¤ í¬ê³    .isLowerCase();                // ì†Œë¬¸ì ì¸ì§€ í™•ì¸      Class Assertions  Class ê°€ì´ë“œ ë§í¬  í´ë˜ìŠ¤ì— ê´€í•œ ë¹„êµ   isInterface()  ì¸í„°í˜ì´ìŠ¤ì¸ì§€ í™•ì¸  assertThat(Runnable.class).isInterface();   isAssignableFrom()  í• ë‹¹ ê°€ëŠ¥í•œì§€ í™•ì¸  assertThat(Exception.class).isAssignableFrom(NoSuchElementException.class);      File Assertions  File ê°€ì´ë“œ ë§í¬  íŒŒì¼ì— ê´€ë ¨ëœ ë¹„êµ   exists()  ì¡´ì¬ ì—¬ë¶€  assertThat(someFile).exists();   isFile()  íŒŒì¼ìœ í˜•ì¸ì§€ í™•ì¸  assertThat(someFile).isFile();   canRead()  ì½ì„ ìˆ˜ ìˆëŠ”ì§€ í™•ì¸  assertThat(someFile).canRead();   canWrite()  ì“¸ ìˆ˜ ìˆëŠ”ì§€ í™•ì¸  assertThat(someFile).canWrite();      Double/Float/IntegerÂ Assertions  Double/Float/Integer ê°€ì´ë“œ ë§í¬  ìˆ«ìì— ëŒ€í•œ ë¹„êµ   isBetween()  ê°’ì´ ë‘ ê°’ ì‚¬ì´ì— ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸ (start, end í¬í•¨)  assertThat(3).isBetween(1,4);   isStrictlyBetween()  ê°’ì´ ë‘ ê°’ ì‚¬ì´ì— ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸ (start, end ë¯¸í¬í•¨)  assertThat(3).isStrictlyBetween(1,4);   isPositive()  ì–‘ìˆ˜ì¸ì§€ í™•ì¸  assertThat(3).isPositive();   isNegative()  ìŒìˆ˜ì¸ì§€ í™•ì¸  assertThat(-1).isNegative();   isZero()  ê°’ì´ 0ì¸ì§€ í™•ì¸  assertThat(0).isZero();      MapÂ Assertions  Map ê°€ì´ë“œ ë§í¬  ë§µì— íŠ¹ì • í•­ëª©, entry, key/value ê°’ì´ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤.   containsKey()  í‚¤ê°€ ì¡´ì¬í•˜ì§€ëŠ” í™•ì¸  assertThat(map).containsKey(2);   doesNotContainKeys()  í‚¤ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ì§€ í™•ì¸  assertThat(map).doesNotContainKeys(10);   entry()  mapì˜ í‚¤, ê°’ì„ í™•ì¸  assertThat(map).contains(entry(2, \"a\"));      Throwable Assertions  Throwable ê°€ì´ë“œ ë§í¬  ì˜ˆì™¸ ë©”ì‹œì§€, ìŠ¤íƒ ì¶”ì  ê²€ì‚¬, ì˜ˆì™¸ ë°œìƒí–ˆëŠ”ì§€ í™•ì¸  Throwable thrown = catchThrowable(() -&gt; {     throw new Exception(\"boom!\"); });  assertThat(thrown).isInstanceOf(Exception.class).hasMessageContaining(\"boom\");   assertThatThrownBy()  assertThatThrownBy(() -&gt; {throw new Exception(\"boom!\");}) .isInstanceOf(Exception.class) .hasMessageContaining(\"boom\");   assertThatExceptionOfType()  íŠ¹ì • íƒ€ì…ìœ¼ë¡œ ê²€ì‚¬  assertThatExceptionOfType(IOException.class) .isThrownBy(() -&gt; { throw new IOException(\"boom!\"); }) .withMessage(\"%s!\", \"boom\") .withMessageContaining(\"boom\") .withNoCause();  ê·¸ ë°–ì— íŠ¹ì • íƒ€ì…ì„ ê²€ì‚¬í•˜ëŠ” exceptionsë¥¼ ì´ìš©í•  ìˆ˜ ìˆë‹¤.     assertThatNullPointerException   assertThatIllegalArgumentException   assertThatIllegalStateException   assertThatIOException      Describing Assertions   as()  í…ŒìŠ¤íŠ¸ì˜ ì„¤ëª… ì‘ì„±  assertThat(person.getAge())     .as(\"%s's age should be equal to 100\", person.getName())     .isEqualTo(100);  // ì¶œë ¥ // [Alex's age should be equal to 100] expected:&lt;100&gt; but was:&lt;34&gt;      JUnit Assumptions  íŠ¹ì • í™˜ê²½ì¼ ë•Œë§Œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ë„ë¡ í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©   assumeTrue() &amp;&amp; assumeFalse()  í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µ, ì‹¤íŒ¨ì¼ ë•Œ ê³„ì† ì§„í–‰  @Test void trueAssumption() {     assumeTrue(\"PRD\".equals(System.getenv(\"ENV\")));     // ê³„ì† ì§„í–‰... }  @Test void falseAssumption() {     assumeFalse(5 &lt; 1);     // ê³„ì† ì§„í–‰... }   assumingThat()  ì²«ë²ˆì§¸ ì¸ì ì„±ê³µì‹œ, ë‘ë²ˆì§¸ ì¸ì ì‹¤í–‰  @Test void assumptionThat() {     assumingThat(\"CI\".equals(System.getenv(\"ENV\")),         () -&gt; {             // CIì„œë²„ì—ì„œë§Œ ì´ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•œë‹¤.             assertEquals(2, calculator.divide(4, 2));         });     assertEquals(5 + 2, 7); }            ğŸ“– JUnit import static  ê¸°ë³¸ import static í•´ë†“ìœ¼ë©´ ì¢‹ì€ ê²ƒë“¤ì„ ì •ë¦¬  import static org.hamcrest.Matchers; import static org.junit.jupiter.api.Assertions.*; import static org.assertj.core.api.Assertions.*;       ","categories": ["Java"],
        "tags": ["Java","JUnit 5","AssertJ","Test","CheatSheet"],
        "url": "/java/TDD(Test-Driven-Development)-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%A3%BC%EB%8F%84-%EA%B0%9C%EB%B0%9C/",
        "teaser": null
      },{
        "title": "ë‹¨ìœ„ í…ŒìŠ¤íŠ¸, í†µí•© í…ŒìŠ¤íŠ¸, ì¸ìˆ˜ í…ŒìŠ¤íŠ¸",
        "excerpt":"ë‹¨ìœ„ í…ŒìŠ¤íŠ¸, í†µí•© í…ŒìŠ¤íŠ¸, ì¸ìˆ˜  í…ŒìŠ¤íŠ¸ì— ëŒ€í•´ ì„¤ëª…í•©ë‹ˆë‹¤.       ğŸ¤” ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë€?     Unit Testë¼ê³  í•œë‹¤.   ê°œë°œì ê´€ì ì—ì„œ í…ŒìŠ¤íŠ¸í•œë‹¤.   êµ¬í˜„í•œ ë¶€ë¶„, ë‹¨ìœ„ë¥¼ ê²€ì¦í•œë‹¤.   ë‹¨ìœ„ ê¸°ëŠ¥ì„ ì¤‘ì‹¬ìœ¼ë¡œ ë‹¤ë¥¸ ì™¸ë¶€ ì˜í–¥ì„ ë°°ì œí•˜ê³  í…ŒìŠ¤íŠ¸ í•˜ëŠ” ê²ƒì´ ëª©ì ì´ë‹¤.   í˜‘ë ¥ ê°ì²´ê°€ ì¡´ì¬í•˜ëŠ” ê²½ìš°ì—ëŠ” í˜‘ë ¥ ê°ì²´ê°€ ì›í•˜ëŠ” ê²°ê³¼ë¥¼ ì‘ë‹µí•˜ë„ë¡ ëª¨í‚¹í•œë‹¤.      ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ë²”ìœ„     ë‹¨ìœ„ì˜ í¬ê¸°ë¥¼ ì •í™•íˆ ì œì‹œí•˜ê¸°ëŠ” ì–´ë µë‹¤.   ì¼ë°˜ì ìœ¼ë¡œ íŠ¹ì •í•œ ì±…ì„ì„ ìˆ˜í–‰í•˜ë©´ì„œ, ê³ ë¦½ë  ìˆ˜ ìˆëŠ” ìµœì†Œ ë‹¨ìœ„      ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì˜ˆ  class UnitTest {      @DisplayName(\"ì´ë¦„ì„ ë°›ì•„ ìë™ì°¨ ìƒì„±\")     @Test     public void createCar() {         // given         String name = \"Boong-Boong\";          // when         Car car = new Car(name);          // then         assertThat(car).isNotNull();     }      @DisplayName(\"ìˆ«ì 4ë¥¼ ë°›ìœ¼ë©´ ìë™ì°¨ê°€ 1 ì „ì§„í•œë‹¤.\")     @Test     public void moveCar() {         // given         Car car = new Car(\"Boong-Boong\");          // when         car.move(4);          // then         assertThat(car.getPosition()).isEqualTo(1);     } }      í˜‘ë ¥ ê°ì²´ì˜ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì˜ˆ  @ExtendWith(MockitoExtension.class) class ServiceTest {      @Mock     private CarRepository carRepository;      @InjectMocks     private CarService carService;      @DisplayName(\"ì´ë¦„ì„ ë°›ì•„ ìë™ì°¨ë¥¼ ì €ì¥í•œë‹¤.\")     @Test     public void save(){         // given         final String NAME = \"Boong-Boong\";         when(carRepository.save(any())).thenReturn(Optional.of(new Car(NAME)));                  // when         CarResponse carResponse = carService.save(NAME);          // then         assertThat(carResponse.getName()).isEqualTo(NAME);     } }  @WebMvcTest(CarController.class) public class CarControllerTest {      private static final String API_BASE_PATH = \"/api/cars\";      @Autowired     private MockMvc mockMvc;      @MockBean     private CarService carService;      @Autowired     private ObjectMapper objectMapper;      @DisplayName(\"ìë™ì°¨ë¥¼ ìƒì„±í•œë‹¤.\")     @Test     public void createCar() throws Exception {         //given         CarRequest carRequest = new carRequest(\"Boong-Boong\");         CarResponse carResponse = new CarResponse(1L, carRequest.getName());         given(carService.save(any())).willReturn(carResponse);          //when, then         mockMvc.perform(post(API_BASE_PATH)                 .content(objectMapper.writeValueAsString(carRequest))                 .contentType(MediaType.APPLICATION_JSON))                 .andExpect(status().isCreated())                 .andExpect(jsonPath(\"$.id\").value(carResponse.getId()));     } }          ğŸ¤” í†µí•© í…ŒìŠ¤íŠ¸ë€?     Integration Testë¼ê³  í•œë‹¤.   ê°œë°œì ê´€ì ì—ì„œ í…ŒìŠ¤íŠ¸í•œë‹¤.   ì—¬ëŸ¬ ê¸°ëŠ¥ì„ ì¡°í•©í•˜ì—¬ ì „ì²´ ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ì´ ì œëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.   ë‹¨ìœ„ ê¸°ëŠ¥ ê°„ì˜ ì˜ì¡´ì„±ì„ í¬í•¨í•˜ì—¬ í…ŒìŠ¤íŠ¸í•œë‹¤.   ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì™€ ë‹¬ë¦¬ ê°œë°œìê°€ ë³€ê²½í•  ìˆ˜ ì—†ëŠ” ë¶€ë¶„(ì˜ˆ: ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬)ê¹Œì§€ ë¬¶ì–´ ê²€ì¦í•  ë•Œ ì‚¬ìš©í•œë‹¤.      í†µí•© í…ŒìŠ¤íŠ¸ ì˜ˆ  @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.MOCK) class CarServiceTest {      @Autowired     private CarService carService;      @DisplayName(\"ì´ë¦„ì„ ë°›ì•„ ìë™ì°¨ë¥¼ ì €ì¥í•œë‹¤.\")     @Test     public void save(){         // given         final String NAME = \"Boong-Boong\";                  // when         CarResponse car = carService.save(NAME);          // then         assertThat(car.getName()).isEqualTo(NAME);     } }          ğŸ¤” ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ë€?     Acceptance Testë¼ê³  í•œë‹¤.   ì‚¬ìš©ì ê´€ì ì—ì„œ í…ŒìŠ¤íŠ¸í•œë‹¤.   ì‚¬ìš©ì ìŠ¤í† ë¦¬(ì‹œë‚˜ë¦¬ì˜¤)ì— ë§ì¶° ìˆ˜í–‰í•˜ëŠ” í…ŒìŠ¤íŠ¸ì´ë‹¤.   ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±í•˜ëŠ”ì§€ë¥¼ ê²€ì¦í•œë‹¤.   ë‹¤ë¥¸ ì˜ì‚¬ì†Œí†µì§‘ë‹¨ìœ¼ë¡œë¶€í„° ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ë°›ì•„(ì¸ìˆ˜) ê°œë°œí•œë‹¤ëŠ” ì˜ë¯¸ë¥¼ ê°€ì§€ê³  ìˆë‹¤.      ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ ì˜ˆ: MockMvc       ì‹¤ì œë¡œ ì„œë²„ë¥¼ êµ¬ë™í•˜ì§„ ì•Šê³  ëª¨í‚¹í•œ Spring MVC í™˜ê²½ì„ êµ¬í˜„   MVC ì„œë²„ì™€ ìš”ì²­ì„ ë‚ ë¦¬ëŠ” ê³³ì˜ ìŠ¤ë ˆë“œê°€ ë¶„ë¦¬ë˜ë¯€ë¡œ @Transactionì„ ì„ ì–¸í•˜ì—¬ë„ Rollbackë˜ì§€ ì•ŠìŒ.            ë°ì´í„°ë¥¼ ì§ì ‘ ì‚­ì œí•´ì•¼í•¨            @SpringBootTest @AutoConfigureMockMvc public class CarControllerMockTest {      private static final String API_BASE_PATH = \"/api/cars\";      @Autowired     private MockMvc mockMvc;      @Autowired     private ObjectMapper objectMapper;      @DisplayName(\"ìë™ì°¨ë¥¼ ìƒì„±í•œë‹¤.\")     @Test     public void createCar() throws Exception {         //given         CarRequest carRequest = new carRequest(\"Boong-Boong\");         CarResponse carResponse = new CarResponse(1L, carRequest.getName());          //when, then         mockMvc.perform(post(API_BASE_PATH)                 .content(objectMapper.writeValueAsString(carRequest))                 .contentType(MediaType.APPLICATION_JSON))                 .andExpect(status().isCreated())                 .andExpect(jsonPath(\"$.id\").value(carResponse.getId()));     } }      ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ ì˜ˆ: RestAssured       ì‹¤ì œ ì„œë²„ë¥¼ êµ¬ë™í•˜ì—¬ ì‹¤ì œì™€ ë™ì¼í•œ í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì§€ì›   MockMvcì™€ ë§ˆì°¬ê°€ì§€ë¡œ MVC ì„œë²„ì™€ ìš”ì²­ì„ ë‚ ë¦¬ëŠ” ê³³ì˜ ìŠ¤ë ˆë“œê°€ ë¶„ë¦¬ë˜ë¯€ë¡œ @Transactionì„ ì„ ì–¸í•˜ì—¬ë„ Rollbackë˜ì§€ ì•ŠìŒ.            ë°ì´í„°ë¥¼ ì§ì ‘ ì‚­ì œí•´ì•¼í•¨            @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT) public class AcceptanceTest {      @LocalServerPort     int port;      @Autowired     private DatabaseCleanup databaseCleanup; // ì• í”Œë¦¬ì¼€ì´ì…˜ì— ë“±ë¡ëœ ì—”í‹°í‹°ë¥¼ í…Œì´ë¸”ì„ ë¹„ì›Œì£¼ëŠ” í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ (ì„ì˜ë¡œ ë§Œë“  í´ë ˆìŠ¤)      @BeforeEach // ë§¤ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì „ì—     public void setUp() {         RestAssured.port = port;         databaseCleanup.execute();  // í…Œì´ë¸”ì„ ë¹„ì›Œì¤€ë‹¤.     } }  public class CarAcceptanceTest extends AcceptanceTest{      private static final String API_BASE_PATH = \"/api/cars\";      @DisplayName(\"ìë™ì°¨ë¥¼ ìƒì„±í•œë‹¤.\")     @Test     public void createCar(){         //give         CarRequest ìë™ì°¨ = new carRequest(\"Boong-Boong\");          //when         ExtractableResponse&lt;Response&gt; ìë™ì°¨_ìƒì„±_ê²°ê³¼ = ìë™ì°¨_ìƒì„±_ìš”ì²­(ìë™ì°¨);          //then         ìë™ì°¨_ìƒì„±_ì™„ë£Œë¨(ìë™ì°¨_ìƒì„±_ê²°ê³¼);     }      public ExtractableResponse&lt;Response&gt; ìë™ì°¨_ìƒì„±_ìš”ì²­(CarRequest request) {         return RestAssured             .given().log().all()             .contentType(MediaType.APPLICATION_JSON_VALUE)             .body(request)             .when().post(API_BASE_PATH)             .then().log().all()             .extract();     }      public static void ìë™ì°¨_ìƒì„±_ì™„ë£Œë¨(ExtractableResponse&lt;Response&gt; response) {         assertThat(response.statusCode()).isEqualTo(HttpStatus.OK.value());     } }           ğŸ™‡ğŸ»â€â™‚ï¸ ì°¸ê³ ì‚¬ì´íŠ¸     https://jerry92k.tistory.com/   https://tecoble.techcourse.co.kr  ","categories": ["Insight"],
        "tags": ["Insight","Test"],
        "url": "/insight/%EB%8B%A8%EC%9C%84%ED%85%8C%EC%8A%A4%ED%8A%B8-%ED%86%B5%ED%95%A9%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%9D%B8%EC%88%98%ED%85%8C%EC%8A%A4%ED%8A%B8/",
        "teaser": null
      },{
        "title": "Test Double",
        "excerpt":"í…ŒìŠ¤íŠ¸ ë”ë¸”(Test Dobule)ì— ëŒ€í•´ ì„¤ëª…í•©ë‹ˆë‹¤.       ğŸ¤” í…ŒìŠ¤íŠ¸ ë”ë¸”ì´ë€?     Test Dobuleì´ë¼ í•œë‹¤.   í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ê¸° ì–´ë ¤ìš´ ê²½ìš° ì´ë¥¼ ëŒ€ì‹ í•´ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì–´ì£¼ëŠ” ê°ì²´ë¥¼ ë§í•œë‹¤.   ì œë¼ë“œ ë©”ìŠ¤ìë¡œìŠ¤(Gerard Meszaros)ê°€ ë§Œë“  ìš©ì–´ë¡œ,  ìŠ¤í„´íŠ¸ ë”ë¸”(ì˜í™” ì´¬ì˜ì—ì„œ ë§í•˜ëŠ” ìŠ¤í„´íŠ¸ ëŒ€ì—­ ë°°ìš°)ì—ì„œ ì•„ì´ë””ì–´ë¥¼ ì–»ì–´ì„œ ë§Œë“  ìš©ì–´ì´ë‹¤.    ì˜ˆë¥¼ ë“¤ì–´ ìš°ë¦¬ê°€ ë°ì´í„°ë² ì´ìŠ¤ë¡œë¶€í„° ì¡°íšŒí•œ ê°’ì„ ì—°ì‚°í•˜ëŠ” ë¡œì§ì„ êµ¬í˜„í–ˆë‹¤ê³  í•˜ì. í•´ë‹¹ ë¡œì§ì„ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ì„  í•­ìƒ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì˜í–¥ì„ ë°›ì„ ê²ƒì´ê³ , ì´ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì˜ ìƒíƒœì— ë”°ë¼ ë‹¤ë¥¸ ê²°ê³¼ë¥¼ ìœ ë°œí•  ìˆ˜ë„ ìˆë‹¤.   ì´ë•Œ í…ŒìŠ¤íŠ¸í•˜ë ¤ëŠ” ê°ì²´ì™€ ì—°ê´€ëœ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ê¸°ê°€ ì–´ë µê³  ëª¨í˜¸í•  ë•Œ ëŒ€ì‹ í•´ ì¤„ ìˆ˜ ìˆëŠ” ê°ì²´ë¥¼ í…ŒìŠ¤íŠ¸ ë”ë¸”ì´ë¼ í•œë‹¤.       ğŸ“– í…ŒìŠ¤íŠ¸ ë”ë¸” ì¢…ë¥˜   í…ŒìŠ¤íŠ¸ ë”ë¸”ì€ í¬ê²Œ Dummy, Fake, Stub, Spy, Mockìœ¼ë¡œ ë‚˜ëˆˆë‹¤.   ğŸ¯ Dummy     ê°€ì¥ ê¸°ë³¸ì ì¸ í…ŒìŠ¤íŠ¸ ë”ë¸”ì´ë‹¤.   ì¸ìŠ¤í„´ìŠ¤í™” ëœ ê°ì²´ê°€ í•„ìš”í•˜ì§€ë§Œ ê¸°ëŠ¥ì€ í•„ìš”í•˜ì§€ ì•Šì€ ê²½ìš°ì— ì‚¬ìš©í•œë‹¤.   Dummy ê°ì²´ì˜ ë©”ì„œë“œê°€ í˜¸ì¶œë˜ì—ˆì„ ë•Œ ì •ìƒ ë™ì‘ì€ ë³´ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤.   ê°ì²´ëŠ” ì „ë‹¬ë˜ì§€ë§Œ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ê°ì²´ì´ë‹¤.      Dummy ì˜ˆ  public interface PringWarning {     void print(); }  public class PrintWarningDummy implements PrintWarning {     @Override     public void print() {         // ì•„ë¬´ëŸ° ë™ì‘ì„ í•˜ì§€ ì•ŠëŠ”ë‹¤.     } }  ì‹¤ì œ ê°ì²´ëŠ” PrintWarning ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„ì²´ë¥¼ í•„ìš”í•˜ì§€ë§Œ, íŠ¹ì • í…ŒìŠ¤íŠ¸ì—ì„œëŠ” í•´ë‹¹ êµ¬í˜„ì²´ì˜ ë™ì‘ì´ ì „í˜€ í•„ìš”í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤. ì‹¤ì œ ê°ì²´ê°€ ë¡œê·¸ìš© ê²½ê³ ë§Œ ì¶œë ¥í•œë‹¤ë©´ í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œëŠ” ì „í˜€ í•„ìš” ì—†ê¸° ë•Œë¬¸ì´ë‹¤.   ì´ì²˜ëŸ¼ ë™ì‘í•˜ì§€ ì•Šì•„ë„ í…ŒìŠ¤íŠ¸ì—ëŠ” ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠëŠ” ê°ì²´ë¥¼ Dummy ê°ì²´ë¼ê³  í•œë‹¤.       ğŸ¯ Fake     ë³µì¡í•œ ë¡œì§ì´ë‚˜ ê°ì²´ ë‚´ë¶€ì—ì„œ í•„ìš”ë¡œ í•˜ëŠ” ë‹¤ë¥¸ ì™¸ë¶€ ê°ì²´ë“¤ì˜ ë™ì‘ì„ ë‹¨ìˆœí™”í•˜ì—¬ êµ¬í˜„í•œ ê°ì²´ì´ë‹¤.   ë™ì‘ì˜ êµ¬í˜„ì„ ê°€ì§€ê³  ìˆì§€ë§Œ ì‹¤ì œ í”„ë¡œë•ì…˜ì—ëŠ” ì í•©í•˜ì§€ ì•Šì€ ê°ì²´ì´ë‹¤.   ì¦‰, ë™ì‘ì€ í•˜ì§€ë§Œ ì‹¤ì œ ì‚¬ìš©ë˜ëŠ” ê°ì²´ì²˜ëŸ¼ ì •êµí•˜ê²Œ ë™ì‘í•˜ì§€ëŠ” ì•ŠëŠ” ê°ì²´ë¥¼ ë§í•œë‹¤.      Fake ì˜ˆ  public interface UserRepository {     void save(User user);     User findById(long id); }  public class FakeUserRepository implements UserRepository {     private Collection&lt;User&gt; users = new ArrayList&lt;&gt;();          @Override     public void save(User user) {         if (findById(user.getId()) == null) {             user.add(user);         }     }          @Override     public User findById(long id) {         for (User user : users) {             if (user.getId() == id) {                 return user;             }         }         return null;     } }  ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì—°ê²°í•´ì„œ í…ŒìŠ¤íŠ¸í•´ì•¼ í•˜ì§€ë§Œ, ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ ëŒ€ì‹  ê°€ì§œ ë°ì´í„°ë² ì´ìŠ¤ ì—­í• ì„ í•˜ëŠ” FakeUserRepositoryë¥¼ ë§Œë“¤ì–´ í…ŒìŠ¤íŠ¸ ê°ì²´ì— ì£¼ì…í•œë‹¤. ì´ë ‡ê²Œ í•˜ë©´ í…ŒìŠ¤íŠ¸ ê°ì²´ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì— ì˜ì¡´í•˜ì§€ ì•Šìœ¼ë©´ì„œë„ ë™ì¼í•˜ê²Œ ë™ì‘ì„ í•˜ëŠ” ê°€ì§œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ê°€ì§€ê²Œ ëœë‹¤.   ì´ì²˜ëŸ¼ ì‹¤ì œ ê°ì²´ì™€ ë™ì¼í•œ ì—­í• ì„ í•˜ë„ë¡ ë§Œë“¤ì–´ ì‚¬ìš©í•˜ëŠ” ê°ì²´ê°€ Fakeì´ë‹¤.        ğŸ¯ Stub     Dummy ê°ì²´ê°€ ì‹¤ì œë¡œ ë™ì‘í•˜ëŠ” ê²ƒ ì²˜ëŸ¼ ë³´ì´ê²Œ ë§Œë“¤ì–´ ë†“ì€ ê°ì²´ì´ë‹¤.   í…ŒìŠ¤íŠ¸ì—ì„œ í˜¸ì¶œëœ ìš”ì²­ì— ëŒ€í•´ ë¯¸ë¦¬ ì¤€ë¹„í•´ë‘” ê²°ê³¼ë¥¼ ì œê³µí•œë‹¤.   ìƒíƒœë¥¼ ê²€ì¦í•œë‹¤.   ì¦‰, í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ í”„ë¡œê·¸ë˜ë°ëœ ë‚´ìš©ì— ëŒ€í•´ì„œë§Œ ì¤€ë¹„ëœ ê²°ê³¼ë¥¼ ì œê³µí•˜ëŠ” ê°ì²´ì´ë‹¤.   Stub ì˜ˆ  public class GradeServiceTest {      private Student student;     private Gradebook gradebook;      @Before     public void setUp() throws Exception {         gradebook = mock(Gradebook.class);         student = new Student();     }      @Test     public void calculates_grades_average_for_student() {         when(gradebook.gradesFor(student)).thenReturn(grades(8, 6, 10)); //stubbing gradebook          double averageGrades = new GradesService(gradebook).averageGrades(student);          assertThat(averageGrades).isEqualTo(8.0);     } }  ìš°ë¦¬ê°€ í…ŒìŠ¤íŠ¸ì—ì„œ ìì£¼ ì‚¬ìš©í•˜ëŠ” Mockito í”„ë ˆì„ì›Œí¬ë„ Stubì™€ ê°™ì€ ì—­í• ì„ í•´ì¤€ë‹¤.   ì´ì²˜ëŸ¼ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ì˜ë„í•œ ê²°ê³¼ë§Œ ë°˜í™˜ë˜ë„ë¡ í•˜ê¸° ìœ„í•œ ê°ì²´ê°€ Stubì´ë‹¤.        ğŸ¯ Spy     Stubì˜ ì—­í• ì„ ê°€ì§€ë©´ì„œ í˜¸ì¶œëœ ë‚´ìš©ì— ëŒ€í•´ ì•½ê°„ì˜ ì •ë³´ë¥¼ ê¸°ë¡í•œë‹¤.   ì‹¤ì œ ê°ì²´ì²˜ëŸ¼ ë™ì‘ì‹œí‚¬ ìˆ˜ë„ ìˆê³ , í•„ìš”í•œ ë¶€ë¶„ì— ëŒ€í•´ì„œëŠ” Stubë¡œ ë§Œë“¤ì–´ì„œ ë™ì‘ì„ ì§€ì •í•  ìˆ˜ë„ ìˆë‹¤.   ì¦‰, ì‹¤ì œ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ì„œ ì„ íƒì ìœ¼ë¡œ Stubí•˜ëŠ” ê°ì²´ì´ë‹¤.   Spy ì˜ˆ  @ExtendWith(MockitoExtension.class) public class SpyTests {      @Spy     private OrderRepository orderRepository;     @Spy     private NotificationClient notificationClient;     @InjectMocks     private OrderService orderService;      @Test     public void createOrderTest_basic() {         // given         // Spy ê°ì²´ì˜ orderRepositoryì˜ createOrder()ë§Œ Stubí•˜ê³  ë‚˜ë¨¸ì§€ ê¸°ëŠ¥ì€ ê·¸ëŒ€ë¡œ ì‚¬ìš©         Mockito.doAnswer(invocation -&gt; {             System.out.println(\"I'm spy orderRepository createOrder\");             return null;         }).when(orderRepository).createOrder();         Mockito.doAnswer(invocation -&gt; {             System.out.println(\"I'm spy notificationclient\");             return null;         }).when(notificationClient).notifyToMobile();           // when         orderService.createOrder(true);          // then         Mockito.verify(orderRepository, Mockito.times(1)).createOrder();         Mockito.verify(notificationClient, Mockito.times(1)).notifyToMobile();     } }        ğŸ¯ Mock     Mockì€ í–‰ìœ„ë¥¼ ê²€ì¦í•˜ê¸° ìœ„í•´ ê°€ì§œ ê°ì²´ë¥¼ ë§Œë“¤ê³  í…ŒìŠ¤íŠ¸í•˜ëŠ” ë°©ë²•ì´ë‹¤.   í…ŒìŠ¤íŠ¸ê°€ ì •ìƒì ìœ¼ë¡œ í˜¸ì¶œë˜ì—ˆëŠ”ì§€, í–‰ìœ„ë¥¼ ê²€ì¦í•œë‹¤.      Mock ì˜ˆ  public class SecurityCentral {     private final Window window;     private final Door door;      public SecurityCentral(Window window, Door door) {         this.window = window;         this.door = door;     }      void securityOn() {         window.close();         door.close();     } }  public class SecurityCentralTest {     Window windowMock = mock(Window.class);     Door doorMock = mock(Door.class);      @Test     public void enabling_security_locks_windows_ans_doors() {         SecurityCentral securityCentral = new SecurityCentral(windowMock, doorMock);          securityCentral.securityOn();          // í–‰ìœ„ ê²€ì¦         verify(windowMock).close();         verify(doorMock).close();     } }          ğŸ™‡ğŸ»â€â™‚ï¸ ì°¸ê³ ì‚¬ì´íŠ¸     https://tecoble.techcourse.co.kr   https://cobbybb.tistory.com/16   ","categories": ["Insight"],
        "tags": ["Insight","Test","TestDobule"],
        "url": "/insight/Test-Double/",
        "teaser": null
      },{
        "title": "Spring Boot Test Cheat Sheet",
        "excerpt":"ğŸ“ Spring Boot Test Cheat Sheet ì…ë‹ˆë‹¤. ì„¤ëª…ì€ ì—†ê³  ìì£¼ ì‚¬ìš©í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œ ì°¸ê³ ìš© ì…ë‹ˆë‹¤.     JUnit 5, AssertJ Cheat Sheet       build.gradle  dependencies {     runtimeOnly 'com.h2database:h2'     implementation 'com.google.guava:guava:31.1-jre'     testImplementation 'org.springframework.boot:spring-boot-starter-test'     testImplementation 'io.rest-assured:rest-assured' }        application-test.yml  spring:   datasource:     url: jdbc:h2:mem:test     username: sa     password:     driver-class-name: org.h2.Driver   jpa:     hibernate:       ddl-auto: 'create-drop'        import  import static org.hamcrest.Matchers; import static org.junit.jupiter.api.Assertions.*; import static org.assertj.core.api.Assertions.*;        DatabaseCleanup  JPAìš©, ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ ëª¨ë“  ì—”í‹°í‹° í…Œì´ë¸” ì´ˆê¸°í™” í´ë˜ìŠ¤  @Service @ActiveProfiles(\"test\") public class DatabaseCleanup implements InitializingBean {     @PersistenceContext     private EntityManager entityManager;      private List&lt;String&gt; tableNames;      @Override     public void afterPropertiesSet() {         tableNames = entityManager.getMetamodel().getEntities().stream()                 .filter(e -&gt; e.getJavaType().getAnnotation(Entity.class) != null)                 .map(e -&gt; CaseFormat.UPPER_CAMEL.to(CaseFormat.LOWER_UNDERSCORE, e.getName()))                 .collect(Collectors.toList());     }      @Transactional     public void execute() {         entityManager.flush();         entityManager.createNativeQuery(\"SET REFERENTIAL_INTEGRITY FALSE\").executeUpdate();          for (String tableName : tableNames) {             entityManager.createNativeQuery(\"TRUNCATE TABLE \" + tableName).executeUpdate();             entityManager.createNativeQuery(\"ALTER TABLE \" + tableName + \" ALTER COLUMN ID RESTART WITH 1\").executeUpdate();         }          entityManager.createNativeQuery(\"SET REFERENTIAL_INTEGRITY TRUE\").executeUpdate();     } }        Acceptance Abstract  RestAssured ì‚¬ìš©ì‹œ ê³µí†µ ë¶€ëª¨ í´ë˜ìŠ¤. ëœë¤í¬íŠ¸ì™€ í…Œì´ë¸” ì´ˆê¸°í™”  @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT) public abstract class AcceptanceTest {      @LocalServerPort     int port;      @Autowired     private DatabaseCleanup databaseCleanup;      @BeforeEach     public void setUp() {         RestAssured.port = port;         databaseCleanup.execute();     } }        RestAssured     RestAssured ê°€ì´ë“œ   public static ExtractableResponse&lt;Response&gt; ìë™ì°¨_ë“±ë¡_ìš”ì²­(String name) {     Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();     params.put(\"name\", name);      return RestAssured             .given().log().all()             .body(params)             .contentType(MediaType.APPLICATION_JSON_VALUE)             .when().post(\"/api/cars\")             .then().log().all()             .extract(); }  public static void ìë™ì°¨_ë“±ë¡ë¨(ExtractableResponse&lt;Response&gt; response) {     assertThat(response.statusCode()).isEqualTo(HttpStatus.CREATED.value());     assertThat(response.header(\"Location\")).isNotBlank(); }  public static ExtractableResponse&lt;Response&gt; ì •ë³´_ì¡°íšŒ_ìš”ì²­(String accessToken) {     return RestAssured             .given().log().all()             .auth().oauth2(accessToken)             .when().get(\"/members/me\")             .then().log().all()             .extract(); }        @ExtendWith(SpringExtension.class), @MockBean  @ExtendWith(SpringExtension.class) public class SpringExtensionTest {      @MockBean     private LineRepository lineRepository;      @MockBean     private StationService stationService;      @Test     void findAllLines() {         // given         when(lineRepository.findAll()).thenReturn(Lists.newArrayList(new Line()));         LineService lineService = new LineService(lineRepository, stationService);          // when         List&lt;LineResponse&gt; responses = lineService.findLineResponses();          // then         assertThat(responses).hasSize(1);     } }        @ExtendWith(MockitoExtension.class), @Mock, @InjectMocks  @ExtendWith(MockitoExtension.class) public class MockitoExtensionTest {      @Mock     private CarRepository carRepository;      @InjectMocks     private CarService carService;      @DisplayName(\"ì´ë¦„ì„ ë°›ì•„ ìë™ì°¨ë¥¼ ì €ì¥í•œë‹¤.\")     @Test     public void save(){         // given         final String NAME = \"Boong-Boong\";         when(carRepository.save(any())).thenReturn(Optional.of(new Car(NAME)));                  // when         CarResponse carResponse = carService.save(NAME);          // then         assertThat(carResponse.getName()).isEqualTo(NAME);     } }        @WebMvcTest, @MockBean, MockMvc  @WebMvcTest(CarController.class) public class CarControllerTest {      private static final String API_BASE_PATH = \"/api/cars\";      @Autowired     private MockMvc mockMvc;      @MockBean     private CarService carService;      @Autowired     private ObjectMapper objectMapper;      @DisplayName(\"ìë™ì°¨ë¥¼ ìƒì„±í•œë‹¤.\")     @Test     public void createCar() throws Exception {         //given         CarRequest carRequest = new carRequest(\"Boong-Boong\");         CarResponse carResponse = new CarResponse(1L, carRequest.getName());         given(carService.save(any())).willReturn(carResponse);          //when, then         mockMvc.perform(post(API_BASE_PATH)                 .content(objectMapper.writeValueAsString(carRequest))                 .contentType(MediaType.APPLICATION_JSON))                 .andExpect(status().isCreated())                 .andExpect(jsonPath(\"$.id\").value(carResponse.getId()));     } }        @SpringBootTest, @AutoConfigureMockMvc, MockMvc  @SpringBootTest @AutoConfigureMockMvc public class CarControllerMockTest {      private static final String API_BASE_PATH = \"/api/cars\";      @Autowired     private MockMvc mockMvc;      @Autowired     private ObjectMapper objectMapper;      @DisplayName(\"ìë™ì°¨ë¥¼ ìƒì„±í•œë‹¤.\")     @Test     public void createCar() throws Exception {         //given         CarRequest carRequest = new carRequest(\"Boong-Boong\");         CarResponse carResponse = new CarResponse(1L, carRequest.getName());          //when, then         mockMvc.perform(post(API_BASE_PATH)                 .content(objectMapper.writeValueAsString(carRequest))                 .contentType(MediaType.APPLICATION_JSON))                 .andExpect(status().isCreated())                 .andExpect(jsonPath(\"$.id\").value(carResponse.getId()));     } }        @DataJpaTest, @PersistenceContext     JPA ê´€ë ¨ ì„¤ì •ë§Œ ë¡œë“œ   ë°ì´í„° ì†ŒìŠ¤, ì—”í‹°í‹° ë§¤ë‹ˆì € ë“± ìƒì„±   @Entity ì–´ë…¸í…Œì´ì…˜ì´ ë¶™ì€ í´ë˜ìŠ¤ ë° Spring Data JPA ì— ëŒ€í•œ ì„¤ì •ë“¤ ì ìš©   ê¸°ë³¸ìœ¼ë¡œ in-memory database ì‚¬ìš©   @AutoConfigureTestDatabaseë¥¼ ì‚¬ìš©í•˜ì—¬ ì–´ë–¤ databaseë¥¼ ì—°ê²°í• ì§€ ì„ íƒí•  ìˆ˜ ìˆë‹¤.   @DataJpaTest @ActiveProfiles(\"test\") @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE) class CarRepositoryTest {      @Autowired     private CarRepository carRepository;      @PersistenceContext     private EntityManager entityManager;      @Test     @DisplayName(\"ìë™ì°¨ë¥¼ ì €ì¥í•œë‹¤.\")     public void save() {                  ...          Car savedCar = carRepository.save(new Car(\"Boong-Boong\"));          entityManager.flush();         entityManager.clear();                  ...     } }        @MybatisTest     Mybatis í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ   ê¸°ë³¸ìœ¼ë¡œ in-memory database ì‚¬ìš©   @AutoConfigureTestDatabaseë¥¼ ì‚¬ìš©í•˜ì—¬ ì–´ë–¤ databaseë¥¼ ì—°ê²°í• ì§€ ì„ íƒí•  ìˆ˜ ìˆë‹¤.   @ExtendWith(SpringExtension.class) @MybatisTest @ActiveProfiles(\"test\") @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE) public class OrderTest {      @Autowired     private OrderMapper orderMapper;      @Test     public void mybatis_test() throws Exception {          // given         String seq = \"1\";          // when         OrderVO vo = orderMapper.getOrder(seq);          // then         assertThat(vo.getSeq).isEqualTo(\"1\");      } }        @Mock, @MockBean ì°¨ì´ì                   Mock ì¢…ë¥˜       ì˜ì¡´ì„± ì£¼ì… ëŒ€ìƒ                       @Mock       @InjectMocks                 @MockBean       Spring Context              @Mockì€ @InjectMocksì— ëŒ€í•´ì„œë§Œ í•´ë‹¹ í´ë˜ìŠ¤ì•ˆì—ì„œ ì •ì˜ëœ ê°ì²´ë¥¼ ì°¾ì•„ì„œ ì˜ì¡´ì„±ì„ í•´ê²°   @MockBeanì€ mock ê°ì²´ë¥¼ ìŠ¤í”„ë§ ì»¨í…ìŠ¤íŠ¸ì— ë“±ë¡        MockMVC ì£¼ì…ë°©ë²•     @SpringBootTest + @AutoConfigureMockMvc : MockMVCë¥¼ ì´ìš©í•˜ì—¬ í†µí•©í…ŒìŠ¤íŠ¸ í•  ë•Œ ì‚¬ìš©   @WebMvcTest : MVCë§Œ ìŠ¬ë¼ì´ìŠ¤(slice) í…ŒìŠ¤íŠ¸ í•  ë•Œ ì‚¬ìš©   ","categories": ["Spring"],
        "tags": ["Spring","Java","Test","CheatSheet"],
        "url": "/spring/spring-boot-test-cheat-sheet/",
        "teaser": null
      },{
        "title": "ğŸ³ Docker ì‚´í´ë³´ê¸°",
        "excerpt":"ğŸ’¾ ë„ì»¤ ê¸°ë³¸ ê°œë…ì„ ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤.       ğŸ¤” ë„ì»¤ë€?  ë„ì»¤ëŠ” ì»¨í…Œì´ë„ˆ ê¸°ë°˜ì˜ ì˜¤í”ˆì†ŒìŠ¤ ê°€ìƒí™” í”Œë«í¼ì…ë‹ˆë‹¤.   ì»¨í…Œì´ë„ˆ(Container)  ì»¨í…Œì´ë„ˆëŠ” ê²©ë¦¬ëœ ê³µê°„ì—ì„œ í”„ë¡œì„¸ìŠ¤ê°€ ë™ì‘í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. ê°€ìƒí™” ê¸°ìˆ ì˜ í•˜ë‚˜ì§€ë§Œ ê¸°ì¡´ë°©ì‹ê³¼ëŠ” ì°¨ì´ê°€ ìˆìŠµë‹ˆë‹¤.   ê¸°ì¡´ì˜ ê°€ìƒí™” ë°©ì‹ì€ ì£¼ë¡œÂ OSë¥¼ ê°€ìƒí™” í•˜ì˜€ìŠµë‹ˆë‹¤. VMwareë‚˜ VirtualBoxê°™ì€ ê°€ìƒë¨¸ì‹ ì€ í˜¸ìŠ¤íŠ¸ OSìœ„ì— ê²ŒìŠ¤íŠ¸ OS ì „ì²´ë¥¼ ê°€ìƒí™”í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤. ì´ ë°©ì‹ì€ ì—¬ëŸ¬ê°€ì§€ OSë¥¼ ê°€ìƒí™”(ë¦¬ëˆ…ìŠ¤ì—ì„œ ìœˆë„ìš°ë¥¼ ëŒë¦°ë‹¤ë˜ê°€) í•  ìˆ˜ ìˆê³  ë¹„êµì  ì‚¬ìš©ë²•ì´ ê°„ë‹¨í•˜ì§€ë§Œ ë¬´ê²ê³  ëŠë ¤ì„œ ìš´ì˜í™˜ê²½ì—ì„  ì‚¬ìš©í•  ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤.      OS ê°€ìƒí™”ëŠ” ì„±ëŠ¥ë¬¸ì œê°€ ìˆì—ˆê³  ì´ë¥¼ ê°œì„ í•˜ê¸° ìœ„í•´Â í”„ë¡œì„¸ìŠ¤ë¥¼ ê²©ë¦¬Â í•˜ëŠ” ë°©ì‹ì´ ë“±ì¥í•©ë‹ˆë‹¤.   ë¦¬ëˆ…ìŠ¤ì—ì„œëŠ” ì´ ë°©ì‹ì„ ë¦¬ëˆ…ìŠ¤ ì»¨í…Œì´ë„ˆë¼ê³  í•˜ê³  ë‹¨ìˆœíˆ í”„ë¡œì„¸ìŠ¤ë¥¼ ê²©ë¦¬ì‹œí‚¤ê¸° ë•Œë¬¸ì— ê°€ë³ê³  ë¹ ë¥´ê²Œ ë™ì‘í•©ë‹ˆë‹¤. CPUë‚˜ ë©”ëª¨ë¦¬ëŠ” ë”± í”„ë¡œì„¸ìŠ¤ê°€ í•„ìš”í•œ ë§Œí¼ë§Œ ì¶”ê°€ë¡œ ì‚¬ìš©í•˜ê³  ì„±ëŠ¥ì ìœ¼ë¡œë„ ê±°ì˜ ì†ì‹¤ì´ ì—†ìŠµë‹ˆë‹¤.   í•˜ë‚˜ì˜ ì„œë²„ì— ì—¬ëŸ¬ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ë©´ ì„œë¡œ ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šê³  ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ë˜ì–´ ë§ˆì¹˜ ê°€ë²¼ìš´ Virtual Machineì„ ì‚¬ìš©í•˜ëŠ” ëŠë‚Œì„ ì¤ë‹ˆë‹¤.         ì´ë¯¸ì§€(Image)  ë„ì»¤ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ê°œë…ì€ ì»¨í…Œì´ë„ˆì™€ í•¨ê»˜ ì´ë¯¸ì§€ë¼ëŠ” ê°œë…ì…ë‹ˆë‹¤.      ì´ë¯¸ì§€ëŠ”Â ì»¨í…Œì´ë„ˆ ì‹¤í–‰ì— í•„ìš”í•œ íŒŒì¼ê³¼ ì„¤ì •ê°’ë“±ì„ í¬í•¨í•˜ê³  ìˆëŠ” ê²ƒìœ¼ë¡œ ìƒíƒœê°’ì„ ê°€ì§€ì§€ ì•Šê³  ë³€í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.(Immutable)   ì»¨í…Œì´ë„ˆëŠ” ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰í•œ ìƒíƒœë¼ê³  ë³¼ ìˆ˜ ìˆê³  ì¶”ê°€ë˜ê±°ë‚˜ ë³€í•˜ëŠ” ê°’ì€ ì»¨í…Œì´ë„ˆì— ì €ì¥ë©ë‹ˆë‹¤. ê°™ì€ ì´ë¯¸ì§€ì—ì„œ ì—¬ëŸ¬ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•  ìˆ˜ ìˆê³  ì»¨í…Œì´ë„ˆì˜ ìƒíƒœê°€ ë°”ë€Œê±°ë‚˜ ì»¨í…Œì´ë„ˆê°€ ì‚­ì œë˜ë”ë¼ë„ ì´ë¯¸ì§€ëŠ” ë³€í•˜ì§€ ì•Šê³  ê·¸ëŒ€ë¡œ ë‚¨ì•„ìˆìŠµë‹ˆë‹¤.   ubuntu ì´ë¯¸ì§€ëŠ” ubuntuë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•œ ëª¨ë“  íŒŒì¼ì„ ê°€ì§€ê³  ìˆê³  MySQL ì´ë¯¸ì§€ëŠ” debianì„ ê¸°ë°˜ìœ¼ë¡œ MySQLì„ ì‹¤í–‰í•˜ëŠ”ë° í•„ìš”í•œ íŒŒì¼ê³¼ ì‹¤í–‰ ëª…ë ¹ì–´, í¬íŠ¸ ì •ë³´ë“±ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.   ë§ê·¸ëŒ€ë¡œ ì´ë¯¸ì§€ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•œ ëª¨ë“  ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— ë” ì´ìƒ ì˜ì¡´ì„± íŒŒì¼ì„ ì»´íŒŒì¼í•˜ê³  ì´ê²ƒì €ê²ƒ ì„¤ì¹˜í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤. ì´ì œ ìƒˆë¡œìš´ ì„œë²„ê°€ ì¶”ê°€ë˜ë©´ ë¯¸ë¦¬ ë§Œë“¤ì–´ ë†“ì€ ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë°›ê³  ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤.   ë„ì»¤ ì´ë¯¸ì§€ëŠ”Â Docker hubì— ë“±ë¡í•˜ê±°ë‚˜Â Docker RegistryÂ ì €ì¥ì†Œë¥¼ ì§ì ‘ ë§Œë“¤ì–´ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.             ğŸ¯ íŠ¹ì§•  ë ˆì´ì–´(Layer) ì €ì¥ë°©ì‹  ë„ì»¤ ì´ë¯¸ì§€ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•œ ëª¨ë“  ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— ë³´í†µ ìš©ëŸ‰ì´ ìˆ˜ë°±MBì— ì´ë¦…ë‹ˆë‹¤. ì²˜ìŒ ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë°›ì„ ë• í¬ê²Œ ë¶€ë‹´ì´ ì•ˆë˜ì§€ë§Œ ê¸°ì¡´ ì´ë¯¸ì§€ì— íŒŒì¼ í•˜ë‚˜ ì¶”ê°€í–ˆë‹¤ê³  ìˆ˜ë°±MBë¥¼ ë‹¤ì‹œ ë‹¤ìš´ë°›ëŠ”ë‹¤ë©´ ë§¤ìš° ë¹„íš¨ìœ¨ì ì¼ ìˆ˜ ë°–ì— ì—†ìŠµë‹ˆë‹¤.      ë„ì»¤ëŠ” ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´Â ë ˆì´ì–´ë¼ëŠ” ê°œë…ì„ ì‚¬ìš©í•˜ê³  ìœ ë‹ˆì˜¨ íŒŒì¼ ì‹œìŠ¤í…œì„ ì´ìš©í•˜ì—¬ ì—¬ëŸ¬ê°œì˜ ë ˆì´ì–´ë¥¼ í•˜ë‚˜ì˜ íŒŒì¼ì‹œìŠ¤í…œìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. ì´ë¯¸ì§€ëŠ” ì—¬ëŸ¬ê°œì˜ ì½ê¸° ì „ìš©Â ë ˆì´ì–´ë¡œ êµ¬ì„±ë˜ê³  íŒŒì¼ì´ ì¶”ê°€ë˜ê±°ë‚˜ ìˆ˜ì •ë˜ë©´ ìƒˆë¡œìš´ ë ˆì´ì–´ê°€ ìƒì„±ë©ë‹ˆë‹¤.   ubuntu ì´ë¯¸ì§€ê°€Â AÂ +Â BÂ +Â Cì˜ ì§‘í•©ì´ë¼ë©´, ubuntu ì´ë¯¸ì§€ë¥¼ ë² ì´ìŠ¤ë¡œ ë§Œë“  nginx ì´ë¯¸ì§€ëŠ”Â AÂ +Â BÂ +Â CÂ +Â nginxê°€ ë©ë‹ˆë‹¤.   webapp ì´ë¯¸ì§€ë¥¼ nginx ì´ë¯¸ì§€ ê¸°ë°˜ìœ¼ë¡œ ë§Œë“¤ì—ˆë‹¤ë©´Â AÂ +Â BÂ +Â CÂ +Â nginxÂ +Â sourceÂ ë ˆì´ì–´ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.   webapp ì†ŒìŠ¤ë¥¼ ìˆ˜ì •í•˜ë©´Â A,Â B,Â C,Â nginxÂ ë ˆì´ì–´ë¥¼ ì œì™¸í•œ ìƒˆë¡œìš´Â source(v2)Â ë ˆì´ì–´ë§Œ ë‹¤ìš´ë°›ìœ¼ë©´ ë˜ê¸° ë•Œë¬¸ì— êµ‰ì¥íˆ íš¨ìœ¨ì ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.         ì´ë¯¸ì§€ ê²½ë¡œ     ì´ë¯¸ì§€ëŠ” url ë°©ì‹ìœ¼ë¡œ ê´€ë¦¬í•˜ë©° íƒœê·¸ë¥¼ ë¶™ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.   ubuntu 14.04 ì´ë¯¸ì§€ëŠ” docker.io/library/ubuntu:14.04 ë˜ëŠ” docker.io/libray/ubuntu:trusty ì´ê³  docker.io/library ëŠ” ìƒëµ ê°€ëŠ¥í•˜ë©° ubuntu:14.04ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.   ì´ëŸ¬í•œ ë°©ì‹ì€ ì´í•´í•˜ê¸° ì‰½ê³  í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©° íƒœê·¸ ê¸°ëŠ¥ì„ ì˜ ì´ìš©í•˜ë©´ í…ŒìŠ¤íŠ¸ë‚˜ ë¡¤ë°±ë„ ì‰½ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.         Dockerfile  FROM subicura/vertx3:3.3.1 MAINTAINER chungsub.kim@purpleworks.co.kr  ADD build/distributions/app-3.3.1.tar / ADD config.template.json /app-3.3.1/bin/config.json ADD docker/script/start.sh /usr/local/bin/ RUN ln -s /usr/local/bin/start.sh /start.sh  EXPOSE 8080 EXPOSE 7000  CMD [\"start.sh\"]  ë„ì»¤ëŠ” ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ê¸° ìœ„í•´Â Dockerfile ì´ë¼ëŠ” íŒŒì¼ì— ìì²´ DSLDomain-specific language ì–¸ì–´ë¥¼ ì´ìš©í•˜ì—¬ ì´ë¯¸ì§€ ìƒì„± ê³¼ì •ì„ ì‘ì„±í•©ë‹ˆë‹¤.         Docker Hub  ë„ì»¤ ì´ë¯¸ì§€ì˜ ìš©ëŸ‰ì€ ë³´í†µ ìˆ˜ë°± MBì´ê³ , ìˆ˜ GBê°€ ë„˜ëŠ” ê²½ìš°ë„ í”í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í° ìš©ëŸ‰ì˜ ì´ë¯¸ì§€ë¥¼ ì„œë²„ì— ì €ì¥í•˜ê³  ê´€ë¦¬í•˜ëŠ” ê²ƒì€ ì‰½ì§€ ì•Šì€ë° ë„ì»¤ëŠ” Docker hubë¥¼ í†µí•´ ê³µê°œ ì´ë¯¸ì§€ë¥¼ ë¬´ë£Œë¡œ ê´€ë¦¬í•´ ì¤ë‹ˆë‹¤.          Commandì™€ API  ë„ì»¤ í´ë¼ì´ì–¸íŠ¸ì˜ ì»¤ë§¨ë“œ ëª…ë ¹ì–´ëŠ” ì§ê´€ì ì´ê³  ì‚¬ìš©í•˜ê¸° ì‰¬ìš°ë©° ì»¨í…Œì´ë„ˆì˜ ë³µì¡í•œ ì‹œìŠ¤í…œ êµ¬ì„±ì„ ì´í•´í•˜ì§€ ëª»í•˜ë”ë¼ë„ í¸í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ httpê¸°ë°˜ì˜ Rest APIë„ ì§€ì›í•˜ì—¬ í™•ì¥ì„±ì´ êµ‰ì¥íˆ ì¢‹ìŠµë‹ˆë‹¤.         í›Œë¥­í•œ ìƒíƒœê³„  ë„ì»¤ëŠ” êµ‰ì¥íˆ í° ìƒíƒœê³„ë¥¼ ê°€ì§€ê³  ìˆê³  ì»¤ë‹¤ë€ ê¸°ì—…ê³¼ í˜‘ë ¥í•˜ì—¬ ì‚¬ì‹¤ìƒ í´ë¼ìš°ë“œ ì»¨í…Œì´ë„ˆ ì„¸ê³„ì˜ ê¸°ì¤€ì´ ë˜ì—ˆìŠµë‹ˆë‹¤. ë¡œê¹…, ëª¨ë‹ˆí„°ë§, ìŠ¤í† ë¦¬ì§€, ë„¤íŠ¸ì›Œí¬, ì»¨í…Œì´ë„ˆ ê´€ë¦¬, ë°°í¬ë“± ë‹¤ì–‘í•œ ë¶„ì•¼ì—ì„œ ë‹¤ì–‘í•œ íˆ´ë“¤ì´ ì¡´ì¬í•©ë‹ˆë‹¤.         ì»¤ë®¤ë‹ˆí‹° ì§€ì›  ë„ì»¤ëŠ” í™ë³´ì™€ ì»¤ë®¤ë‹ˆí‹° ê´€ë¦¬ì— êµ‰ì¥íˆ ì‹ ê²½ì“°ê³  ìˆìŠµë‹ˆë‹¤. í™ˆí˜ì´ì§€ì—ì„œëŠ” ì „ì„¸ê³„ì—ì„œ ì—´ë¦¬ëŠ” ë°‹ì—… ìƒí™©ì„ ë³¼ ìˆ˜ ìˆê³  ì¼ì£¼ì¼ë§ˆë‹¤ ë°œì†¡ë˜ëŠ” ë‰´ìŠ¤ë ˆí„°ì—ëŠ” ë‹¤ì–‘í•œ ê°œë°œìë“¤ì˜ ê¸€ì´ ì‹¤ë ¤ìˆìŠµë‹ˆë‹¤.             ğŸ¯ ë„ì»¤ êµ¬ì¡°  ë„ì»¤ëŠ” í´ë¼ì´ì–¸íŠ¸-ì„œë²„ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.    Docker Daemon  ë„ì»¤ ë°ëª¬(dockerd)ì€ ë„ì»¤ REST API ìš”ì²­ì„ ë“£ê³  ë„ì»¤ ì˜¤ë¸Œì íŠ¸ë“¤(ì´ë¯¸ì§€, ì»¨í…Œì´ë„ˆ, ë„¤íŠ¸ì›Œí¬, ë³¼ë¥¨)ì„ ê´€ë¦¬í•©ë‹ˆë‹¤. ë˜í•œ ë„ì»¤ ë°ëª¬ì€ ë„ì»¤ ì„œë¹„ìŠ¤ë¥¼ ê´€ë¦¬í•˜ëŠ” ë‹¤ë¥¸ ë„ì»¤ ë°ëª¬ê³¼ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.       Docker Client  ë„ì»¤ í´ë¼ì´ì–¸íŠ¸(docker)ëŠ” ë„ì»¤ í˜¸ìŠ¤íŠ¸ì™€ í†µì‹ í•˜ê¸° ìœ„í•œ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, docker run ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ë„ì»¤ í´ë¼ì´ì–¸íŠ¸ëŠ” í•´ë‹¹ ëª…ë ¹ì–´ë¥¼ REST API Callìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ë„ì»¤ ë°ëª¬(dockerd)ìœ¼ë¡œ ì „ì†¡í•©ë‹ˆë‹¤.   ë„ì»¤ í´ë¼ì´ì–¸íŠ¸ì˜ ì£¼ìš” ëª©ì ì€ ì§ì ‘ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì—ì„œ ì´ë¯¸ì§€ë¥¼ ë°›ì•„ í˜¸ìŠ¤íŠ¸ì—ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.       Docker Registries  Docker RegistriesëŠ” ë„ì»¤ ì´ë¯¸ì§€ ì €ì¥ì†Œ ì—­í• ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.       Docker Objects  Docker ObjectëŠ” Docker Daemonì— ì˜í•´, ìƒì„± ë° ê´€ë¦¬ë˜ëŠ” ì´ë¯¸ì§€, ì»¨í…Œì´ë„ˆ, ë„¤íŠ¸ì›Œí¬, ë³¼ë¥¨ ë“±ì˜ ê°œì²´ë¥¼ ë§í•©ë‹ˆë‹¤.             ğŸ³ ë„ì»¤ ì„¤ì¹˜  ê° OSë³„ ì„¤ì¹˜ ë°©ë²•ì€ ë‹¤ìŒ ë§í¬ì—ì„œ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.     MacOSì—ì„œ ë„ì»¤ ì„¤ì¹˜   Linuxì—ì„œ ë„ì»¤ ì„¤ì¹˜   Windowsì—ì„œ ë„ì»¤ ì„¤ì¹˜             ğŸ™‡ğŸ»â€â™‚ï¸ ì°¸ê³ ì‚¬ì´íŠ¸     https://subicura.com   https://www.daleseo.com  ","categories": ["Docker"],
        "tags": ["Docker","Container"],
        "url": "/docker/docker-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0/",
        "teaser": null
      },{
        "title": "ğŸ³ Docker ê¸°ë³¸ ëª…ë ¹ì–´",
        "excerpt":"ğŸ’¾ ë„ì»¤ì—ì„œ ìì£¼ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´ë¥¼ ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤.       ğŸ¯ ì»¨í…Œì´ë„ˆ ê´€ë ¨ ëª…ë ¹ì–´  Docker CLI ë„êµ¬ëŠ” Docker ì»¨í…Œì´ë„ˆ(container)ì˜ íš¨ê³¼ì ì¸ ê´€ë¦¬ë¥¼ ìœ„í•´ì„œ ë‹¤ì–‘í•œ ì»¤ë§¨ë“œ(command)ë¥¼ ì œê³µí•©ë‹ˆë‹¤.   ì»¨í…Œì´ë„ˆ ì¡°íšŒ  docker psÂ ì»¤ë§¨ë“œëŠ” Docker ì»¨í…Œì´ë„ˆë¥¼ ì¡°íšŒë¥¼ ìœ„í•´ ì‚¬ìš©ë˜ë©° ê¸°ë³¸ì ìœ¼ë¡œ ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆ ëª©ë¡ì´ ì¶œë ¥ë©ë‹ˆë‹¤.   # ê¸°ë³¸ ì¡°íšŒ $ docker ps  # -a ì˜µì…˜ # í˜„ì¬ ì¤‘ì§€ë˜ì–´ ìˆëŠ” ì»¨í…Œì´ë„ˆê¹Œì§€ í•¨ê»˜ ì¶œë ¥ë©ë‹ˆë‹¤. $ docker ps -a  # -s ì˜µì…˜ # ê° ì»¨í…Œì´ë„ˆì˜ ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ê¹Œì§€ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. $ docker ps -s  # -f ì˜µì…˜ # ì¡°íšŒ ê²°ê³¼ë¥¼ íŠ¹ì • ì¡°ê±´ì— ë”°ë¼ í•„í„°ë§í•´ì„œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. # ì˜ˆë¥¼ ë“¤ì–´, íŠ¹ì • ì´ë¯¸ì§€ë¡œ ë¶€í„° ë§Œë“¤ì–´ì§„ ì»¨í…Œì´ì–´ë§Œ ë³´ê³  ì‹¶ë‹¤ë©´ ancestor í•„í„°ë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤. $ docker ps -af \"ancestor=python:alpine\" CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                         PORTS               NAMES b1bae952f7a6        python:alpine       \"python -m http.servâ€¦\"   About an hour ago   Exited (137) 3 minutes ago                         amazing_chatelet 518d8bb6afaf        python:alpine       \"python3\"                About an hour ago   Exited (0) About an hour ago                       focused_gauss      ì»¨í…Œì´ë„ˆ ì‹¤í–‰  docker runÂ ì»¤ë§¨ë“œëŠ” ìƒë‹¹íˆ ì—¬ëŸ¬ê°€ì§€ ì˜µì…˜ì„ í†µí•´ ë‹¤ì–‘í•œ ë°©ì‹ìœ¼ë¡œ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ í•´ì¤ë‹ˆë‹¤.  # ê¸°ë³¸ ì‹¤í–‰ # $ docker run (&lt;ì˜µì…˜&gt;) &lt;ì´ë¯¸ì§€ ì‹ë³„ì&gt; (&lt;ëª…ë ¹ì–´&gt;) (&lt;ì¸ì&gt;) $ docker run hello-world  # -d ì˜µì…˜ # ì»¨í…Œì´ë„ˆë¥¼ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰ # -d ì˜µì…˜ì—†ì´ ì‹¤í–‰í–ˆë‹¤ë©´, í•´ë‹¹ í„°ë¯¸ë„ì—ì„œ Ctrl + Cë¥¼ ëˆŒëŸ¬ì„œ ë¹ ì ¸ë‚˜ì˜¤ëŠ” ìˆœê°„ í•´ë‹¹ ì»¨í…Œì´ë„ˆëŠ” ì¢…ë£Œë  ê²ƒì…ë‹ˆë‹¤. $ docker run -d python:3.8-alpine python -m http.server  # -it ì˜µì…˜ # -iì™€ -të¥¼ ë™ì‹œì— ì‚¬ìš©í•œ ê²ƒìœ¼ë¡œ í„°ë¯¸ë„ ì…ë ¥ì„ ìœ„í•œ ì˜µì…˜ $ docker run -it python:3.8-alpine $ docker run -it python:3.8-alpine /bin/sh  # -name ì˜µì…˜ # ì»¨í…Œì´ë„ˆ ì´ë¦„ ì„¤ì • $ docker run -d --name my-server python:3.8-alpine python -m http.server  # -e ì˜µì…˜ # ì»¨í…Œì´ë„ˆ ë‚´ì—ì„œ ì‚¬ìš©í•  í™˜ê²½ë³€ìˆ˜ ì„¤ì • ## Docker ì»¨í…Œì´ë„ˆì˜ í™˜ê²½ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ê¸° ìœ„í•´ì„œëŠ” -e ì˜µì…˜ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ## ë˜í•œ, -e ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ Dockerfileì˜ ENV ì„¤ì •ë„ ë®ì–´ì¨ì§€ê²Œ ë©ë‹ˆë‹¤. $ docker run -e FOO=bar python:3.8-alpine env  # -p ì˜µì…˜ # í˜¸ìŠ¤íŠ¸ì™€ ì»¨í…Œì´ë„ˆì˜ í¬íŠ¸ë¥¼ ì—°ê²° (í¬ì›Œë”©) $ docker run -d -p 80:8000 python:3.8-alpine python -m http.server  # -v ì˜µì…˜ # í˜¸ìŠ¤íŠ¸ì™€ ì»¨í…Œì´ë„ˆì˜ ë””ë ‰í† ë¦¬ë¥¼ ì—°ê²° (ë§ˆìš´íŠ¸) $ echo Hi &gt; test.txt $ docker run -v `pwd`:/etc python:3.8-alpine cat /etc/test.txt Hi  # -rm ì˜µì…˜ # ì»¨í…Œì´ë„ˆê°€ ì¢…ë£Œë  ë•Œ ì»¨í…Œì´ë„ˆì™€ ê´€ë ¨ëœ ë¦¬ì†ŒìŠ¤(íŒŒì¼ ì‹œìŠ¤í…œ, ë³¼ë¥¨)ê¹Œì§€ ê¹¨ë—ì´ ì œê±°í•´ì¤ë‹ˆë‹¤. $ docker run --rm -it ubuntu:16.04 /bin/bash      ì»¨í…Œì´ë„ˆ ì¤‘ì§€  ì‹¤í–‰ ì¤‘ì¸ Docker ì»¨í…Œì´ë„ˆë¥¼ ì¤‘ì§€í•˜ë ¤ë©´Â docker stopÂ ì»¤ë§¨ë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì¤‘ì§€í•˜ê³  ì‹¶ì€ ì»¨í…Œì´ë„ˆì˜ ì•„ì´ë””ë‚˜ ì´ë¦„ì„ ì¸ìë¡œ ë„˜ê¹ë‹ˆë‹¤.  # ì•„ì´ë””ë‚˜ ì´ë¦„ì„ ì¸ìë¡œ ì»¨í…Œì´ë„ˆ ì¤‘ì§€ $ docker stop container_name container_name  # ì¡°íšŒ $ docker ps -af \"name=container_name\" CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                        PORTS               NAMES b1bae952f7a6        python:alpine       \"python -m http.servâ€¦\"   About an hour ago   Exited (137) 32 seconds ago                       container_name  # ì»¨í…Œì´ë„ˆ ì „ì²´ ì¤‘ì§€ $ docker stop $(docker ps -a -q)      ì»¨í…Œì´ë„ˆ ì‹œì‘  ì¤‘ì§€ëœ Docker ì»¨í…Œì´ë„ˆë¥¼ ë‹¤ì‹œ ì‹œì‘í•˜ë ¤ë©´Â docker startÂ ì»¤ë§¨ë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ ì¬ì‹œì‘í•˜ê³  ì‹¶ì€ ì»¨í…Œì´ë„ˆì˜ ì•„ì´ë””ë‚˜ ì´ë¦„ì„ ì¸ìë¡œ ë„˜ê¸°ë©´ ë©ë‹ˆë‹¤.  # ì•„ì´ë””ë‚˜ ì´ë¦„ì„ ì¸ìë¡œ ì»¨í…Œì´ë„ˆ ì‹œì‘ $ docker start b1bae952f7m1 b1bae952f7m1  $ docker ps -af \"id=b1bae952f7m1\" CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS               NAMES b1bae952f7m1        python:alpine       \"python -m http.servâ€¦\"   About an hour ago   Up About a minute                       amazing_chatelet      ì»¨í…Œì´ë„ˆ ìƒëŒ€ë¡œ ëª…ë ¹ì–´ ì‹¤í–‰  ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆ ìƒëŒ€ë¡œ ëª…ë ¹ì–´ë¥¼ ë‚ ë¦¬ê³  ì‹¶ë‹¤ë©´Â docker execÂ ì»¤ë§¨ë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì–´ë–¤ ì»¨í…Œì´ë„ˆë¥¼ ìƒëŒ€ë¡œÂ lsÂ ì»¤ë§¨ë“œë¥¼ ì‹¤í–‰í•˜ê³  ì‹¶ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•˜ë©´ ë©ë‹ˆë‹¤.  $ docker exec b1bae952f7a6 ls bin dev etc home lib media mnt ...ìƒëµ...  -itÂ ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ í•´ë‹¹ ì»¨í…Œì´ë„ˆì˜ ì‰˜(shell)ê³¼ ì‘ì ‘ ìƒí˜¸ì‘ìš©í•˜ë©´ì„œ ì—°ì†ìœ¼ë¡œ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.   $ docker exec -it container_name /bin/sh  $ ls bin    etc    lib    mnt    proc   run    srv    tmp    var dev    home   media  opt    root   sbin   sys    usr      ì»¨í…Œì´ë„ˆ ë¡œê·¸ í™•ì¸  ì»¨í…Œì´ë„ˆì˜ ë¡œê·¸ë¥¼ í™•ì¸í•˜ë ¤ë©´Â docker logsÂ ì»¤ë§¨ë“œë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.  $ docker logs b1bae952f7a6  # -f ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ ì‹¤ì‹œê°„ ë¡œê·¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. $ docker logs -f container_name  # ë§ˆì§€ë§‰ 10ì¤„ë§Œ ì¶œë ¥ $ docker logs --tail 10 container_name      ì»¨í…Œì´ë„ˆ ìƒì„¸ ì •ë³´  íŠ¹ì • ì»¨í…Œì´ë„ˆì˜ ìƒì„¸ ì •ë³´ë¥¼ í™•ì¸í•˜ê³  ì‹¶ë‹¤ë©´,Â docker inspectÂ ì»¤ë§¨ë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.  $ docker inspect 8c27a672e23c [     {         \"Id\": \"8c27a672e23c1c48aaaa0d2e65325aefb36db2934f724634dd4f5684397014ba\",         \"Created\": \"2020-04-25T18:23:24.651490253Z\",         \"Path\": \"/bin/sh\",         \"Args\": [],         \"State\": {             \"Status\": \"exited\",             \"Running\": false,             \"Paused\": false,             \"Restarting\": false,             \"OOMKilled\": false,             \"Dead\": false,             \"Pid\": 0,             \"ExitCode\": 0,             \"Error\": \"\",             \"StartedAt\": \"2020-04-25T18:23:25.300618082Z\",             \"FinishedAt\": \"2020-04-25T18:23:25.347690066Z\"         },         \"Image\": \"sha256:f70734b6a266dcb5f44c383274821207885b549b75c8e119404917a61335981a\",         ...ìƒëµ...     } ]      ì»¨í…Œì´ë„ˆ ì œê±°  ì»¨í…Œì´ë„ˆë¥¼ ì œê±°í•˜ê³  ì‹¶ì„ ë•ŒëŠ”Â docker rmÂ ì»¤ë§¨ë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì¤‘ì§€ë˜ì–´ ìˆëŠ” ì»¨í…Œì´ë„ˆëŠ” ì•„ë¬´ ì˜µì…˜ì—†ì´ ì œê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  # ì»¨í…Œì´ë„ˆ ì œê±° $ docker rm 3722f14f4d2a 3722f14f4d2a  # ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë°”ë¡œ ì œê±°ê°€ í—ˆìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. # ì´ ë•ŒëŠ”, -f ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ í•´ë‹¹ ì»¨í…Œì´ë„ˆë¥¼ ë¨¼ì € ì •ì§€ì‹œí‚¨ ë‹¤ìŒì— ì œê±°í•´ì¤ë‹ˆë‹¤. $ docker rm d2f83048485e Error response from daemon: You cannot remove a running container d2f83048485e4fe694dac374be152906e4e20da400305e5095bbb476bcaf718d. Stop the container before attempting removal or force remove $ docker rm -f d2f83048485e  # ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆëŠ” ê±´ë“¤ì§€ ì•Šê³  ì¤‘ì§€ë˜ì–´ ìˆëŠ” ëª¨ë“  ì»¨í…Œì´ë„ˆë¥¼ ì œê±°í•˜ê³  ì‹¶ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•˜ë©´ ë©ë‹ˆë‹¤. $ docker rm $(docker ps -a -q)      ì»¨í…Œì´ë„ˆ ë ˆí¼ëŸ°ìŠ¤ ì°¸ê³      Docker run reference   docker run   docker ps   docker stop   docker start   docker exec   docker logs   docker attach   docker inspect   docker rm             ğŸ¯ ë³¼ë¥¨/ë°”ì¸ë“œ ë§ˆìš´íŠ¸ ê´€ë ¨ ëª…ë ¹ì–´  Docker ì»¨í…Œì´ë„ˆ(container)ì— ì“°ì—¬ì§„ ë°ì´í„°ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆê°€ ì‚­ì œë  ë•Œ í•¨ê»˜ ì‚¬ë¼ì§€ê²Œ ë©ë‹ˆë‹¤. Dockerì—ì„œ ëŒì•„ê°€ëŠ” ë§ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì»¨í…Œì´ë„ˆì˜ ìƒëª… ì£¼ê¸°ì™€ ê´€ê³„ì—†ì´ ë°ì´í„°ë¥¼ ì˜ì†ì ìœ¼ë¡œ ì €ì¥ì„ í•´ì•¼í•˜ëŠ” ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ì—¬ëŸ¬ ê°œì˜ Docker ì»¨í…Œì´ë„ˆê°€ í•˜ë‚˜ì˜ ì €ì¥ ê³µê°„ì„ ê³µìœ í•´ì„œ ë°ì´í„°ë¥¼ ì½ê±°ë‚˜ ì¨ì•¼í•˜ëŠ” ê²½ìš°ë„ ìˆìŠµë‹ˆë‹¤.   ì´ë ‡ê²Œ Docker ì»¨í…Œì´ë„ˆì˜ ìƒëª… ì£¼ê¸°ì™€ ê´€ê³„ì—†ì´ ë°ì´í„°ë¥¼ ì˜ì†ì ìœ¼ë¡œ ì €ì¥í•  ìˆ˜ ìˆë„ë¡ DockerëŠ” ë‘ê°€ì§€ ì˜µì…˜ì„ ì œê³µí•©ë‹ˆë‹¤. ì²«ë²ˆì§¸ëŠ” Docker ë³¼ë¥¨(volume), ë‘ë²ˆì§¸ëŠ” ë°”ì¸ë“œ ë§ˆìš´íŠ¸(bind mount)ì…ë‹ˆë‹¤.        ë³¼ë¥¨ ìƒì„±  docker volume createÂ ì»¤ë§¨ë“œë¥¼ ì´ìš©í•´ì„œ ë³¼ë¥¨ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  $ docker volume create our-vol our-vol      ë³¼ë¥¨ ì¡°íšŒ  docker volume lsÂ ì»¤ë§¨ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ë³¼ë¥¨ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  $ docker volume ls DRIVER              VOLUME NAME local               our-vol      ë³¼ë¥¨ ìƒì„¸ ì •ë³´  docker volume inspectÂ ì»¤ë§¨ë“œë¥¼ í†µí•´ í•´ë‹¹ ë³¼ë¥¨ì„ ì¢€ ë” ìƒì„¸í•œ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  $ docker volume inspect our-vol [     {         \"CreatedAt\": \"2020-05-09T17:03:46Z\",         \"Driver\": \"local\",         \"Labels\": {},         \"Mountpoint\": \"/var/lib/docker/volumes/our-vol/_data\",         \"Name\": \"our-vol\",         \"Options\": {},         \"Scope\": \"local\"     } ]  MountpointÂ í•­ëª©ì„ ë³´ë©´ í•´ë‹¹ ë³¼ë¥¨ì´ ì»´í“¨í„°ì˜ ì–´ëŠ ê²½ë¡œì— ìƒì„±ë˜ì—ˆëŠ”ì§€ë¥¼ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.     ì»¨í…Œì´ë„ˆì— ë³¼ë¥¨ ë§ˆìš´íŠ¸  ì»¨í…Œì´ë„ˆê°€ ë³¼ë¥¨ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ë³¼ë¥¨ì„ ì»¨í…Œì´ë„ˆì— ë§ˆìš´íŠ¸(mount)í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤.Â docker runÂ ì»¤ë§¨ë“œë¡œ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•  ë•ŒÂ -vÂ ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ë§ˆìš´íŠ¸í•©ë‹ˆë‹¤. ì½œë¡ (:)ì„ êµ¬ë¶„ìë¡œ í•´ì„œ ì•ì—ëŠ” ë§ˆìš´íŠ¸í•  ë³¼ë¥¨ëª… ë’¤ì—ëŠ” ì»¨í…Œì´ë„ˆ ë‚´ì˜ ê²½ë¡œë¥¼ ëª…ì‹œí•´ì£¼ë©´ ë©ë‹ˆë‹¤.   # `our-vol`Â ë³¼ë¥¨ì„Â `one`Â ì»¨í…Œì´ë„ˆì˜Â `/app`Â ê²½ë¡œì— ë§ˆìš´íŠ¸, touch ëª…ë ¹ì–´ë¡œ íŒŒì¼ ìƒì„± $ docker run -v our-vol:/app --name one busybox touch /app/test.txt  touch /app/test.txtÂ ì»¤ë§¨ë“œë¥¼ ì‹¤í–‰í•˜ì˜€ê¸° ë•Œë¬¸ì—,Â test.txt íŒŒì¼ì´Â our-volÂ ë³¼ë¥¨ì˜ ê²½ë¡œì—ë„ ë‚¨ì•„ìˆìŠµë‹ˆë‹¤.  $ ls /var/lib/docker/volumes/our-vol/_data test.txt  docker inspectÂ ì»¤ë§¨ë“œë¡œ ì»¨í…Œì´ë„ˆì˜ ìƒì„¸ ì •ë³´ë¥¼ í™•ì¸í•´ë³´ë©´Â our-volÂ ë³¼ë¥¨ì´Â volumeÂ íƒ€ì…ìœ¼ë¡œ ë§ˆìš´íŠ¸ë˜ì–´ ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  $ docker inspect one ...ìƒëµ...     \"Mounts\": [         {             \"Type\": \"volume\",             \"Name\": \"our-vol\",             \"Source\": \"/var/lib/docker/volumes/our-vol/_data\",             \"Destination\": \"/app\",             \"Driver\": \"local\",             \"Mode\": \"z\",             \"RW\": true,             \"Propagation\": \"\"         }     ], ...ìƒëµ...      ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆì—ë„ ë³¼ë¥¨ ë§ˆìš´íŠ¸  ê°™ì€Â our-volÂ ë³¼ë¥¨ì„Â twoÂ ì»¨í…Œì´ë„ˆì˜Â /appÂ ê²½ë¡œì— ë§ˆìš´íŠ¸ë¥¼ í•´ë³´ê² ìŠµë‹ˆë‹¤.Â ls /appÂ ì»¤ë§¨ë“œë¥¼ ì‹¤í–‰í•´ë³´ë‹ˆ,Â oneÂ ì»¨í…Œì´ë„ˆê°€ ë³¼ë¥¨ì— ìƒì„±í•´ë†“ì€ íŒŒì¼ì´ ê·¸ëŒ€ë¡œ ë³´ì´ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  $ docker run -v our-vol:/app --name two busybox ls /app test.txt  ì´ë ‡ê²Œ ì—¬ëŸ¬ ê°œì˜ ì»¨í…Œì´ë„ˆê°€ í•˜ë‚˜ì˜ ë³¼ë¥¨ì— ì ‘ê·¼í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì»¨í…Œì´ë„ˆ ê°„ ë°ì´í„° ê³µìœ ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.     ë³¼ë¥¨ ì‚­ì œ  docker volume rmÂ ì»¤ë§¨ë“œë¥¼ ì‚¬ìš©í•´ì„œ ë³¼ë¥¨ì„ ì œê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë§Œì•½ ì œê±°í•˜ë ¤ëŠ” ë³¼ë¥¨ì´ ë§ˆìš´íŠ¸ë˜ì–´ ìˆëŠ” ì»¨í…Œì´ë„ˆê°€ ìˆì„ ë•ŒëŠ” í•´ë‹¹ ë³¼ë¥¨ì´ ì œê±°ê°€ ë˜ì§€ê°€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ëŸ´ ë•ŒëŠ” í•´ë‹¹ ë³¼ë¥¨ì´ ë§ˆìš´íŠ¸ë˜ì–´ ìˆëŠ” ëª¨ë“  ì»¨í…Œì´ë„ˆë¥¼ ë¨¼ì € ì‚­ì œí•˜ê³ , ë³¼ë¥¨ì„ ì‚­ì œí•´ì•¼ í•©ë‹ˆë‹¤.  # ì»¨í…Œì´ë„ˆ ì‚­ì œ $ docker rm -f one two one two  # ë³¼ë¥¨ ì‚­ì œ $ docker volume rm our-vol our-vol      ë³¼ë¥¨ ì²­ì†Œ  docker volume pruneÂ ì»¤ë§¨ë“œë¥¼ ì´ìš©í•´ì„œ ë§ˆìš´íŠ¸ë˜ì–´ ìˆì§€ ì•Šì€ ëª¨ë“  ë³¼ë¥¨ì„ í•œë²ˆì— ì œê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  $ docker volume prune WARNING! This will remove all local volumes not used by at least one container. Are you sure you want to continue? [y/N] y      ë°”ì¸ë“œ ë§ˆìš´íŠ¸  Docker ì»¨í…Œì´ë„ˆì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•œ ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ ë°”ì¸ë“œ ë§ˆìš´íŠ¸(bind mount)ë¼ëŠ” ê²ƒë„ ìˆìŠµë‹ˆë‹¤. ë°”ì¸ë“œ ë§ˆìš´íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ í˜¸ìŠ¤íŠ¸ íŒŒì¼ ì‹œìŠ¤í…œì˜ íŠ¹ì • ê²½ë¡œë¥¼ ì»¨í…Œì´ë„ˆë¡œ ë°”ë¡œ ë§ˆìš´íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.   ë°”ì¸ë“œ ë§ˆìš´íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì€Â docker runÂ ì»¤ë§¨ë“œë¥¼ ì‹¤í–‰í•  ë•Œ,Â -vÂ ì˜µì…˜ì˜ ì½œë¡ (:) ì• ë¶€ë¶„ì— ë§ˆìš´íŠ¸ëª… ëŒ€ì‹ ì— í˜¸ìŠ¤íŠ¸ì˜ ê²½ë¡œë¥¼ ì§€ì •í•´ì£¼ëŠ” ê²ƒì…ë‹ˆë‹¤.   ì˜ˆë¥¼ ë“¤ì–´, í˜„ì¬ ê²½ë¡œì—Â test.txtÂ íŒŒì¼ì„ ìƒì„±í•˜ê³ , í•´ë‹¹ í˜¸ìŠ¤íŠ¸ ê²½ë¡œë¥¼ ì»¨í…Œì´ë„ˆì˜Â /appÂ ê²½ë¡œì— ë§ˆìš´íŠ¸í•©ë‹ˆë‹¤. ì»¨í…Œì´ë„ˆì— í„°ë¯¸ë„ì— ì ‘ì†í•˜ì—¬Â ls /appÂ ì»¤ë§¨ë“œë¥¼ ì‹¤í–‰í•´ë³´ë©´Â test.txtÂ íŒŒì¼ì´ ì¡´ì¬í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  # íŒŒì¼ ìƒì„± $ touch test.txt  # ë°”ì¸ë“œ ë§ˆìš´íŠ¸, ì»¨í…Œì´ë„ˆ ì‰˜ ì ‘ì† $ docker run -v `pwd`:/app -it --name one busybox /bin/bash  # ì¡°íšŒ $ ls /app test.txt  ë°˜ëŒ€ë¡œ ì»¨í…Œì´ë„ˆì˜Â /appÂ ê²½ë¡œ ìƒì—ì„œÂ test2.txtÂ íŒŒì¼ì„ ì‹¤í–‰í•´ë³´ë©´ í˜¸ìŠ¤íŠ¸ì˜ í˜„ì¬ ê²½ë¡œì—ì„œë„ í•´ë‹¹ íŒŒì¼ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  # ì»¨í…Œì´ë„ˆ ë‚´ì—ì„œ íŒŒì¼ ìƒì„± $ touch /app/test2.txt  # ì»¨í…Œì´ë„ˆ ì‰˜ ì¢…ë£Œ $ exit  # í˜¸ìŠ¤íŠ¸ì—ì„œ ì¡°íšŒ $ ls test.txt   test2.txt      ë³¼ë¥¨ VS ë°”ì¸ë“œ ë§ˆìš´íŠ¸  ë³¼ë¥¨(volume)ê³¼ ë°”ì¸ë“œ ë§ˆìš´íŠ¸(bind mount)ì˜ ê°€ì¥ í° ì°¨ì´ì ì€ Dockerì˜ í•´ë‹¹ ë§ˆìš´íŠ¸ í¬ì¸íŠ¸ ê´€ë¦¬ ì—¬ë¶€ì…ë‹ˆë‹¤.   ë³¼ë¥¨ì„ ì‚¬ìš©í•  ë•ŒëŠ” ìš°ë¦¬ê°€ ìŠ¤ìŠ¤ë¡œ ë³¼ë¥¨ì„ ìƒì„±í•˜ê±°ë‚˜ ì‚­ì œí•´ì•¼í•˜ëŠ” ë¶ˆí¸í•¨ì´ ìˆì§€ë§Œ, í•´ë‹¹ ë³¼ë¥¨ì€ Docker ìƒì—ì„œ ì´ë¯¸ì§€(image)ë‚˜ ì»¨í…Œì´ë„ˆ(container), ë„¤íŠ¸ì›Œí¬(network)ì™€ ë¹„ìŠ·í•œ ë°©ì‹ìœ¼ë¡œ ê´€ë¦¬ê°€ ë˜ëŠ” ì´ì ì´ ìˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ëŒ€ë¶€ë¶„ì˜ ìƒí™©ì—ì„œëŠ” ë³¼ë¥¨ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê¶Œì¥ë˜ì§€ë§Œ ì»¨í…Œì´ë„ˆí™”ëœ ë¡œì»¬ ê°œë°œ í™˜ê²½ì„ êµ¬ì„±í•  ë•ŒëŠ” ë°”ì¸ë“œ ë§ˆìš´íŠ¸ê°€ ë” ìœ ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.   ë¡œì»¬ì—ì„œ ê°œë°œì„ í•  ë•ŒëŠ” ì¼ë°˜ì ìœ¼ë¡œ í˜„ì¬ ì‘ì—… ë””ë ‰í„°ë¦¬ì— í”„ë¡œì íŠ¸ ì €ì¥ì†Œë¥¼Â git cloneÂ ë°›ì•„ë†“ê³  ì½”ë“œë¥¼ ë³€ê²½í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ë°”ì¸ë“œ ë§ˆìš´íŠ¸ë¥¼ ì´ìš©í•´ì„œ í•´ë‹¹ ë””ë ‰í„°ë¦¬ë¥¼ ì»¨í…Œì´ë„ˆì˜ íŠ¹ì • ê²½ë¡œì— ë§ˆìš´íŠ¸í•´ì£¼ë©´ ì½”ë“œë¥¼ ë³€ê²½í•  ë•Œ ë§ˆë‹¤ ë³€ê²½ ì‚¬í•­ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì»¨í…Œì´ë„ˆë¥¼ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ì»¨í…Œì´ë„ˆë¥¼ í†µí•´ ë³€ê²½ëœ ë¶€ë¶„ë„ í˜„ì¬ ì‘ì—… ë””ë ‰í„°ë¦¬ì—ì„œ ë°”ë¡œ í™•ì¸í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— í¸ë¦¬í•©ë‹ˆë‹¤.     ë³¼ë¥¨ ë ˆí¼ëŸ°ìŠ¤ ì°¸ê³      docker volume create   docker volume ls   docker volume inspect   docker volume rm   docker volume prune             ğŸ¯ ë„¤íŠ¸ì›Œí¬ ê´€ë ¨ ëª…ë ¹ì–´  Docker ì»¨í…Œì´ë„ˆ(container)ëŠ” ê²©ë¦¬ëœ í™˜ê²½ì—ì„œ ëŒì•„ê°€ê¸° ë•Œë¬¸ì— ê¸°ë³¸ì ìœ¼ë¡œ ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆì™€ì˜ í†µì‹ ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì—¬ëŸ¬ ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼ í•˜ë‚˜ì˜ Docker ë„¤íŠ¸ì›Œí¬(network)ì— ì—°ê²°ì‹œí‚¤ë©´ ì„œë¡œ í†µì‹ ì´ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤.   ë„¤íŠ¸ì›Œí¬ ì¢…ë¥˜  Docker ë„¤íŠ¸ì›Œí¬ëŠ”Â bridge,Â host,Â overlayÂ ë“± ëª©ì ì— ë”°ë¼ ë‹¤ì–‘í•œ ì¢…ë¥˜ì˜ ë„¤íŠ¸ì›Œí¬ ë“œë¼ì´ë²„(driver)ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.     bridgeÂ ë„¤íŠ¸ì›Œí¬ëŠ” í•˜ë‚˜ì˜ í˜¸ìŠ¤íŠ¸ ì»´í“¨í„° ë‚´ì—ì„œ ì—¬ëŸ¬ ì»¨í…Œì´ë„ˆë“¤ì´ ì„œë¡œ ì†Œí†µí•  ìˆ˜ ìˆë„ë¡ í•´ì¤ë‹ˆë‹¤.   hostÂ ë„¤íŠ¸ì›Œí¬ëŠ” ì»¨í…Œì´ë„ˆë¥¼ í˜¸ìŠ¤íŠ¸ ì»´í“¨í„°ì™€ ë™ì¼í•œ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì»¨í…Œì´ë„ˆë¥¼ ëŒë¦¬ê¸° ìœ„í•´ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤.   overlayÂ ë„¤íŠ¸ì›Œí¬ëŠ” ì—¬ëŸ¬ í˜¸ìŠ¤íŠ¸ì— ë¶„ì‚°ë˜ì–´ ëŒì•„ê°€ëŠ” ì»¨í…Œì´ë„ˆë“¤ ê°„ì— ë„¤íŠ¸ì›Œí‚¹ì„ ìœ„í•´ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤.      ë„¤íŠ¸ì›Œí¬ ìƒì„±  docker network createÂ ì»¤ë§¨ë“œë¥¼ ì‚¬ìš©í•´ì„œ Docker ë„¤íŠ¸ì›Œí¬ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  $ docker network create our-net e6dfe4a9a5ec85abcb484662c30a3a0fc76df217dde76d52fac39fae8412ca68      ë„¤íŠ¸ì›Œí¬ ì¡°íšŒ  docker network ls ì»¤ë§¨ë“œë¥¼ ì‚¬ìš©í•˜ë©´ í˜„ì¬ ìƒì„±ë˜ì–´ ìˆëŠ” Docker ë„¤íŠ¸ì›Œí¬ ëª©ë¡ì„ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  $ docker network ls NETWORK ID          NAME                DRIVER              SCOPE 143496b94e57        bridge              bridge              local 311d6534f79f        host                host                local aa89f58200a6        none                null                local      ë„¤íŠ¸ì›Œí¬ ìƒì„¸ ì •ë³´  docker network inspectÂ ì»¤ë§¨ë“œë¡œ ë„¤íŠ¸ì›Œí¬ì˜ ìƒì„¸ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  $ docker network inspect our-net      ë„¤íŠ¸ì›Œí¬ì— ì»¨í…Œì´ë„ˆ ì—°ê²°  ë¨¼ì € ì»¨í…Œì´ë„ˆ í•˜ë‚˜ë¥¼Â one ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì‹¤í–‰í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.  $ docker run -itd --name one busybox 660bafdce2996378cde070dfd894731bb90745e46d2ab10d6504c0cc9f4bdea9  ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•  ë•ŒÂ --networkÂ ì˜µì…˜ì„ ëª…ì‹œí•´ì£¼ì§€ ì•Šìœ¼ë©´, ê¸°ë³¸ì ìœ¼ë¡œÂ bride ë¼ëŠ” ì´ë¦„ì˜ ë””í´íŠ¸ ë„¤íŠ¸ì›Œí¬ì— ë¶™ê²Œ ë©ë‹ˆë‹¤.  $ docker network inspect bridge ... ìƒëµ ...         \"Containers\": {             \"660bafdce2996378cde070dfd894731bb90745e46d2ab10d6504c0cc9f4bdea9\": {                 \"Name\": \"one\",                 \"EndpointID\": \"40b4bbd8385debf86eef2fc2136315e1a82fa1ef72877bfae25477d6e8e46726\",                 \"MacAddress\": \"02:42:ac:11:00:04\",                 \"IPv4Address\": \"172.17.0.4/16\",                 \"IPv6Address\": \"\"             },         }, ... ìƒëµ ...      ì´ì œ oneÂ ì»¨í…Œì´ë„ˆì™€Â our-netÂ ë„¤íŠ¸ì›Œí¬ë¥¼ ì—°ê²°í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.  Docker ë„¤íŠ¸ì›Œí¬ì— ì»¨í…Œì´ë„ˆë¥¼ ì—°ê²°í•  ë•ŒëŠ”Â docker network connectÂ ì»¤ë§¨ë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.  $ docker network connect our-net one  our-netÂ ë„¤íŠ¸ì›Œí¬ì˜ ìƒì„¸ ì •ë³´ë¥¼ ë‹¤ì‹œ í™•ì¸í•´ë³´ë©´Â ContainersÂ í•­ëª©ì—Â oneÂ ì»¨í…Œì´ë„ˆê°€ ì¶”ê°€ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.Â oneÂ ì»¨í…Œì´ë„ˆì— IPÂ 172.19.0.2ê°€ í• ë‹¹ëœ ê²ƒë„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  $ docker network inspect our-net [     {         \"Name\": \"our-net\",         \"Id\": \"e6dfe4a9a5ec85abcb484662c30a3a0fc76df217dde76d52fac39fae8412ca68\",         \"Created\": \"2020-04-26T19:23:04.563643516Z\",         \"Scope\": \"local\",         \"Driver\": \"bridge\",         \"EnableIPv6\": false,         \"IPAM\": {             \"Driver\": \"default\",             \"Options\": {},             \"Config\": [                 {                     \"Subnet\": \"172.19.0.0/16\",                     \"Gateway\": \"172.19.0.1\"                 }             ]         },         \"Internal\": false,         \"Attachable\": false,         \"Ingress\": false,         \"ConfigFrom\": {             \"Network\": \"\"         },         \"ConfigOnly\": false,         \"Containers\": {             \"660bafdce2996378cde070dfd894731bb90745e46d2ab10d6504c0cc9f4bdea9\": {                 \"Name\": \"one\",                 \"EndpointID\": \"cc490148a533d40b3aff33a421cc9a01c731c75a8deb70ab729a5358f2fd381c\",                 \"MacAddress\": \"02:42:ac:13:00:02\",                 \"IPv4Address\": \"172.19.0.2/16\",                 \"IPv6Address\": \"\"             }         },         \"Options\": {},         \"Labels\": {}     } ]      ë„¤íŠ¸ì›Œí¬ë¡œë¶€í„° ì»¨í…Œì´ë„ˆ ì—°ê²° í•´ì œ  í•˜ë‚˜ì˜ ì»¨í…Œì´ë„ˆëŠ” ì—¬ëŸ¬ ê°œì˜ ë„¤íŠ¸ì›Œí¬ì— ë™ì‹œì— ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìµœì´ˆì—Â oneÂ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•  ë•ŒÂ bridgeÂ ë„¤íŠ¸ì›Œí¬ ë¶™ì—ˆê¸° ë•Œë¬¸ì—, í˜„ì¬Â oneÂ ì»¨í…Œì´ë„ˆëŠ”Â our-netÂ ë„¤íŠ¸ì›Œí¬ì™€Â bridgeÂ ë„¤íŠ¸ì›Œí¬ì— ë™ì‹œì— ë¶™ì–´ìˆê²Œ ë©ë‹ˆë‹¤.   oneÂ ì»¨í…Œì´ë„ˆë¥¼Â bridgeÂ ë„¤íŠ¸ì›Œí¬ë¡œë¶€í„° í•´ì œ í•˜ê² ìŠµë‹ˆë‹¤. Docker ë„¤íŠ¸ì›Œí¬ë¡œë¶€í„° ì»¨í…Œì´ë„ˆì˜ ì—°ê²°ì„ ëŠì„ ë•ŒëŠ”Â docker network disconnectÂ ì»¤ë§¨ë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.  $ docker network disconnect bridge one      ë‘ë²ˆì§¸ ì»¨í…Œì´ë„ˆ ì—°ê²°  í•˜ë‚˜ì˜ ì»¨í…Œì´ë„ˆë¥¼ ë”Â our-netÂ ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°í•©ë‹ˆë‹¤. ì´ë²ˆì—ëŠ”Â --networkÂ ì˜µì…˜ì„ ì‚¬ìš©í•´ì„œ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ë©´ì„œ ë°”ë¡œ ì—°ê²°í•  ë„¤íŠ¸ì›Œí¬ë¥¼ ì§€ì •í•´ì£¼ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.  $ docker run -itd --name two --network our-net busybox 0e7fe8a59f9d3f8bd545d3e557ffd34100a09b8ebe92ae5a375f37a5d072873d      ì»¨í…Œì´ë„ˆ ê°„ ë„¤íŠ¸ì›Œí‚¹  ì»¨í…Œì´ë„ˆ ì´ë¦„ì„ í˜¸ìŠ¤íŠ¸ë„¤ì„(hostname)ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  $ docker exec one ping two PING two (172.19.0.3): 56 data bytes 64 bytes from 172.19.0.3: seq=0 ttl=64 time=0.119 ms 64 bytes from 172.19.0.3: seq=1 ttl=64 time=0.105 ms 64 bytes from 172.19.0.3: seq=2 ttl=64 time=0.116 ms 64 bytes from 172.19.0.3: seq=3 ttl=64 time=0.883 ms 64 bytes from 172.19.0.3: seq=4 ttl=64 time=0.127 ms      ë„¤íŠ¸ì›Œí¬ ì œê±°  docker network rmÂ ì»¤ë§¨ë“œë¥¼ ì‚¬ìš©í•´ì„œÂ our-netÂ ë„¤íŠ¸ì›Œí¬ë¥¼ ì œê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.   ë„¤íŠ¸ì›Œí¬ ìƒì—ì„œ ì‹¤í–‰ì¤‘ì¸ ì»¨í…Œì´ë„ˆê°€ ìˆì„ ë•ŒëŠ” ì œê±°ê°€ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë¨¼ì € í•´ë‹¹ ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°ë˜ì–´ ì‹¤í–‰ ì¤‘ì¸ ëª¨ë“  ì»¨í…Œì´ë„ˆë¥¼ ì¤‘ì§€ì‹œí‚¤ê³ , ë„¤íŠ¸ì›Œí¬ë¥¼ ì‚­ì œí•´ì•¼ í•©ë‹ˆë‹¤.  # ì»¨í…Œì´ë„ˆ ì¤‘ì§€ $ docker stop one two one two  # ë„¤íŠ¸ì›Œí¬ ì‚­ì œ $ docker network rm our-net our-net      ë„¤íŠ¸ì›Œí¬ ì²­ì†Œ  docker network pruneÂ ì»¤ë§¨ë“œë¥¼ ì´ìš©í•´ì„œ ë¶ˆí•„ìš”í•œ ë„¤íŠ¸ì›Œí¬ë¥¼ í•œë²ˆì— ëª¨ë‘ ì œê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  $ docker network prune WARNING! This will remove all networks not used by at least one container. Are you sure you want to continue? [y/N] y      ë„¤íŠ¸ì›Œí¬ ë ˆí¼ëŸ°ìŠ¤ ì°¸ê³      docker network ls   docker network create   docker network inspect   docker network connect   docker network disconnect   docker network rm   docker network prune             ğŸ¯ ì´ë¯¸ì§€ ê´€ë ¨ ëª…ë ¹ì–´  Docker CLI ë„êµ¬ëŠ” Docker ì´ë¯¸ì§€(image)ì˜ íš¨ê³¼ì ì¸ ê´€ë¦¬ë¥¼ ìœ„í•´ì„œ ë‹¤ì–‘í•œ ì»¤ë§¨ë“œ(command)ë¥¼ ì œê³µí•©ë‹ˆë‹¤.     ì´ë¯¸ì§€ ì¡°íšŒ  docker images ì»¤ë§¨ë“œë¡œ ì´ë¯¸ì§€ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  # ì´ë¯¸ì§€ ì¡°íšŒ $ docker images  ## íŠ¹ì • ë¦¬íŒŒì§€í† ë¦¬(repository)ì— í•´ë‹¹í•˜ëŠ” ì´ë¯¸ì§€ë§Œ í•„í„°ë§í•´ì„œ ë³´ê³  ì‹¶ì„ ë•ŒëŠ” ## ë¦¬íŒŒì§€í† ë¦¬ë¥¼ ì¸ìë¡œ ë„˜ê²¨ì£¼ë©´ ë©ë‹ˆë‹¤. $ docker images node node                10-alpine           34a10d47f150        2 weeks ago         83.5MB node                12-alpine           f77abbe89ac1        2 weeks ago         88.1MB  # íƒœê·¸ê¹Œì§€ ì¸ìë¡œ ë„˜ê¸°ë©´ íŠ¹ì • ì´ë¯¸ì§€ê°€ ì¡°íšŒë©ë‹ˆë‹¤. $ docker images node:12-alpine node                12-alpine           f77abbe89ac1        2 weeks ago         88.1MB      ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ  docker pull ì»¤ë§¨ë“œë¥¼ ì´ìš©í•˜ì—¬ ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.   run ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ë©´ ì´ë¯¸ì§€ê°€ ì—†ì„ ë•Œ ìë™ìœ¼ë¡œ ë‹¤ìš´ë°›ìœ¼ë‹ˆÂ pull ëª…ë ¹ì–´ë¥¼ ì–¸ì œ ì“°ëŠ”ì§€ ê¶ê¸ˆí•  ìˆ˜ ìˆëŠ”ë°Â pullì€ ì´ë¯¸ì§€ë¥¼ ìµœì‹ ë²„ì „ìœ¼ë¡œ ë‹¤ì‹œ ë‹¤ìš´ ë°›ìŠµë‹ˆë‹¤. ê°™ì€ íƒœê·¸ì§€ë§Œ ì´ë¯¸ì§€ê°€ ì—…ë°ì´íŠ¸ ëœ ê²½ìš°ëŠ”Â pull ëª…ë ¹ì–´ë¥¼ í†µí•´ ì´ë¯¸ì§€ë¥¼ ìƒˆë¡œ ë‹¤ìš´ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  # ì´ë¯¸ì§€ ë‹¤ìš´ $ docker pull ubuntu:14.04      ì´ë¯¸ì§€ ë¹Œë“œ  docker buildÂ ì»¤ë§¨ë“œëŠ” Docker ì´ë¯¸ì§€ë¥¼ ë¹Œë“œ(build)í•  ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.   Docker ë°ëª¬ì´ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ë ¤ë©´ ì†Œìœ„ ì»¨í…ìŠ¤íŠ¸(context)ë¼ê³ ë„ ë¶ˆë¦¬ëŠ” Dockerfileì„ ë‹´ê³  ìˆëŠ” ë””ë ‰í„°ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤. Dockerfileì€ ë³´í†µ ê°™ì€ ë””ë ‰í„°ë¦¬ ì•ˆì— ìˆëŠ” ì„¤ì • íŒŒì¼ì´ë‚˜ ì†ŒìŠ¤ ì½”ë“œë¥¼ ì´ìš©í•´ì„œ ì´ë¯¸ì§€ì˜ ë¹Œë“œ ì ˆì°¨ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.  # í˜„ì¬ ì‘ì—… ë””ë ‰í„°ë¦¬ ê¸°ì¤€ ì´ë¯¸ì§€ ë¹Œë“œ $ docker build .  # ë„¤íŠ¸ì›Œí¬ ìƒì˜ Git repository ì£¼ì†Œë‚˜ ì••ì¶• íŒŒì¼ ë¹Œë“œ $ docker build github.com/creack/docker-firefox  # -t ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ Docker ì´ë¯¸ì§€ì— íƒœê·¸(tag)ë¥¼ ì„¤ì • ## íƒœê·¸ëŠ” ë¦¬íŒŒì§€í† ë¦¬(repository):íƒœê·¸(tag) í˜•íƒœë¡œ ì§€ì •ì´ ê°€ëŠ¥í•˜ë©° ## íƒœê·¸ ë¶€ë¶„ì„ ìƒëµí•˜ë©´ latestê°€ íƒœê·¸ê°€ ë©ë‹ˆë‹¤. $ docker build -t test:1.0 .  # -f ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ ë””í´íŠ¸ì¸ Dockerfile ëŒ€ì‹ ì— ë‹¤ë¥¸ íŒŒì¼ë¡œ ë¶€í„° Docker ì´ë¯¸ì§€ë¥¼ ë¹Œë“œ $ docker build -f Dockerfile.dev .      ì´ë¯¸ì§€ íƒœê¹…  ì´ë¯¸ì§€ íƒœê¹…ì€ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œ í•œ í›„ì— ë³„ë„ë¡œ í•´ì¤„ ìˆ˜ë„ ìˆëŠ”ë°, ì´ ë•ŒÂ docker tagÂ ì»¤ë§¨ë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì²«ë²ˆì§¸ ì¸ìë¡œ ì´ë¯¸ì§€ID, ë‘ë²ˆì§¸ ì¸ìë¡œ ë¦¬íŒŒì§€í† ë¦¬ ë˜ëŠ” íƒœê·¸ê¹Œì§€ ë„˜ê²¨ì£¼ë©´ ë©ë‹ˆë‹¤.  $ docker tag 8bae72379b48 test:2.0      ì´ë¯¸ì§€ ì‚­ì œ  docker rmiÂ ì»¤ë§¨ë“œë¡œ Docker ì´ë¯¸ì§€ë¥¼ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‚­ì œí•˜ë ¤ëŠ” ì´ë¯¸ì§€ì˜ IDë‚˜ íƒœê·¸ë¥¼ ì¸ìë¡œ ë„˜ê²¨ì£¼ë©´ í•´ë‹¹ ì´ë¯¸ì§€ê°€ ì‚­ì œê°€ ë©ë‹ˆë‹¤.  # ì´ë¯¸ì§€ ì‚­ì œ $ docker rmi f77abbe89ac1 $ docker rmi node:12-alpine  # ì´ë¯¸ì§€ ì¡°íšŒ $ docker images REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE test2               latest              8bae72379b48        56 minutes ago      5.6MB test                latest              8bae72379b48        56 minutes ago      5.6MB  # -f ì˜µì…˜ì„ ì£¼ê³  ì´ë¯¸ì§€ IDë¥¼ ì¸ìë¡œ ë„˜ê¸°ë©´ ì´ë¯¸ì§€ ì‚­ì œ $ docker rmi -f 8bae72379b48 Untagged: test2:latest Untagged: test:latest Deleted: sha256:8bae72379b4  # ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì´ë¯¸ì§€ ì „ì²´ ì‚­ì œ $ docker rmi $(docker images -q) -f      ì´ë¯¸ì§€ ë ˆí¼ëŸ°ìŠ¤ ì°¸ê³      docker images   docker build   docker rmi             ğŸ™‡ğŸ»â€â™‚ï¸ ì°¸ê³ ì‚¬ì´íŠ¸     https://subicura.com   https://www.daleseo.com  ","categories": ["Docker"],
        "tags": ["Docker","Container"],
        "url": "/docker/docker-%EA%B8%B0%EB%B3%B8%EB%AA%85%EB%A0%B9%EC%96%B4/",
        "teaser": null
      },{
        "title": "ğŸ³ Docker ì´ë¯¸ì§€ ë§Œë“¤ê¸°",
        "excerpt":"ğŸ’¾ ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ê¸° ìœ„í•´Â Dockerfile ì´ë¼ëŠ” ì´ë¯¸ì§€ ë¹Œë“œìš© íŒŒì¼ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.              ğŸ¯ Dockerfile êµ¬ì¡°  Ruby ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ubuntuì— ë°°í¬í•˜ëŠ” ê³¼ì •ì„ í†µí•´ êµ¬ì¡°ë¥¼ ì‚´í´ë´…ë‹ˆë‹¤.   Dockerfile ìƒì„±  ì•„ë˜ ê³¼ì •ì„ ì‰˜ ìŠ¤í¬ë¦½íŠ¸, Dockerfileë¡œ ë§Œë“¤ì–´ ë¹„êµí•©ë‹ˆë‹¤.  ìˆœì„œ  |  ì‘ì—… --------------------- 1    |  ubuntu ì„¤ì¹˜ 2    |  ruby ì„¤ì¹˜ 3    |  ì†ŒìŠ¤ ë³µì‚¬ 4    |  Gem íŒ¨í‚¤ì§€ ì„¤ì¹˜ 5    |  Sinatra ì„œë²„ ì‹¤í–‰      ì‰˜ ìŠ¤í¬ë¦½íŠ¸  # 1. ubuntu ì„¤ì¹˜ (íŒ¨í‚¤ì§€ ì—…ë°ì´íŠ¸) apt-get update  # 2. ruby ì„¤ì¹˜ apt-get install ruby gem install bundler  # 3. ì†ŒìŠ¤ ë³µì‚¬ mkdir -p /usr/src/app scp Gemfile app.rb root@ubuntu:/usr/src/app  # From host  # 4. Gem íŒ¨í‚¤ì§€ ì„¤ì¹˜ bundle install  # 5. Sinatra ì„œë²„ ì‹¤í–‰ bundle exec ruby app.rb      Dockerfile  ## í•µì‹¬ ëª…ë ¹ì–´ëŠ” íŒŒì¼ì„ ë³µì‚¬í•˜ëŠ” COPYì™€ ì‹¤í–‰í•˜ëŠ” RUN ì…ë‹ˆë‹¤. # 1. ubuntu ì„¤ì¹˜ (íŒ¨í‚¤ì§€ ì—…ë°ì´íŠ¸ + ë§Œë“ ì‚¬ëŒ í‘œì‹œ) FROM       ubuntu:16.04 MAINTAINER subicura@subicura.com RUN        apt-get -y update  # 2. ruby ì„¤ì¹˜ RUN apt-get -y install ruby RUN gem install bundler  # 3. ì†ŒìŠ¤ ë³µì‚¬ COPY . /usr/src/app  # 4. Gem íŒ¨í‚¤ì§€ ì„¤ì¹˜ (ì‹¤í–‰ ë””ë ‰í† ë¦¬ ì„¤ì •) WORKDIR /usr/src/app RUN     bundle install  # 5. Sinatra ì„œë²„ ì‹¤í–‰ (Listen í¬íŠ¸ ì •ì˜) EXPOSE 4567 CMD    bundle exec ruby app.rb -o 0.0.0.0  ì‰˜ ìŠ¤í¬ë¦½íŠ¸ì˜ ë‚´ìš©ì„ ê±°ì˜ ê·¸ëŒ€ë¡œ Dockerfileë¡œ ì˜®ê²¼ìŠµë‹ˆë‹¤. ì°¨ì´ì ì€ ë„ì»¤ ë¹Œë“œ ì¤‘ì—” í‚¤ë³´ë“œë¥¼ ì…ë ¥í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì—Â (y/n) ì„ ë¬¼ì–´ë³´ëŠ” ê±¸ ë°©ì§€í•˜ê¸° ìœ„í•´Â -yÂ ì˜µì…˜ì„ ì¶”ê°€í•œ ê²ƒ ì •ë„ì…ë‹ˆë‹¤.     ì´ë¯¸ì§€ ìƒì„±  ìƒì„±í•œ Dockerfileì„ ê¸°ë°˜ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.  # Dockerfileì„ ë§Œë“  ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•˜ì—¬ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤. # docker build -t [ìƒˆë¡œ ìƒì„±í•  ì´ë¯¸ì§€ ì´ë¦„] [Dockerfile ë””ë ‰í† ë¦¬ ê²½ë¡œ] $ docker build -t app .      í™•ì¸  $ docker images REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE app                 latest              54d239c00f11        4 minutes ago       209 MB ubuntu              16.04               f49eec89601e        2 weeks ago         129 MB              ğŸ¯ Dockerfile ê¸°ë³¸ ëª…ë ¹ì–´  Dockerfileì˜ ê¸°ë³¸ì ì¸ ëª…ë ¹ì–´ë¥¼ ì‚´í´ë´…ë‹ˆë‹¤.   FROM  í•˜ë‚˜ì˜ Docker ì´ë¯¸ì§€ëŠ” base ì´ë¯¸ì§€ë¶€í„° ì‹œì‘í•´ì„œ ê¸°ì¡´ ì´ë¯¸ì§€ìœ„ì— ìƒˆë¡œìš´ ì´ë¯¸ì§€ë¥¼ ì¤‘ì²©í•´ì„œ ì—¬ëŸ¬ ë‹¨ê³„ì˜ ì´ë¯¸ì§€ ì¸µ(layer)ì„ ìŒ“ì•„ê°€ë©° ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤.   FROMÂ ëª…ë ¹ë¬¸ì€ ì´ base ì´ë¯¸ì§€ë¥¼ ì§€ì •í•´ì£¼ê¸° ìœ„í•´ì„œ ì‚¬ìš©ë˜ëŠ”ë°, ë³´í†µ Dockerfile ë‚´ì—ì„œ ìµœìƒë‹¨ì— ìœ„ì¹˜í•©ë‹ˆë‹¤. base ì´ë¯¸ì§€ëŠ” ì¼ë°˜ì ìœ¼ë¡œ Docker Hubì™€ ê°™ì€ Docker repositoryì— ì˜¬ë ¤ë†“ì€ ì˜ ì•Œë ¤ì§„ ê³µê°œ ì´ë¯¸ì§€ì¸ ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤.  # FROM &lt;ì´ë¯¸ì§€&gt; # FROM &lt;ì´ë¯¸ì§€&gt;:&lt;íƒœê·¸&gt;  # Ubuntu ìµœì‹  ë²„ì „ì„ base ì´ë¯¸ì§€ë¡œ ì‚¬ìš© FROM ubuntu:latest      MAINTAINER (deprecated)  Dockerfileì„ ê´€ë¦¬í•˜ëŠ” ì‚¬ëŒì˜ ì´ë¦„ ë˜ëŠ” ì´ë©”ì¼ ì •ë³´ë¥¼ ì ìŠµë‹ˆë‹¤. ë¹Œë“œì— ì˜í–¥ì„ ì£¼ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤.  # MAINTAINER &lt;name&gt;  MAINTAINER name@gmail.com      COPY  íŒŒì¼ì´ë‚˜ ë””ë ‰í† ë¦¬ë¥¼ ì´ë¯¸ì§€ë¡œ ë³µì‚¬í•©ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì†ŒìŠ¤ë¥¼ ë³µì‚¬í•˜ëŠ” ë° ì‚¬ìš©í•©ë‹ˆë‹¤.Â target ë””ë ‰í† ë¦¬ê°€ ì—†ë‹¤ë©´ ìë™ìœ¼ë¡œ ìƒì„±í•©ë‹ˆë‹¤.  # COPY [--chown=&lt;user&gt;:&lt;group&gt;] &lt;src&gt;... &lt;dest&gt; # COPY [--chown=&lt;user&gt;:&lt;group&gt;] [\"&lt;src&gt;\",... \"&lt;dest&gt;\"]  COPY . /usr/src/app      ADD  COPY ëª…ë ¹ì–´ì™€ ë§¤ìš° ìœ ì‚¬í•˜ë‚˜ ëª‡ê°€ì§€ ì¶”ê°€ ê¸°ëŠ¥ì´ ìˆìŠµë‹ˆë‹¤.Â src ì— íŒŒì¼ ëŒ€ì‹  URLì„ ì…ë ¥í•  ìˆ˜ ìˆê³ Â src ì— ì••ì¶• íŒŒì¼ì„ ì…ë ¥í•˜ëŠ” ê²½ìš° ìë™ìœ¼ë¡œ ì••ì¶•ì„ í•´ì œí•˜ë©´ì„œ ë³µì‚¬ë©ë‹ˆë‹¤.  # ADD [--chown=&lt;user&gt;:&lt;group&gt;] [--checksum=&lt;checksum&gt;] &lt;src&gt;... &lt;dest&gt; # ADD [--chown=&lt;user&gt;:&lt;group&gt;] [\"&lt;src&gt;\",... \"&lt;dest&gt;\"]  ADD . /usr/src/app      RUN  ëª…ë ¹ì–´ë¥¼ ê·¸ëŒ€ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤. ë‚´ë¶€ì ìœ¼ë¡œÂ /bin/sh -cÂ ë’¤ì— ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.  # RUN &lt;command&gt; RUN npm install --silent  # RUN [\"executable\", \"param1\", \"param2\"] RUN [\"/bin/bash\", \"-c\", \"echo hello\"]  # ë©€í‹°ë¼ì¸ RUN /bin/bash -c 'source $HOME/.bashrc &amp;&amp; \\ echo $HOME'      ENTRYPOINT  ENTRYPOINTÂ ëª…ë ¹ë¬¸ì€ ì´ë¯¸ì§€ë¥¼ ì»¨í…Œì´ë„ˆë¡œ ë„ìš¸ ë•Œ í•­ìƒ ì‹¤í–‰ë˜ì•¼ í•˜ëŠ” ì»¤ë§¨ë“œë¥¼ ì§€ì •í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. ENTRYPOINTÂ ëª…ë ¹ë¬¸ì€ Docker ì´ë¯¸ì§€ë¥¼ ë§ˆì¹˜ í•˜ë‚˜ì˜ ì‹¤í–‰ íŒŒì¼ì²˜ëŸ¼ ì‚¬ìš©í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤. ì™œëƒí•˜ë©´ ì»¨í…Œì´ë„ˆê°€ ëœ° ë•ŒÂ ENTRYPOINTÂ ëª…ë ¹ë¬¸ìœ¼ë¡œ ì§€ì •ëœ ì»¤ë§¨ë“œê°€ ì‹¤í–‰ë˜ê³ , ì´ ì»¤ë§¨ë“œë¡œ ì‹¤í–‰ëœ í”„ë¡œì„¸ìŠ¤ê°€ ì£½ì„ ë•Œ, ì»¨í…Œì´ë„ˆë¡œ ë”°ë¼ì„œ ì¢…ë£Œë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.  # ENTRYPOINT [\"&lt;ì»¤ë§¨ë“œ&gt;\", \"&lt;íŒŒë¼ë¯¸í„°1&gt;\", \"&lt;íŒŒë¼ë¯¸í„°2&gt;\"] # ENTRYPOINT &lt;ì „ì²´ ì»¤ë§¨ë“œ&gt; ENTRYPOINT [\"npm\", \"start\"]      CMD  Dockerfileì—ëŠ” í•˜ë‚˜ì˜ CMD ëª…ë ¹ì–´ë§Œ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‘˜ ì´ìƒì˜ CMDë¥¼ ë‚˜ì—´í•˜ë©´ ë§ˆì§€ë§‰ CMDë§Œ ì ìš©ë©ë‹ˆë‹¤.   CMDì˜ ì£¼ìš” ëª©ì ì€ ì‹¤í–‰ ì»¨í…Œì´ë„ˆì— ëŒ€í•œ ê¸°ë³¸ê°’ì„ ì œê³µí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. CMDÂ ëª…ë ¹ë¬¸ì€ ë§ì€ê²½ìš° ENTRYPOINT ëª…ë ¹ë¬¸ê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ê²Œ ë˜ëŠ”ë°,Â ENTRYPOINTÂ ëª…ë ¹ë¬¸ìœ¼ë¡œëŠ” ì»¤ë§¨ë“œë¥¼ ì§€ì •í•˜ê³ ,Â CMDÂ ëª…ë ¹ë¬¸ìœ¼ë¡œ ë””í´íŠ¸ íŒŒë¦¬ë¯¸í„°ë¥¼ ì§€ì •í•´ì£¼ë©´ ë§¤ìš° ìœ ì—°í•˜ê²Œ ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.  CMD [\"executable\",\"param1\",\"param2\"] CMD command param1 param2 CMD bundle exec ruby app.rb      WORKDIR  RUN, CMD, ADD, COPYë“±ì´ ì´ë£¨ì–´ì§ˆ ê¸°ë³¸ ë””ë ‰í† ë¦¬ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ê° ëª…ë ¹ì–´ì˜ í˜„ì¬ ë””ë ‰í† ë¦¬ëŠ” í•œ ì¤„ í•œ ì¤„ë§ˆë‹¤ ì´ˆê¸°í™”ë˜ê¸° ë•Œë¬¸ì—Â RUN cd /path ë¥¼ í•˜ë”ë¼ë„ ë‹¤ìŒ ëª…ë ¹ì–´ì—ì„  ë‹¤ì‹œ ìœ„ì¹˜ê°€ ì´ˆê¸°í™” ë©ë‹ˆë‹¤. ê°™ì€ ë””ë ‰í† ë¦¬ì—ì„œ ê³„ì† ì‘ì—…í•˜ê¸° ìœ„í•´ì„œÂ WORKDIR ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.  WORKDIR /path/to/workdir      EXPOSE  ë„ì»¤ ì»¨í…Œì´ë„ˆê°€ ì‹¤í–‰ë˜ì—ˆì„ ë•Œ ìš”ì²­ì„ ê¸°ë‹¤ë¦¬ê³  ìˆëŠ”(Listen) í¬íŠ¸ë¥¼ ì§€ì •í•©ë‹ˆë‹¤. ì—¬ëŸ¬ê°œì˜ í¬íŠ¸ë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  # EXPOSE &lt;port&gt; [&lt;port&gt;...] # EXPOSE &lt;í¬íŠ¸&gt;/&lt;í”„ë¡œí† ì½œ&gt;  EXPOSE 4567 EXPOSE 9999/udp    ì°¸ê³    EXPOSEÂ ëª…ë ¹ë¬¸ìœ¼ë¡œ ì§€ì •ëœ í¬íŠ¸ëŠ” í•´ë‹¹ ì»¨í…Œì´ë„ˆì˜ ë‚´ë¶€ì—ì„œë§Œ ìœ íš¨í•˜ë©°, í˜¸ìŠ¤íŠ¸(host) ì»´í“¨í„°ì—ì„œëŠ” ì´ í¬íŠ¸ë¥¼ ë°”ë¡œ ì ‘ê·¼ì„ í•  ìˆ˜ ìˆëŠ” ê²ƒì€ ì•„ë‹ˆë¼ëŠ” ê²ë‹ˆë‹¤. í˜¸ìŠ¤íŠ¸ ì»´í“¨í„°ë¡œë¶€í„° í•´ë‹¹ í¬íŠ¸ë¡œì˜ ì ‘ê·¼ì„ í—ˆìš©í•˜ë ¤ë©´,Â docker runÂ ì»¤ë§¨ë“œë¥¼Â -pÂ ì˜µì…˜ì„ í†µí•´ í˜¸ìŠ¤íŠ¸ ì»´í“¨í„°ì˜ íŠ¹ì • í¬íŠ¸ë¥¼ í¬ì›Œë”©(forwarding)ì‹œì¼œì¤˜ì•¼ í•©ë‹ˆë‹¤.       VOLUME  ì»¨í…Œì´ë„ˆ ì™¸ë¶€ì— íŒŒì¼ì‹œìŠ¤í…œì„ ë§ˆìš´íŠ¸ í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.  VOLUME [\"/data\"]      ENV  ì»¨í…Œì´ë„ˆì—ì„œ ì‚¬ìš©í•  í™˜ê²½ë³€ìˆ˜ë¥¼ ì§€ì •í•©ë‹ˆë‹¤. ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•  ë•ŒÂ -e ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ ê¸°ì¡´ ê°’ì„ ì˜¤ë²„ë¼ì´ë”© í•˜ê²Œ ë©ë‹ˆë‹¤.  # ENV &lt;key&gt; &lt;value&gt; # ENV &lt;key&gt;=&lt;value&gt; ... ENV DB_URL mysql      ARG  ARGÂ ëª…ë ¹ë¬¸ì€Â docker buildÂ ì»¤ë§¨ë“œë¡œ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œ ì‹œ,Â --build-argÂ ì˜µì…˜ì„ í†µí•´ ë„˜ê¸¸ ìˆ˜ ìˆëŠ” ì¸ìë¥¼ ì •ì˜í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•©ë‹ˆë‹¤.  # ì˜ˆë¥¼ ë“¤ì–´, Dockerfileì— ë‹¤ìŒê³¼ ê°™ì´ ARG ëª…ë ¹ë¬¸ìœ¼ë¡œ portë¥¼ ì¸ìë¡œ ì„ ì–¸í•´ì£¼ë©´ ARG port  # ë‹¤ìŒê³¼ ê°™ì´ docker build ì»¤ë§¨ë“œì— --build-arg ì˜µì…˜ì— port ê°’ì„ ë„˜ê¸¸ ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤. $ docker build --build-arg port=8080 .    # ì¸ìì˜ ë””í´íŠ¸ê°’ì„ ì§€ì •í•´ì£¼ë©´, --build-arg ì˜µì…˜ìœ¼ë¡œ í•´ë‹¹ ì¸ìê°€ ë„˜ì–´ì˜¤ì§€ ì•Šì•˜ì„ ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤. ARG port=8080  # ì„¤ì •ëœ ì¸ì ê°’ì€ ë‹¤ìŒê³¼ ê°™ì´ ${ì¸ìëª…} í˜•íƒœë¡œ ì½ì–´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. CMD start.sh -h 127.0.0.1 -p ${port}    ì°¸ê³    ENV ì™€ ë‹¬ë¦¬Â ARG ë¡œ ì„¤ì •í•œ ê°’ì€ ì´ë¯¸ì§€ê°€ ë¹Œë“œë˜ëŠ” ë™ì•ˆì—ë§Œ ìœ íš¨       .dockerignore íŒŒì¼  Docker ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•  ë•Œ ì œì™¸ ì‹œí‚¤ê³  ì‹¶ì€ íŒŒì¼ì´ ìˆë‹¤ë©´,Â .dockerignoreÂ íŒŒì¼ì— ì¶”ê°€í•´ì£¼ë©´ ë©ë‹ˆë‹¤.  # .dockerignore\\ # ì œì™¸ í•  íŒŒì¼ì„ ì‘ì„± .git *.md      ì •ë¦¬                  ëª…ë ¹ì–´       ìš©ë„                       FROM       base ì´ë¯¸ì§€ ì„¤ì •                 WORKDIR       ì‘ì—… ë””ë ‰í„°ë¦¬ ì„¤ì •                 RUN       ì´ë¯¸ì§€ ë¹Œë“œ ì‹œ ì»¤ë§¨ë“œ ì‹¤í–‰                 ENTRYPOINT       ì´ë¯¸ì§€ ì‹¤í–‰ ì‹œ í•­ìƒ ì‹¤í–‰ë˜ì•¼ í•˜ëŠ” ì»¤ë§¨ë“œ ì„¤ì •                 CMD       ì´ë¯¸ì§€ ì‹¤í–‰ ì‹œ ë””í´íŠ¸ ì»¤ë§¨ë“œ ë˜ëŠ” íŒŒë¼ë¯¸í„° ì„¤ì •                 EXPOSE       ì»¨í…Œì´ë„ˆê°€ ë¦¬ìŠ¤ë‹í•  í¬íŠ¸ ë° í”„ë¡œí† ì½œ ì„¤ì •                 COPY/ADD       ì´ë¯¸ì§€ì˜ íŒŒì¼ ì‹œìŠ¤í…œìœ¼ë¡œ íŒŒì¼ ë˜ëŠ” ë””ë ‰í„°ë¦¬ ë³µì‚¬                 ENV       í™˜ê²½ ë³€ìˆ˜ ì„¤ì •                 ARG       ë¹Œë“œ ì‹œ ë„˜ì–´ì˜¬ ìˆ˜ ìˆëŠ” ì¸ì ì„¤ì •                 VOLUME       ì»¨í…Œì´ë„ˆ ì™¸ë¶€ì— íŒŒì¼ì‹œìŠ¤í…œì„ ë§ˆìš´íŠ¸ í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.               ë ˆí¼ëŸ°ìŠ¤ ì°¸ê³      Dockerfile             ğŸ™‡ğŸ»â€â™‚ï¸ ì°¸ê³ ì‚¬ì´íŠ¸     https://subicura.com   https://www.daleseo.com  ","categories": ["Docker"],
        "tags": ["Docker","Container"],
        "url": "/docker/docker-%EC%9D%B4%EB%AF%B8%EC%A7%80%EB%A7%8C%EB%93%A4%EA%B8%B0/",
        "teaser": null
      },{
        "title": "ğŸ³ Docker Compose íŒŒì¼ êµ¬ì„± ìš”ì†Œ",
        "excerpt":"ğŸ’¾ ë„ì»¤ ì»´í¬ì¦ˆì˜ ê¸°ë³¸ êµ¬ì„± ìš”ì†Œë£° ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤. ìì£¼ ì‚¬ìš©í•˜ëŠ” í•­ëª©ë§Œ ì •ë¦¬í•˜ì˜€ê³ , ë‹¤ë¥¸ í•­ëª©ë“¤ì„ í™•ì¸í•˜ì‹œë ¤ë©´ docker-composeë¥¼ í™•ì¸í•˜ì„¸ìš”.       Docker composeë€?  Docker Composeë¥¼ ì´ìš©í•˜ë©´ ì—¬ëŸ¬ ê°œì˜ ì»¨í…Œì´ë„ˆ(container)ë¡œ êµ¬ì„±ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ í•˜ë‚˜ì˜ íŒŒì¼(YAML)ì— ì •ì˜í•´ë†“ê³  ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ í•œ ë²ˆì— ì˜¬ë¦¬ê±°ë‚˜ ë‚´ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. Docker ComposeëŠ” ê¸°ë³¸ì ìœ¼ë¡œÂ docker-compose.ymlÂ íŒŒì¼ì„ ì„¤ì • íŒŒì¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.       ê¸°ë³¸ êµ¬ì¡°  docker-compose.ymlÂ íŒŒì¼ì€ ëŒ€ëµì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¥¼ ê°–ìŠµë‹ˆë‹¤.  version: \"3.7\" services:   web:     # ì»¨í…Œì´ë„ˆ ì„œë¹„ìŠ¤, ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì •   db:     # ì»¨í…Œì´ë„ˆ ì„œë¹„ìŠ¤, ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • networks:   # ë„¤íŠ¸ì›Œí¬ ì„¤ì • volumes:   # ë³¼ë¥¨ ì„¤ì •  Docker Composeì—ì„œ ì„œë¹„ìŠ¤ëŠ” ë…ë¦½ëœ ì»¨í…Œì´ë„ˆì—ì„œ ëŒì•„ê°€ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ êµ¬ì„± ìš”ì†Œë¼ê³  ìƒê°í•˜ë©´ ë©ë‹ˆë‹¤. ê°€ì¥ ë¨¼ì € í”„ë¡œì íŠ¸ì—ì„œ ê°œë°œí•˜ê³  ìˆëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ìì²´ê°€ ì„œë¹„ìŠ¤ê°€ ë  ê²ƒì´ê³ , ê·¸ ë°–ì— í•´ë‹¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì˜ì¡´í•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ë“±ë„ ì„œë¹„ìŠ¤ê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¦‰, ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¿ë§Œ ì•„ë‹ˆë¼ ì •ìƒì ìœ¼ë¡œ êµ¬ë™ë˜ê¸° ìœ„í•´ì„œ í•„ìš”í•œ ê¸°ë°˜ ì‹œìŠ¤í…œê¹Œì§€ Docker Composeë¡œ ì„¤ì •í•œë‹¤ê³  ë³´ì‹œë©´ ë©ë‹ˆë‹¤.        .env íŒŒì¼  docker-compose.yml íŒŒì¼ê³¼ ê°™ì€ ê²½ë¡œì— .env íŒŒì¼ì„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. .env íŒŒì¼ì— í™˜ê²½ë³€ìˆ˜ë¥¼ ì •ì˜ í•˜ë©´ docker-compose.yml ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  # .env  MY_ENV=\"prod\"  # docker-compose.yml version: '3.7' services:   web:     build:       context: web/       args:         PROFILE: ${MY_ENV}            êµ¬ì„± ìš”ì†Œ  docker-compose.ymlì‘ì„±ì‹œ ìì£¼ ì‚¬ìš©í•˜ëŠ” í•­ëª©ì„ ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤.     build  buildÂ í•­ëª©ì€ í•´ë‹¹ ì„œë¹„ìŠ¤ì˜ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ê¸° ìœ„í•œ ìš©ë„ë¡œ,Â Dockerfileì´ ìœ„ì¹˜í•˜ëŠ” ê²½ë¡œë¥¼ ì§€ì •í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.  ## docker-compose.ymlÂ íŒŒì¼ê³¼ ë™ì¼í•œ ë””ë ‰í† ë¦¬ì— ìœ„ì¹˜í•œÂ Dockerfile ì„ ì‚¬ìš©í•´ì„œ web ì„œë¹„ìŠ¤ì˜ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œ version: '3.7' services:   web:     build: .  ## Dockerfileì´ ì•„ë‹Œ ë‹¤ë¥¸ ì´ë¦„ì˜ íŒŒì¼ë¡œ ë¹Œë“œë¥¼ í•˜ê³  ì‹¶ê±°ë‚˜, ë¹Œë“œ ì¸ìë¥¼ ë„˜ê²¨ì•¼ í•˜ëŠ” ê²½ìš° version: '3.7' services:   web:     build:       context: ./app       dockerfile: Dockerfile-dev       args:         arg1: \"development\" \t    arg2: \"docker\"        image  í”„ë¡œì íŠ¸ì—ì„œ ì§ì ‘ ê°œë°œí•˜ì§€ ì•ŠëŠ” ë°ì´í„°ë² ì´ìŠ¤ì™€ ê°™ì€ ê²½ìš°ì—ëŠ”, ì´ë¯¸ì§€ë¥¼ ì§ì ‘ ë¹Œë“œí•˜ëŠ” ëŒ€ì‹ ì— ì´ë¯¸ì§€ ì €ì¥ì†Œ(repository)ë¡œ ë¶€í„° ì´ë¯¸ì§€ë¥¼ ë‚´ë ¤ë°›ì•„ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì…ë‹ˆë‹¤.  # image í•­ëª©ì€ ì´ë¯¸ì§€ ì €ì¥ì†Œë¡œ ë¶€í„° ë‚´ë ¤ë°›ì„ ì´ë¯¸ì§€ì˜ ì´ë¦„ê³¼ íƒœê·¸ë¥¼ ëª…ì‹œí•˜ëŠ”ë° ì‚¬ìš©ë© version: '3.7' services:   db:     image: postgres:13   cache:     image: redis        ports  portsÂ í•­ëª©ì€ ì™¸ë¶€ë¡œ ë…¸ì¶œì‹œí‚¬ í¬íŠ¸ì˜ ë§µí•‘ì„ ëª…ì‹œí•©ë‹ˆë‹¤. ë°”ì¸ë“œ(bind)ê°€ í•„ìš”í•œ í˜¸ìŠ¤íŠ¸ ì™¸ë¶€ í¬íŠ¸ì™€ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ í¬íŠ¸ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.  services:   web:     ports:       - \"8000:8000\"   db:     ports:       - \"5432:5432\"        volumes  volumesÂ í•­ëª©ì€ ë³¼ë¥¨ ì„¤ì •ì„ ìœ„í•´ ì“°ì…ë‹ˆë‹¤. ë§ˆìš´íŠ¸(mount)ê°€ í•„ìš”í•œ í˜¸ìŠ¤íŠ¸ì˜ ê²½ë¡œì™€ ì»¨í…Œì´ë„ˆì˜ ê²½ë¡œë¥¼ ëª…ì‹œí•©ë‹ˆë‹¤.  # í˜¸ìŠ¤íŠ¸ì˜ ê²½ë¡œë¡œ ë³¼ë¥¨ ì„¤ì • services:   web:     volumes:       - .:/web  # ë¯¸ë¦¬ ìƒì„±í•œ docker volumeìœ¼ë¡œ ë³¼ë¥¨ ì„¤ì • services:   frontend:     image: node:lts     volumes:       - myapp:/home/node/app  volumes:   myapp:     external: true        depends_on  depends_on í•­ëª©ì€ ì„œë¹„ìŠ¤ ê°„ ì˜ì¡´ ê´€ê³„ë¥¼ ì§€ì •í•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì˜¬ë¼ì˜¤ê¸° ì „ì— ë°ì´í„°ë² ì´ìŠ¤, ë ˆë””ìŠ¤ ì„œë¹„ìŠ¤ê°€ ë¨¼ì € ì˜¬ë¼ì™€ì•¼ í•œë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •í•©ë‹ˆë‹¤.  version: \"3.7\" services:   web:     build: .     depends_on:       - db       - redis   redis:     image: redis   db:     image: postgres        command  commandÂ í•­ëª©ì€ í•´ë‹¹ ì„œë¹„ìŠ¤ê°€ ì˜¬ë¼ì˜¬ ë•ŒÂ Dockerfile ì˜Â CMDÂ ëª…ë ¹ë¬¸ì„ ë¬´ì‹œí•˜ê³  ì‹¤í–‰í•  ëª…ë ¹ì–´ë¥¼ ì„¤ì •í•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤.  services:   web:     command: node .        environment  environmentÂ í•­ëª©ì€ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤.  services:    db:      image: mysql:5.7      volumes:        - db_data:/var/lib/mysql      restart: always      environment:        MYSQL_ROOT_PASSWORD: wordpress        MYSQL_DATABASE: wordpress        MYSQL_USER: wordpress        MYSQL_PASSWORD: wordpress  # ì•„ë˜ì™€ ê°™ì€ í˜•ì‹ìœ¼ë¡œë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. environment:   - RACK_ENV=development   - SHOW=true        ë ˆí¼ëŸ°ìŠ¤ ì°¸ê³   docker-compose             ğŸ™‡ğŸ»â€â™‚ï¸ ì°¸ê³ ì‚¬ì´íŠ¸     https://www.daleseo.com  ","categories": ["Docker"],
        "tags": ["Docker","Docker Compose","Container"],
        "url": "/docker/docker-compose-%ED%8C%8C%EC%9D%BC-%EA%B5%AC%EC%84%B1-%EC%9A%94%EC%86%8C/",
        "teaser": null
      },{
        "title": "ğŸ³ Docker Compose ëª…ë ¹ì–´",
        "excerpt":"ğŸ’¾ Docker Compose ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì œì–´í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ëª…ë ¹ì–´ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤.     íŒŒì¼ ì§€ì •  Docker ComposeëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì»¤ë§¨ë“œê°€ ì‹¤í–‰í•˜ëŠ” ë””ë ‰í† ë¦¬ì— ìˆëŠ”Â docker-compose.ymlÂ ë˜ëŠ”Â docker-compose.yamlë¥¼ ì„¤ì • íŒŒì¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. ë‹¤ë¥¸ ì´ë¦„ì´ë‚˜ ê²½ë¡œì˜ íŒŒì¼ì„ Docker Compose ì„¤ì • íŒŒì¼ë¡œ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´Â -fÂ ì˜µì…˜ìœ¼ë¡œ ëª…ì‹œë¥¼ í•´ì¤ë‹ˆë‹¤.  # -f ì˜µì…˜ìœ¼ë¡œ íŒŒì¼ì¼ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. $ docker-compose -f docker-compose-local.yml up  # -f ì˜µì…˜ì€ ì—¬ëŸ¬ ê°œì˜ ì„¤ì • íŒŒì¼ì„ ì‚¬ìš©í•  ë•Œë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. # ì´ ë•ŒëŠ” ë‚˜ì¤‘ì— ë‚˜ì˜¤ëŠ” ì„¤ì •ì´ ì•ì— ë‚˜ì˜¤ëŠ” ì„¤ì •ë³´ë‹¤ ìš°ì„ í•˜ê²Œ ë©ë‹ˆë‹¤. $ docker-compose -f docker-compose.yml -f docker-compose-test.yml up      ì»¨í…Œì´ë„ˆ ìƒì„±/ì‹¤í–‰  docker-compose up ì»¤ë§¨ë“œëŠ” Docker Composeì— ì •ì˜ë˜ì–´ ìˆëŠ” ëª¨ë“  ì„œë¹„ìŠ¤ ì»¨í…Œì´ë„ˆë¥¼ í•œ ë²ˆì— ìƒì„±í•˜ê³  ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤.  # -d ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì»¨í…Œì´ë„ˆë¥¼ ë„ì›ë‹ˆë‹¤. # -d ì˜µì…˜ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ í˜„ì¬ í„°ë¯¸ë„ì— ë¡œê·¸ê°€ ì¶œë ¥ë˜ê³ , Ctrl+cë¥¼ ì‚¬ìš©í•˜ì—¬ ì¢…ë£Œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. $ docker-compose up -d      ì»¨í…Œì´ë„ˆ ì •ì§€/ì‚­ì œ  docker-compose downÂ ì»¤ë§¨ë“œëŠ” Docker Composeì— ì •ì˜ë˜ì–´ ìˆëŠ” ëª¨ë“  ì„œë¹„ìŠ¤ ì»¨í…Œì´ë„ˆë¥¼ í•œ ë²ˆì— ì •ì§€ì‹œí‚¤ê³  ì‚­ì œí•©ë‹ˆë‹¤.  # -v ì˜µì…˜ì„ ì£¼ë©´ docker-compose.ymlì— ì •ì˜ëœ ë³¼ë¥¨ì„ ì‚­ì œí•˜ë©° down í•©ë‹ˆë‹¤. $ docker-compose down -v      ì»¨í…Œì´ë„ˆ ì‹œì‘  docker-compose startÂ ì»¤ë§¨ë“œëŠ” ë‚´ë ¤ê°€ ìˆëŠ” ìˆëŠ” íŠ¹ì • ì„œë¹„ìŠ¤ ì»¨í…Œì´ë„ˆë¥¼ ì˜¬ë¦¬ê¸° ìœ„í•´ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤. docker-compose upÂ ì»¤ë§¨ë“œë¥¼ ì‚¬ìš©í•´ë„ ë‚´ë ¤ê°„ ì„œë¹„ìŠ¤ë¥¼ ì•Œì•„ì„œ ì˜¬ë ¤ì¤ë‹ˆë‹¤.  $ docker-compose start web      ì»¨í…Œì´ë„ˆ ì •ì§€  docker-compose stopÂ ì»¤ë§¨ë“œëŠ”Â ëŒì•„ê¸°ê³  ìˆëŠ” íŠ¹ì • ì„œë¹„ìŠ¤ ì»¨í…Œì´ë„ˆë¥¼ ì •ì§€ì‹œí‚¤ê¸° ìœ„í•´ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤.  $ docker-compose stop web      ì»¨í…Œì´ë„ˆ ì¡°íšŒ  docker-compose psÂ ì»¤ë§¨ë“œëŠ” Docker Composeì— ì •ì˜ë˜ì–´ ìˆëŠ” ëª¨ë“  ì„œë¹„ìŠ¤ ì»¨í…Œì´ë„ˆ ëª©ë¡ì„ ì¡°íšŒí•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.  $ docker-compose ps        Name                    Command               State           Ports ---------------------------------------------------------------------------------- django-app_db_1    docker-entrypoint.sh postgres    Up      5432/tcp django-app_web_1   python manage.py runserver ...   Up      0.0.0.0:8000-&gt;8000/tcp      ì»¨í…Œì´ë„ˆ ë¡œê·¸  docker-compose logsÂ ì»¤ë§¨ë“œëŠ” ì„œë¹„ìŠ¤ ì»¨í…Œì´ë„ˆì˜ ë¡œê·¸ë¥¼ í™•ì¸í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•˜ë©°, ë³´í†µÂ -f ì˜µì…˜ì„ ë¶™ì—¬ì„œ ì‹¤ì‹œê°„ ë¡œê·¸ë¥¼ í™•ì¸í•©ë‹ˆë‹¤. -f ë‹¤ìŒì— ì„œë¹„ìŠ¤ëª…ì„ ì…ë ¥í•˜ë©´ í•´ë‹¹ ì„œë¹„ìŠ¤ì˜ ë¡œê·¸ë§Œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  $ docker-compose logs -f web  web_1  | May 30, 2020 - 22:16:29 web_1  | Django version 3.0.6, using settings 'our_project.settings' web_1  | Starting development server at http://0:8000/ web_1  | Quit the server with CONTROL-C.      ëª…ë ¹ì–´ ì „ë‹¬  docker-compose execÂ ì»¤ë§¨ë“œëŠ” ì‹¤í–‰ ì¤‘ì¸ ì„œë¹„ìŠ¤ ì»¨í…Œì´ë„ˆë¥¼ ëŒ€ìƒìœ¼ë¡œ ì–´ë–¤ ëª…ë ¹ì–´ë¥¼ ë‚ ë¦´ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.  $ docker-compose exec -it web /bin/bash      ì¼íšŒì„± ëª…ë ¹ì–´  docker-compose run ì»¤ë§¨ë“œëŠ” ì„œë¹„ìŠ¤ ì»¨í…Œì´ë„ˆì˜ íŠ¹ì • ëª…ë ¹ì–´ë¥¼ ì¼íšŒì„±ìœ¼ë¡œ ì‹¤í–‰í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.  $ docker compose run web bash      ì„¤ì • í™•ì¸  docker-compose config ì»¤ë§¨ë“œëŠ” Docker Compose ì„¤ì •ì„ í™•ì¸í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.Â -fÂ ì˜µì…˜ìœ¼ë¡œ ì—¬ëŸ¬ ê°œì˜ ì„¤ì • íŒŒì¼ì„ ì‚¬ìš©í•  ë•Œ, ìµœì¢…ì ìœ¼ë¡œ ì–´ë–»ê²Œ ì„¤ì •ì´ ì ìš©ë˜ëŠ”ì§€ í™•ì¸í•´ë³¼ ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.  $ docker compose config      ë ˆí¼ëŸ°ìŠ¤ ì°¸ê³   docker-compose       ğŸ™‡ğŸ»â€â™‚ï¸ ì°¸ê³ ì‚¬ì´íŠ¸     https://www.daleseo.com  ","categories": ["Docker"],
        "tags": ["Docker","Docker Compose","Container"],
        "url": "/docker/docker-compose-%EB%AA%85%EB%A0%B9%EC%96%B4/",
        "teaser": null
      },{
        "title": "ğŸ³ Docker Compose ë„¤íŠ¸ì›Œí¬",
        "excerpt":"ğŸ’¾ ì—¬ëŸ¬ ê°œì˜ ì»¨í…Œì´ë„ˆë¡œ êµ¬ì„±ëœ Docker Compose ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ì—ì„œ ì»¨í…Œì´ë„ˆ ê°„ì˜ í†µì‹ ì„ ì„¤ëª…í•©ë‹ˆë‹¤.       ë””í´íŠ¸ ë„¤íŠ¸ì›Œí¬  ê¸°ë³¸ì ìœ¼ë¡œ Docker ComposeëŠ” í•˜ë‚˜ì˜ ë””í´íŠ¸ ë„¤íŠ¸ì›Œí¬ì— ëª¨ë“  ì»¨í…Œì´ë„ˆë¥¼ ì—°ê²°í•©ë‹ˆë‹¤. ë””í´íŠ¸ ë„¤íŠ¸ì›Œí¬ì˜ ì´ë¦„ì€Â docker-compose.ymlê°€ ìœ„ì¹˜í•œ ë””ë ‰í† ë¦¬ ì´ë¦„ ë’¤ì—Â _defaultê°€ ë¶™ìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë””ë ‰í† ë¦¬ ì´ë¦„ì´Â our_appë¼ë©´ ë””í´íŠ¸ ë„¤íŠ¸ì›Œí¬ ì´ë¦„ì€Â our_app_defaultê°€ ë©ë‹ˆë‹¤.  ## /path/our_app ê²½ë¡œ $ docker-compose up -d  Creating network \"our_app_default\" with the default driver Creating our_app_db_1 ... done Creating our_app_web_1 ... done  Docker Composeë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë‚´ë¦´ ë•ŒëŠ” ë°˜ëŒ€ ìˆœì„œë¡œ ë¨¼ì € ì»¨í…Œì´ë„ˆë¥¼ ì¢…ë£Œ/ì œê±°í•´ë†“ê³  ì œì¼ ë§ˆì§€ë§‰ì— ë„¤íŠ¸ì›Œí¬ë¥¼ ì œê±°í•©ë‹ˆë‹¤.  $ docker-compose down Stopping our_app_web_1 ... done Stopping our_app_db_1  ... done Removing our_app_web_1 ... done Removing our_app_db_1  ... done Removing network our_app_default        ì»¨í…Œì´ë„ˆ ê°„ í†µì‹    ê°™ì€ ë„¤íŠ¸ì›Œí¬ ê°„ í†µì‹   ê°™ì€ ë„¤íŠ¸ì›Œí¬ ì•ˆì—ì„œ ì»¨í…Œì´ë„ˆ ê°„ì˜ í†µì‹ ì€ í˜¸ìŠ¤íŠ¸ëª…ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ë§Œì•½ í˜¸ìŠ¤íŠ¸ëª…ì„ ì§€ì •í•˜ì§€ ì•Šì•˜ë‹¤ë©´ ì„œë¹„ìŠ¤ì˜ ì´ë¦„ì´ í˜¸ìŠ¤íŠ¸ëª…ì´ ë©ë‹ˆë‹¤.  $ docker-compose exec web ping db  PING db (192.168.48.2) 56(84) bytes of data. 64 bytes from our_app_db_1.our_app_default (192.168.48.2): icmp_seq=1 ttl=64 time=0.094 ms 64 bytes from our_app_db_1.our_app_default (192.168.48.2): icmp_seq=2 ttl=64 time=0.162 ms      í˜¸ì¶œ ìœ„ì¹˜ì— ë”°ë¥¸ í†µì‹   ì»¨í…Œì´ë„Œ ê°„ í†µì‹ ì—ì„œ ì£¼ì˜í•  ì ì€ ì ‘ì†í•˜ëŠ” ìœ„ì¹˜ê°€ ë””í´íŠ¸ ë„¤íŠ¸ì›Œí¬ ë‚´ë¶€ëƒ ì™¸ë¶€ëƒì— ë”°ë¼ì„œ í¬íŠ¸(port)ê°€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.  services:   web:     build: .     ports:       - \"8001:8000\"  # í˜¸ìŠ¤íŠ¸ ì»´í“¨í„°ì—ì„œ web ì„œë¹„ìŠ¤ ì»¨í…Œì´ë„ˆ ì ‘ì† $ curl -I localhost:8001  HTTP/1.1 200 OK Date: Fri, 05 Jun 2020 02:05:10 GMT Server: WSGIServer/0.2 CPython/3.8.2 Content-Type: text/html X-Frame-Options: DENY Content-Length: 16351 X-Content-Type-Options: nosniff  # ê°™ì€ ë„¤íŠ¸ì›Œí¬ ë‚´ì˜ ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆì—ì„œ web ì„œë¹„ìŠ¤ ì»¨í…Œì´ë„ˆ ì ‘ì† $ docker-compose exec alpine curl -I web:8000  HTTP/1.1 200 OK Date: Fri, 05 Jun 2020 02:13:46 GMT Server: WSGIServer/0.2 CPython/3.8.2 Content-Type: text/html X-Frame-Options: DENY Content-Length: 16351 X-Content-Type-Options: nosniff        ì»¤ìŠ¤í…€ ë„¤íŠ¸ì›Œí¬ ì¶”ê°€  Docker ComposeëŠ” ë””í´íŠ¸ ë„¤íŠ¸ì›Œí¬ ë¿ë§Œ ì•„ë‹ˆë¼ ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ë„ í•„ìš”ì— ë”°ë¼ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  services:   web:     build: .     ports:       - \"8000:8000\"     networks: # ì„œë¹„ìŠ¤ì—ì„œ ì—°ê²°í•  ë„¤íŠ¸ì›Œí¬ ì‘ì„±       - default       - our_net    db:     image: postgres     environment:       - POSTGRES_USER=postgres       - POSTGRES_PASSWORD=postgres  # ë„¤íŠ¸ì›Œí¬ ì¶”ê°€ networks:   our_net:     driver: bridge   Docker Composeë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ë©´ ë‘ê°œì˜ ë„¤íŠ¸ì›Œí¬ê°€ ìƒì„±ë˜ëŠ”ê±¸ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  $ docker-compose up -d Creating network \"our_app_default\" with the default driver Creating network \"our_app_our_net\" with driver \"bridge\" ...  $ our_app docker network ls NETWORK ID          NAME                   DRIVER              SCOPE f1859120a0c3        bridge                 bridge              local 95b00551745b        host                   host                local 1f7202baa40a        none                   null                local 2682634e6535        our_app_default        bridge              local 525403b38bbe        our_app_our_net        bridge              local  our_netì€ Docker Compose ë‚´ë¶€ì—ì„œ ì •ì˜ëœ ë„¤íŠ¸ì›Œí¬ ì´ë¯€ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë‚´ë¦´ ë•Œ ë””í´íŠ¸ ë„¤íŠ¸ì›Œí¬ì™€ í•¨ê»˜ ì‚­ì œë©ë‹ˆë‹¤.  $ docker-compose down  Stopping our_app_web_1 ... done Stopping our_app_db_1  ... done Removing our_app_web_1 ... done Removing our_app_db_1  ... done Removing network our_app_default Removing network our_app_our_net        ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ ì‚¬ìš©  Docker Composeê°€ ì œê³µí•˜ëŠ” ë””í´íŠ¸ ë„¤íŠ¸ì›Œí¬ ëŒ€ì‹ ì— ì™¸ë¶€ì—ì„œ ë¯¸ë¦¬ ìƒì„±í•´ë†“ì€ ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.   our_netì´ë¼ëŠ” ë„¤íŠ¸ì›Œí¬ ìƒì„±í•©ë‹ˆë‹¤.  $ docker network create our_net 6d791b927c8c151c45a10ac13c62f3571ecf38a90756fd2ca1c62b7d3de804e8  docker-compose.ymlì—ì„œÂ ë„¤íŠ¸ì›Œí¬ì˜ ì˜µì…˜ì—Â our_netë„¤íŠ¸ì›Œí¬ì— externalì„ ì„¤ì •í•©ë‹ˆë‹¤.  # 1ë²ˆ ë°©ë²™ version: '3.7'  services:   web:     build: .     ports:       - \"8000:8000\"     networks:       - our_net  networks:   our_net:     driver: bridge     external: true    ê²½ê³   ì™¸ë¶€ì—ì„œ ìƒì„±ëœ ë„¤íŠ¸ì›Œí¬ì´ë¯€ë¡œ Docker Compose ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë‚´ë¦´ ë•Œ í•´ë‹¹ ë„¤íŠ¸ì›Œí¬ê°€ í•¨ê»˜ ì‚­ì œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.  $ docker-compose down  Stopping our_app_web_1 ... done Stopping our_app_db_1  ... done Removing our_app_web_1 ... done Removing our_app_db_1  ... done Network our_net is external, skipping     ë ˆí¼ëŸ°ìŠ¤ ì°¸ê³      docker-compose ë„¤íŠ¸ì›Œí¬   docker-compose ë„¤íŠ¸ì›Œí¬ ì„¤ì •       ğŸ™‡ğŸ»â€â™‚ï¸ ì°¸ê³ ì‚¬ì´íŠ¸     https://www.daleseo.com  ","categories": ["Docker"],
        "tags": ["Docker","Docker Compose","Container"],
        "url": "/docker/docker-compose-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC/",
        "teaser": null
      },{
        "title": "Kubernetes ì‚´í´ë³´ê¸°",
        "excerpt":"ğŸ’¾ ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ ê¸°ë³¸ ê°œë…ì„ ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤.       ğŸ¯ ì¿ ë²„ë„¤í‹°ìŠ¤ë€?  ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ”Â ì»¨í…Œì´ë„ˆí™”ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬, ê´€ë¦¬, í™•ì¥í•  ë•Œ ìˆ˜ë°˜ë˜ëŠ” ë‹¤ìˆ˜ì˜ ìˆ˜ë™ í”„ë¡œì„¸ìŠ¤ë¥¼ ìë™í™”í•˜ëŠ”Â ì˜¤í”ˆì†ŒìŠ¤Â ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ í”Œë«í¼ì…ë‹ˆë‹¤.                  ìš©ì–´       ëœ»                       ì»¨í…Œì´ë„ˆ       ì•±ì´ êµ¬ë™ë˜ëŠ” í™˜ê²½ê¹Œì§€ ê°ì‹¸ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²©ë¦¬ ê¸°ìˆ                  ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„       ì»¨í…Œì´ë„ˆë¥¼ ë‹¤ë£¨ëŠ” ë„êµ¬                 ë„ì»¤       ì»¨í…Œì´ë„ˆë¥¼ ë‹¤ë£¨ëŠ” ë„êµ¬ ì¤‘ ê°€ì¥ ìœ ëª…í•œ ê²ƒ                 ì¿ ë²„ë„¤í‹°ìŠ¤       ì»¨ì´ë„ˆ ëŸ°íƒ€ì„ì„ í†µí•´ ì»¨í…Œì´ë„ˆë¥¼ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ í•˜ëŠ” ë„êµ¬                 ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜       ì—¬ëŸ¬ ì„œë²„ì— ê±¸ì¹œ ì»¨í…Œì´ë„ˆ ë° ì‚¬ìš©í•˜ëŠ” í™˜ê²½ ì„¤ì •ì„ ê´€ë¦¬í•˜ëŠ” í–‰ìœ„                   ğŸ¯ ì¿ ë²„ë„¤í‹°ìŠ¤ê°€ í•  ìˆ˜ ìˆëŠ” ì¼ì€?     ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬ì™€ ë¡œë“œ ë°¸ëŸ°ì‹±: ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” DNS ì´ë¦„ì„ ì‚¬ìš©í•˜ê±°ë‚˜ ìì²´ IP ì£¼ì†Œë¥¼ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆë¥¼ ë…¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì»¨í…Œì´ë„ˆì— ëŒ€í•œ íŠ¸ë˜í”½ì´ ë§ìœ¼ë©´, ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ì„ ë¡œë“œë°¸ëŸ°ì‹±í•˜ê³  ë°°í¬í•˜ì—¬ ë°°í¬ê°€ ì•ˆì •ì ìœ¼ë¡œ ì´ë£¨ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.   ìŠ¤í† ë¦¬ì§€ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜: ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ ë¡œì»¬ ì €ì¥ì†Œ, ê³µìš© í´ë¼ìš°ë“œ ê³µê¸‰ì ë“±ê³¼ ê°™ì´ ì›í•˜ëŠ” ì €ì¥ì†Œ ì‹œìŠ¤í…œì„ ìë™ìœ¼ë¡œ íƒ‘ì¬ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.   ìë™í™”ëœ ë¡¤ì•„ì›ƒê³¼ ë¡¤ë°±: ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°°í¬ëœ ì»¨í…Œì´ë„ˆì˜ ì›í•˜ëŠ” ìƒíƒœë¥¼ ì„œìˆ í•  ìˆ˜ ìˆìœ¼ë©° í˜„ì¬ ìƒíƒœë¥¼ ì›í•˜ëŠ” ìƒíƒœë¡œ ì„¤ì •í•œ ì†ë„ì— ë”°ë¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ìë™í™”í•´ì„œ ë°°í¬ìš© ìƒˆ ì»¨í…Œì´ë„ˆë¥¼ ë§Œë“¤ê³ , ê¸°ì¡´ ì»¨í…Œì´ë„ˆë¥¼ ì œê±°í•˜ê³ , ëª¨ë“  ë¦¬ì†ŒìŠ¤ë¥¼ ìƒˆ ì»¨í…Œì´ë„ˆì— ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.   ìë™í™”ëœ ë¹ˆ íŒ¨í‚¹(bin packing):Â ì»¨í…Œì´ë„ˆí™”ëœ ì‘ì—…ì„ ì‹¤í–‰í•˜ëŠ”ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„° ë…¸ë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤. ê° ì»¨í…Œì´ë„ˆê°€ í•„ìš”ë¡œ í•˜ëŠ” CPUì™€ ë©”ëª¨ë¦¬(RAM)ë¥¼ ì¿ ë²„ë„¤í‹°ìŠ¤ì—ê²Œ ì§€ì‹œí•©ë‹ˆë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ë…¸ë“œì— ë§ì¶”ì–´ì„œ ë¦¬ì†ŒìŠ¤ë¥¼ ê°€ì¥ ì˜ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•´ì¤ë‹ˆë‹¤.   ìë™í™”ëœ ë³µêµ¬(self-healing):Â ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ì‹¤íŒ¨í•œ ì»¨í…Œì´ë„ˆë¥¼ ë‹¤ì‹œ ì‹œì‘í•˜ê³ , ì»¨í…Œì´ë„ˆë¥¼ êµì²´í•˜ë©°, â€˜ì‚¬ìš©ì ì •ì˜ ìƒíƒœ ê²€ì‚¬â€™ì— ì‘ë‹µí•˜ì§€ ì•ŠëŠ” ì»¨í…Œì´ë„ˆë¥¼ ì£½ì´ê³ , ì„œë¹„ìŠ¤ ì¤€ë¹„ê°€ ëë‚  ë•Œê¹Œì§€ ê·¸ëŸ¬í•œ ê³¼ì •ì„ í´ë¼ì´ì–¸íŠ¸ì— ë³´ì—¬ì£¼ì§€ ì•ŠìŠµë‹ˆë‹¤.   ì‹œí¬ë¦¿ê³¼ êµ¬ì„± ê´€ë¦¬:Â ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ ì•”í˜¸, OAuth í† í° ë° SSH í‚¤ì™€ ê°™ì€ ì¤‘ìš”í•œ ì •ë³´ë¥¼ ì €ì¥í•˜ê³  ê´€ë¦¬ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ì¬êµ¬ì„±í•˜ì§€ ì•Šê³  ìŠ¤íƒ êµ¬ì„±ì— ì‹œí¬ë¦¿ì„ ë…¸ì¶œí•˜ì§€ ì•Šê³ ë„ ì‹œí¬ë¦¿ ë° ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ì„±ì„ ë°°í¬ ë° ì—…ë°ì´íŠ¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.           ğŸ¯ ì¿ ë²„ë„¤í‹°ìŠ¤ êµ¬ì„± ìš”ì†Œ     ì¿ ë²„ë„¤í‹°ìŠ¤ ì»´í¬ë„ŒíŠ¸ ì„¤ëª…   ì¿ ë²„ë„¤í‹°ìŠ¤ ì•„í‚¤í…ì²˜ ì„¤ëª…     ìš©ì–´ ì •ë¦¬  ìš©ì–´ ì •ë¦¬      ì»¨íŠ¸ë¡¤ í”Œë ˆì¸:Â ì¿ ë²„ë„¤í‹°ìŠ¤ ë…¸ë“œë¥¼ ì œì–´í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ì˜ ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤. ì—¬ê¸°ì—ì„œ ëª¨ë“  íƒœìŠ¤í¬ í• ë‹¹ì´ ì‹œì‘ë©ë‹ˆë‹¤.   ë…¸ë“œ:Â ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ì—ì„œ í• ë‹¹ëœ ìš”ì²­ íƒœìŠ¤í¬ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë¨¸ì‹ ì…ë‹ˆë‹¤.   í¬ë“œ:Â ë‹¨ì¼ ë…¸ë“œì— ë°°í¬ëœ í•˜ë‚˜ ì´ìƒì˜ ì»¨í…Œì´ë„ˆ ê·¸ë£¹ì…ë‹ˆë‹¤. í¬ë“œì— ìˆëŠ” ëª¨ë“  ì»¨í…Œì´ë„ˆëŠ” IP ì£¼ì†Œ, IPC, í˜¸ìŠ¤íŠ¸ ì´ë¦„, ê¸°íƒ€ ë¦¬ì†ŒìŠ¤ë¥¼ ê³µìœ í•©ë‹ˆë‹¤. í¬ë“œëŠ” ê¸°ë³¸ ì»¨í…Œì´ë„ˆì—ì„œ ë„¤íŠ¸ì›Œí¬ì™€ ìŠ¤í† ë¦¬ì§€ë¥¼ ì¶”ìƒí™”í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ í´ëŸ¬ìŠ¤í„°ì—ì„œ ì»¨í…Œì´ë„ˆë¥¼ ë” ì‰½ê²Œ ì´ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.   ë³µì œ ì»¨íŠ¸ë¡¤ëŸ¬:Â ì´ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” í´ëŸ¬ìŠ¤í„°ì—ì„œ ì‹¤í–‰ë˜ì–´ì•¼ í•˜ëŠ” ë™ì¼í•œ í¬ë“œ ë³µì‚¬ë³¸ì˜ ê°œìˆ˜ë¥¼ ì œì–´í•©ë‹ˆë‹¤.   ì„œë¹„ìŠ¤:Â í¬ë“œì—ì„œ ì‘ì—… ì •ì˜ë¥¼ ë¶„ë¦¬í•©ë‹ˆë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ ì„œë¹„ìŠ¤ í”„ë¡ì‹œëŠ” í´ëŸ¬ìŠ¤í„°ì—ì„œ ë‹¤ë¥¸ ìœ„ì¹˜ë¡œ ì´ë™ëœ ê²½ìš°ë‚˜ êµì²´ëœ ê²½ìš°ì— ìƒê´€ì—†ì´ ì„œë¹„ìŠ¤ ìš”ì²­ì„Â ì ì ˆí•œ í¬ë“œë¡œ ìë™ ìˆ˜ì‹ í•©ë‹ˆë‹¤.   Kubelet:Â ì´ ì„œë¹„ìŠ¤ëŠ” ë…¸ë“œì—ì„œ ì‹¤í–‰ë˜ë©° ì»¨í…Œì´ë„ˆ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ë¥¼ ì½ê³ , ì •ì˜ëœ ì»¨í…Œì´ë„ˆê°€ ì‹œì‘ë˜ì–´ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.   kubectl:Â ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ ì»¤ë§¨ë“œ ë¼ì¸ êµ¬ì„± íˆ´ì…ë‹ˆë‹¤.        ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ì»´í¬ë„ŒíŠ¸  ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ì»´í¬ë„ŒíŠ¸ëŠ” í´ëŸ¬ìŠ¤í„°ì— ê´€í•œ ì „ë°˜ì ì¸ ê²°ì •(ì˜ˆë¥¼ ë“¤ì–´, ìŠ¤ì¼€ì¤„ë§)ì„ ìˆ˜í–‰í•˜ê³  í´ëŸ¬ìŠ¤í„° ì´ë²¤íŠ¸(ì˜ˆë¥¼ ë“¤ì–´, ë””í”Œë¡œì´ë¨¼íŠ¸ì˜Â replicasÂ í•„ë“œì— ëŒ€í•œ ìš”êµ¬ ì¡°ê±´ì´ ì¶©ì¡±ë˜ì§€ ì•Šì„ ê²½ìš° ìƒˆë¡œìš´Â íŒŒë“œë¥¼ êµ¬ë™ì‹œí‚¤ëŠ” ê²ƒ)ë¥¼ ê°ì§€í•˜ê³  ë°˜ì‘í•©ë‹ˆë‹¤.      kube-apiserver: API ì„œë²„ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ APIë¥¼ ë…¸ì¶œí•˜ëŠ” ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ì˜ í”„ë¡ íŠ¸ ì—”ë“œ   etcd: ëª¨ë“  í´ëŸ¬ìŠ¤í„° ë°ì´í„°(êµ¬ì„± ìš”ì†Œë“¤ì˜ ìƒíƒœ ê°’ ë“±)ë¥¼ ë‹´ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ ë’·ë‹¨ì˜ ì €ì¥ì†Œë¡œ ì‚¬ìš©ë˜ëŠ” ì¼ê´€ì„±Â·ê³ ê°€ìš©ì„± í‚¤-ê°’ ì €ì¥ì†Œ   Kube-scheduler: ë…¸ë“œê°€ ë°°ì •ë˜ì§€ ì•Šì€ ìƒˆë¡œ ìƒì„±ëœÂ íŒŒë“œë¥¼ ê°ì§€í•˜ê³ , ë…¸ë“œì˜ ìƒíƒœì™€ ìì›, ë ˆì´ë¸”, ìš”êµ¬ ì¡°ê±´ ë“±ì„ ê³ ë ¤í•´ íŒŒë“œë¥¼ ì–´ë–¤ ì›Œì»¤ ë…¸ë“œì— ìƒì„±í•  ê²ƒì¸ì§€ë¥¼ ê²°ì •í•˜ê³  í• ë‹¹   kube-controller-manager: ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì˜ ì˜¤ë¸Œì íŠ¸ ìƒíƒœë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.            ë…¸ë“œ ì»¨íŠ¸ë¡¤ëŸ¬: ë…¸ë“œê°€ ë‹¤ìš´ë˜ì—ˆì„ ë•Œ í†µì§€ì™€ ëŒ€ì‘ì— ê´€í•œ ì±…ì„       ì¡ ì»¨íŠ¸ë¡¤ëŸ¬: ì¼íšŒì„± ì‘ì—…ì„ ë‚˜íƒ€ë‚´ëŠ” ì¡ ì˜¤ë¸Œì íŠ¸ë¥¼ ê°ì‹œí•œ ë‹¤ìŒ, í•´ë‹¹ ì‘ì—…ì„ ì™„ë£Œí•  ë•Œê¹Œì§€ ë™ì‘í•˜ëŠ” íŒŒë“œë¥¼ ìƒì„±       ì—”ë“œí¬ì¸íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬: ì„œë¹„ìŠ¤ì™€ íŒŒë“œë¥¼ ì—°ê²°       ì„œë¹„ìŠ¤ ì–´ì¹´ìš´íŠ¸ &amp; í† í° ì»¨íŠ¸ë¡¤ëŸ¬: ìƒˆë¡œìš´ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì— ëŒ€í•œ ê¸°ë³¸ ê³„ì •ê³¼ API ì ‘ê·¼ í† í°ì„ ìƒì„±                ë…¸ë“œ ì»´í¬ë„ŒíŠ¸  ë…¸ë“œ ì»´í¬ë„ŒíŠ¸ëŠ” ë™ì‘ ì¤‘ì¸ íŒŒë“œë¥¼ ìœ ì§€ì‹œí‚¤ê³  ì¿ ë²„ë„¤í‹°ìŠ¤ ëŸ°íƒ€ì„ í™˜ê²½ì„ ì œê³µí•˜ë©°, ëª¨ë“  ë…¸ë“œ ìƒì—ì„œ ë™ì‘í•©ë‹ˆë‹¤.      ë…¸ë“œ: ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ì—ì„œ í• ë‹¹ëœ ìš”ì²­ íƒœìŠ¤í¬ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë¨¸ì‹ ì…ë‹ˆë‹¤. (ì„œë²„)   íŒŒë“œ(pod): í•œ ê°œ ì´ìƒì˜ ì»¨í…Œì´ë„ˆë¡œ ì´ë£¨ì–´ì§„ ìµœì†Œ ë‹¨ìœ„   ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„(CRI, Container Runtime Interface): íŒŒë“œë¥¼ ì´ë£¨ëŠ” ì»¨í…Œì´ë„ˆì˜ ì‹¤í–‰ì„ ë‹´ë‹¹. í‘œì¤€ ì¸í„°í˜ì´ìŠ¤   kubelet: íŒŒë“œì˜ êµ¬ì„± ë‚´ìš©(PodSpec)ì„ ë°›ì•„ì„œ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ìœ¼ë¡œ ì „ë‹¬í•˜ê³ , íŒŒë“œ ì•ˆì˜ ì»¨í…Œì´ë„ˆë“¤ì´ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ëŠ”ì§€ ëª¨ë‹ˆí„°ë§   kube-proxy: í´ëŸ¬ìŠ¤í„°ì˜ ê°Â ë…¸ë“œì—ì„œ ì‹¤í–‰ë˜ëŠ” ë„¤íŠ¸ì›Œí¬ í”„ë¡ì‹œë¡œ, ì¿ ë²„ë„¤í‹°ìŠ¤ì˜Â ì„œë¹„ìŠ¤Â ê°œë…ì˜ êµ¬í˜„ë¶€ì…ë‹ˆë‹¤. ë…¸ë“œì˜ ë„¤íŠ¸ì›Œí¬ ê·œì¹™ì„ ìœ ì§€ ê´€ë¦¬í•´ì¤ë‹ˆë‹¤. ì´ ë„¤íŠ¸ì›Œí¬ ê·œì¹™ì´ ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ ì„¸ì…˜ì´ë‚˜ í´ëŸ¬ìŠ¤í„° ë°”ê¹¥ì—ì„œ íŒŒë“œë¡œ ë„¤íŠ¸ì›Œí¬ í†µì‹ ì„ í•  ìˆ˜ ìˆë„ë¡ í•´ì¤ë‹ˆë‹¤.   CoreDNS: í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ì»´í“¨íŒ… ì¬ë‹¨ì—ì„œ ë³´ì¦í•˜ëŠ” í”„ë¡œì íŠ¸ë¡œ, ë¹ ë¥´ê³  ìœ ì—°í•œ DNS ì„œë²„. ì¿ ë²„í…Œí‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì—ì„œ ë„ë©”ì¸ ì´ë¦„ì„ ì´ìš©í•´ í†µì‹ í•˜ëŠ” ë° ì‚¬ìš©í•©ë‹ˆë‹¤.        íŒŒë“œì˜ ìƒëª…ì£¼ê¸°ë¡œ ì¿ ë²„ë„¤í‹°ìŠ¤ êµ¬ì„± ìš”ì†Œ ì‚´í´ë³´ê¸°        kubectlì„ í†µí•´ API ì„œë²„ì— íŒŒë“œ ìƒì„±ì„ ìš”ì²­   (ì—…ë°ì´íŠ¸ê°€ ìˆì„ ë•Œ ë§ˆë‹¤) API ì„œë²„ì— ì „ë‹¬ëœ ë‚´ìš©ì´ ìˆìœ¼ë©´ API ì„œë²„ëŠ” etcdì— ì „ë‹¬ëœ ë‚´ìš©ì„ ëª¨ë‘ ê¸°ë¡í•´ í´ëŸ¬ìŠ¤í„°ì˜ ìƒíƒœ ê°’ì„ ìµœì‹ ìœ¼ë¡œ ìœ ì§€í•©ë‹ˆë‹¤.   API ì„œë²„ì— íŒŒë“œ ìƒì„±ì´ ìš”ì²­ëœ ê²ƒì„ ì»¨íŠ¸ë¡¤ëŸ¬ ë§¤ë‹ˆì €ê°€ ì¸ì§€í•˜ë©´ ì»¨íŠ¸ë¡¤ëŸ¬ ë§¤ë‹ˆì €ëŠ” íŒŒë“œë¥¼ ìƒì„±í•˜ê³ , ì´ ìƒíƒœë¥¼ APIì„œë²„ì— ì „ë‹¬í•©ë‹ˆë‹¤. ì°¸ê³ ë¡œ ì•„ì§ ì–´ë–¤ ì›Œì»¤ ë…¸ë“œì— íŒŒë“œë¥¼ ì ìš©í• ì§€ëŠ” ê²°ì •ë˜ì§€ ì•Šì€ ìƒíƒœë¡œ íŒŒë“œë§Œ ìƒì„±ëœë‹¤.   API ì„œë²„ì— íŒŒë“œê°€ ìƒì„±ëë‹¤ëŠ” ì •ë³´ë¥¼ ìŠ¤ì¼€ì¤„ëŸ¬ê°€ ì¸ì§€í•©ë‹ˆë‹¤. ìŠ¤ì¼€ì¤„ëŸ¬ëŠ” ìƒì„±ëœ íŒŒë“œë¥¼ ì–´ë–¤ ì›Œì»¤ ë…¸ë“œì— ì ìš©í• ì§€ ì¡°ê±´ì„ ê³ ë ¤í•´ ê²°ì •í•˜ê³  í•´ë‹¹ ì›Œì»¤ ë…¸ë“œì— íŒŒë“œë¥¼ ë„ìš°ë„ë¡ ìš”ì²­í•©ë‹ˆë‹¤.   APIì„œë²„ì— ì „ë‹¬ëœ ì •ë³´ëŒ€ë¡œ ì§€ì •í•œ ì›Œì»¤ ë…¸ë“œì— íŒŒë“œê°€ ì†í•´ ìˆëŠ”ì§€ ìŠ¤ì¼€ì¤„ëŸ¬ê°€ kubeletìœ¼ë¡œ í™•ì¸í•©ë‹ˆë‹¤.   kubeletì—ì„œ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ìœ¼ë¡œ íŒŒë“œ ìƒì„± ìš”ì²­í•©ë‹ˆë‹¤.   íŒŒë“œ ìƒì„±   íŒŒë“œ ì‚¬ìš© ê°€ëŠ¥í•œ ìƒíƒœê°€ ë©ë‹ˆë‹¤.         ì°¸ê³   ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ì„ ì–¸ì ì¸ ì‹œìŠ¤í…œ êµ¬ì¡°ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì¦‰, ê° ìš”ì†Œê°€ ì¶”êµ¬í•˜ëŠ” ìƒíƒœë¥¼ ì„ ì–¸í•˜ë©´ í˜„ì¬ ìƒíƒœì™€ ë§ëŠ”ì§€ ì ê²€í•˜ê³  ê·¸ê²ƒì— ë§ì¶”ë ¤ê³  ë…¸ë ¥í•˜ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤.              ğŸ¯ ì˜¤ë¸Œì íŠ¸  ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê´€ì ì—ì„œ íŒŒë“œ, ë””í”Œë¡œì´ë¨¼íŠ¸ ë“±ì€ ìŠ¤í™(spec)ê³¼ ìƒíƒœ(status) ë“±ì˜ ê°’ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ê°’ì„ ê°€ì§€ê³  ìˆëŠ” íŒŒë“œì™€ ë””í”Œë¡œì´ë¨¼íŠ¸ ë“±ì„ ê°œë³„ ì†ì„±ì„ í¬í•¨í•´ ë¶€ë¥´ëŠ” ë‹¨ìœ„ë¥¼ ì˜¤ë¸Œì íŠ¸(Object)ë¼ê³  í•©ë‹ˆë‹¤.   ì¿ ë²„ë„¤í‹°ìŠ¤ ì˜¤ë¸Œì íŠ¸ëŠ” í•˜ë‚˜ì˜ ì˜ë„ë¥¼ ë‹´ì€ ë ˆì½”ë“œì…ë‹ˆë‹¤. ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„±í•˜ê²Œ ë˜ë©´, ì¿ ë²„ë„¤í‹°ìŠ¤ ì‹œìŠ¤í…œì€ ê·¸ ì˜¤ë¸Œì íŠ¸ ìƒì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ì§€ì†ì ìœ¼ë¡œ ì‘ë™í•  ê²ƒì…ë‹ˆë‹¤. ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„±í•¨ìœ¼ë¡œì¨, í´ëŸ¬ìŠ¤í„°ì˜ ì›Œí¬ë¡œë“œë¥¼ ì–´ë–¤ í˜•íƒœë¡œ ë³´ì´ê³ ì í•˜ëŠ”ì§€ì— ëŒ€í•´ íš¨ê³¼ì ìœ¼ë¡œ ì¿ ë²„ë„¤í‹°ìŠ¤ ì‹œìŠ¤í…œì— ì „ë‹¬í•©ë‹ˆë‹¤.       ê¸°ë³¸ ì˜¤ë¸Œì íŠ¸     íŒŒë“œ(Pod): ì¿ ë²„ë„¤í‹°ìŠ¤ì— ì‹¤í–‰ë˜ëŠ” ìµœì†Œ ë‹¨ìœ„, ë…ë¦½ì ì¸ ê³µê°„ê³¼ ì‚¬ìš© ê°€ëŠ¥í•œ IPë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. í•˜ë‚˜ì˜ íŒŒë“œëŠ” 1ê°œ ì´ìƒì˜ ì»¨í…Œì´ë„ˆë¥¼ ê°–ê³  ìˆìŠµë‹ˆë‹¤.   ë„¤ì„ìŠ¤í˜ì´ìŠ¤(Namespaces): ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë¦¬ì†ŒìŠ¤ë“¤ì„ êµ¬ë¶„í•´ ê´€ë¦¬í•˜ëŠ” ê·¸ë£¹ì…ë‹ˆë‹¤.   ë³¼ë¥¨(Volume): íŒŒë“œê°€ ìƒì„±ë  ë•Œ íŒŒë“œì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë””ë ‰í„°ë¦¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ íŒŒë“œëŠ” ì˜ì†ë˜ëŠ” ê°œë…ì´ ì•„ë‹ˆë¼ ì œê³µë˜ëŠ” ë””ë ‰í† ë¦¬ë„ ì„ì‹œë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ íŒŒë“œê°€ ì‚¬ë¼ì§€ë”ë¼ë„ ì €ì¥ê³¼ ë³´ì¡´ì´ ê°€ëŠ¥í•œ ë””ë ‰í„°ë¦¬ë¥¼ ë³¼ë¥¨ ì˜¤ë¸Œì íŠ¸ë¥¼ í†µí•´ ìƒì„±í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.   ì„œë¹„ìŠ¤(Service): íŒŒë“œëŠ” í´ëŸ¬ìŠ¤í„° ë‚´ì—ì„œ ìœ ë™ì ì´ê¸° ë•Œë¬¸ì— ì ‘ì† ì •ë³´ê°€ ê³ ì •ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ íŒŒë“œ ì ‘ì†ì„ ì•ˆì •ì ìœ¼ë¡œ ìœ ì§€í•˜ë„ë¡ ì„œë¹„ìŠ¤ë¥¼ í†µí•´ ë‚´/ì™¸ë¶€ë¡œ ì—°ê²°ë©ë‹ˆë‹¤. ìƒˆë¡œìš´ íŒŒë“œê°€ ìƒì„±ë  ë•Œ ë¶€ì—¬ë˜ëŠ” ìƒˆë¡œìš´ IPë¥¼ ê¸°ì¡´ì— ì œê³µí•˜ë˜ ê¸°ëŠ¥ê³¼ ì—°ê²°í•´ ì¤ë‹ˆë‹¤.        ê¸°ë³¸ ì˜¤ë¸Œì íŠ¸ ë§ê³ ë„ ì—¬ëŸ¬ê°€ì§€ ì˜¤ë¸Œì íŠ¸ë“¤ì´ ì¡´ì¬í•©ë‹ˆë‹¤.   ë””í”Œë¡œì´ë¨¼íŠ¸  ê¸°ë³¸ ì˜¤ë¸Œì íŠ¸ë§Œìœ¼ë¡œë„ ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ ì´ë¥¼ ì¢€ ë” íš¨ìœ¨ì ìœ¼ë¡œ ì‘ë™í•˜ë„ë¡ ê¸°ëŠ¥ë“¤ì„ ì¡°í•©í•˜ê³  ì¶”ê°€í•´ êµ¬í˜„í•œ ê²ƒì´ ë””í”Œë¡œì´ë¨¼íŠ¸ ì…ë‹ˆë‹¤. ë””í”Œë¡œì´ë¨¼íŠ¸ ì˜¤ë¸Œì íŠ¸ëŠ” íŒŒë“œì— ê¸°ë³¸ì„ ë‘ê³  ìˆìœ¼ë©°, ë ˆí”Œë¦¬ì¹´ì…‹ ì˜¤ë¸Œì íŠ¸ë¥¼ í•©ì³ ë†“ì€ í˜•íƒœ ì…ë‹ˆë‹¤.           ë ˆí”Œë¦¬ì¹´ì…‹  ë‹¤ìˆ˜ì˜ íŒŒë“œê°€ í•„ìš”í•œë° ì´ë¥¼ í•˜ë‚˜ì”© ìƒì„±í•œë‹¤ë©´ ë§¤ìš° ë¹„íš¨ìœ¨ì ì…ë‹ˆë‹¤. ê·¸ë˜ì„œ ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œëŠ” ë‹¤ìˆ˜ì˜ íŒŒë“œë¥¼ ë§Œë“œëŠ” ë ˆí”Œë¦¬ì¹´ì…‹ ì˜¤ë¸Œì íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.   ì˜ˆë¥¼ ë“¤ì–´ íŒŒë“œë¥¼ 3ê°œ ë§Œë“¤ê² ë‹¤ê³  ë ˆí”Œë¦¬ì¹´ì…‹ì— ì„ ì–¸í•˜ë©´ ì»¨íŠ¸ë¡¤ëŸ¬ ë§¤ë‹ˆì €ì™€ ìŠ¤ì¼€ì¤„ëŸ¬ê°€ ì›Œì»¤ ë…¸ë“œì— íŒŒë“œ 3ê°œë¥¼ ë§Œë“¤ë„ë¡ ì„ ì–¸í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë ˆí”Œë¦¬ì¹´ì…‹ì€ íŒŒë“œ ìˆ˜ë¥¼ ë³´ì¥í•˜ëŠ” ê¸°ëŠ¥ë§Œ ì œê³µí•˜ê¸° ë•Œë¬¸ì— ë¡¤ë§ ì—…ë°ì´íŠ¸ ê¸°ëŠ¥ ë“±ì´ ì¶”ê°€ëœ ë””í”Œë¡œì´ë¨¼íŠ¸ë¥¼ ì‚¬ìš©í•´ íŒŒë“œ ìˆ˜ë¥¼ ê´€ë¦¬í•˜ê¸°ë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤.          ì˜¤ë¸Œì íŠ¸ ìŠ¤í™  ì—¬ëŸ¬ê°€ì§€ ì„¤ì •ì„ ì»¤ë§¨ë“œ ëª…ë ¹ìœ¼ë¡œë§Œìœ¼ë¡œ ì‹¤í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì´ëŸ° ì„¤ì •ì€ íŒŒì¼ë¡œ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤. ì´ë•Œ ì‘ì„±í•˜ëŠ” íŒŒì¼ì„ ì˜¤ë¸Œì íŠ¸ ìŠ¤í™ì´ë¼ê³  í•©ë‹ˆë‹¤. ì˜¤ë¸Œì íŠ¸ ìŠ¤í™ì€ ì¼ë°˜ì ìœ¼ë¡œ ì•¼ë¯ˆ(YAML) ë¬¸ë²•ìœ¼ë¡œ ì‘ì„±í•©ë‹ˆë‹¤.   ë‹¤ìŒì€ ì˜¤ë¸Œì íŠ¸ ìŠ¤í™ì˜ ì˜ˆì‹œì…ë‹ˆë‹¤.  apiVersion: apps/v1 kind: Deployment   # ì¢…ë¥˜ metadata:   name: nginx-deployment     # ë””í”Œë¡œì´ë¨¼íŠ¸ì˜ ì´ë¦„   labels:                    # ë””í”Œë¡œì´ë¨¼íŠ¸ì˜ ë ˆì´ë¸”     app: nginx spec:   replicas: 3       # ë ˆí”Œë¦¬ì¹´ ì…‹ì„ ëª‡ ê°œ ìƒì„±í• ì§€ ê²°ì •   selector:         # ì…€ë ‰í„°ì˜ ë ˆì´ë¸” ì§€ì •     matchLabels:       app: nginx   template:     metadata:       # í…œí”Œë¦¿ì˜ ë©”íƒ€ë°ì´í„° ì§€ì •       labels:         app: nginx     spec:           # í…œí”Œë¦¿ì—ì„œ ì‚¬ìš©í•  ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ì§€ì •       containers:       - name: nginx         image: nginx:1.14.2         ports:         - containerPort: 80                ğŸ™‡ğŸ»â€â™‚ï¸ ì°¸ê³ ì‚¬ì´íŠ¸     ì»¨í…Œì´ë„ˆ ì¸í”„ë¼ í™˜ê²½ êµ¬ì¶•ì„ ìœ„í•œ ì¿ ë²„ë„¤í‹°ìŠ¤/ë„ì»¤   ì¿ ë²„ë„¤í‹°ìŠ¤ ë ˆí¼ëŸ°ìŠ¤   ì¿ ë²„ë„¤í‹°ìŠ¤ ê°€ì´ë“œ   ê¹€ì§•ì–´ì˜ Devlog  ","categories": ["Kubernetes"],
        "tags": ["Kubernetes","k8s"],
        "url": "/kubernetes/kubernetes-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0/",
        "teaser": null
      },{
        "title": "kubectl ê¸°ë³¸ ëª…ë ¹ì–´",
        "excerpt":"ğŸ’¾ kubectl ê¸°ë³¸ëª…ë ¹ì–´ë¥¼ ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤.       apply  ì›í•˜ëŠ” ë¦¬ì†ŒìŠ¤ì˜ ìƒíƒœë¥¼ YAMLë¡œ ì‘ì„±í•˜ê³  apply ëª…ë ì–´ë¡œ ì„ ì–¸í•©ë‹ˆë‹¤.  kubectl apply -f [íŒŒì¼ëª… ë˜ëŠ” URL]  kubectl apply -f ./my-manifest.yaml        # ë¦¬ì†ŒìŠ¤(ë“¤) ìƒì„± kubectl apply -f ./my1.yaml -f ./my2.yaml  # ì—¬ëŸ¬ íŒŒì¼ë¡œ ë¶€í„° ìƒì„± kubectl apply -f ./dir                     # dir ë‚´ ëª¨ë“  ë§¤ë‹ˆí˜ìŠ¤íŠ¸ íŒŒì¼ì—ì„œ ë¦¬ì†ŒìŠ¤(ë“¤) ìƒì„±  kubectl apply -f https://git.io/vPieo      # urlë¡œë¶€í„° ë¦¬ì†ŒìŠ¤(ë“¤) ìƒì„±        get  ë¦¬ì†ŒìŠ¤ ëª©ë¡ ë³´ê¸°. ì¶œë ¥ í˜•íƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆëŠ”Â -oì™€ ë ˆì´ë¸”ì„ í™•ì¸í•  ìˆ˜ ìˆëŠ”Â --show-labelsë¥¼ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  kubectl get [TYPE]  # ê¸°ë³¸ ì¶œë ¥ì„ ìœ„í•œ Get ì»¤ë§¨ë“œ kubectl get services                      # ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë‚´ ëª¨ë“  ì„œë¹„ìŠ¤ì˜ ëª©ë¡ ì¡°íšŒ kubectl get pods --all-namespaces         # ëª¨ë“  ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë‚´ ëª¨ë“  íŒŒë“œì˜ ëª©ë¡ ì¡°íšŒ kubectl get pods -o wide                  # í•´ë‹¹í•˜ëŠ” ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë‚´ ëª¨ë“  íŒŒë“œì˜ ìƒì„¸ ëª©ë¡ ì¡°íšŒ kubectl get deployment my-dep             # íŠ¹ì • ë””í”Œë¡œì´ë¨¼íŠ¸ì˜ ëª©ë¡ ì¡°íšŒ kubectl get pods                          # ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë‚´ ëª¨ë“  íŒŒë“œì˜ ëª©ë¡ ì¡°íšŒ kubectl get pod my-pod -o yaml            # íŒŒë“œì˜ YAML ì¡°íšŒ        describe  ì¿ ë²„ë„¤í‹°ìŠ¤ì— ì„ ì–¸ëœ ë¦¬ì†ŒìŠ¤ì˜ ìƒì„¸í•œ ìƒíƒœë¥¼ í™•ì¸í•©ë‹ˆë‹¤. íŠ¹ì • ë¦¬ì†ŒìŠ¤ì˜ ìƒíƒœê°€ ê¶ê¸ˆí•˜ê±°ë‚˜ ìƒì„±ì´ ì‹¤íŒ¨í•œ ì´ìœ ë¥¼ í™•ì¸í•  ë•Œ ì£¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.  kubectl describe [TYPE]/[NAME] ë˜ëŠ” [TYPE] [NAME]  kubectl get pod                                 # Pod ì¡°íšŒë¡œ ì´ë¦„ ê²€ìƒ‰ kubectl describe pod/wordpress-5f59577d4d-8t2dg # ì¡°íšŒí•œ ì´ë¦„ìœ¼ë¡œ ìƒì„¸ í™•ì¸        delete  ì¿ ë²„ë„¤í‹°ìŠ¤ì— ì„ ì–¸ëœ ë¦¬ì†ŒìŠ¤ë¥¼ ì œê±°í•©ë‹ˆë‹¤.  kubectl delete [TYPE]/[NAME] ë˜ëŠ” [TYPE] [NAME]  kubectl get pod                                # Pod ì¡°íšŒë¡œ ì´ë¦„ ê²€ìƒ‰ kubectl delete pod/wordpress-5f59577d4d-8t2dg  # ì¡°íšŒí•œ Pod ì œê±° kubectl delete deploy deploymentname -n namespacename        logs  ì»¨í…Œì´ë„ˆì˜ ë¡œê·¸ë¥¼ í™•ì¸í•©ë‹ˆë‹¤. ì‹¤ì‹œê°„ ë¡œê·¸ë¥¼ ë³´ê³  ì‹¶ë‹¤ë©´ -fÂ ì˜µì…˜ì„ ì´ìš©í•©ë‹ˆë‹¤. í•˜ë‚˜ì˜ Podì— ì—¬ëŸ¬ ê°œì˜ ì»¨í…Œì´ë„ˆê°€ ìˆëŠ” ê²½ìš°ëŠ”Â -cÂ ì˜µì…˜ìœ¼ë¡œ ì»¨í…Œì´ë„ˆë¥¼ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤.  kubectl logs [POD_NAME]  kubectl get pod                              # Pod ì¡°íšŒë¡œ ì´ë¦„ ê²€ìƒ‰ kubectl logs wordpress-5f59577d4d-8t2dg      # ì¡°íšŒí•œ Pod ë¡œê·¸ì¡°íšŒ kubectl logs -f wordpress-5f59577d4d-8t2dg   # ì‹¤ì‹œê°„ ë¡œê·¸ ë³´ê¸° kubectl logs my-pod -c my-container          # ë©€í‹°-ì»¨í…Œì´ë„ˆ ê²½ìš°        exec  ì»¨í…Œì´ë„ˆì— ëª…ë ¹ì–´ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤. ì‰˜ë¡œ ì ‘ì†í•˜ì—¬ ì»¨í…Œì´ë„ˆ ìƒíƒœë¥¼ í™•ì¸í•˜ëŠ” ê²½ìš°ì—Â -itÂ ì˜µì…˜ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ì—¬ëŸ¬ ê°œì˜ ì»¨í…Œì´ë„ˆê°€ ìˆëŠ” ê²½ìš°ì—”Â -cÂ ì˜µì…˜ìœ¼ë¡œ ì»¨í…Œì´ë„ˆë¥¼ ì§€ì •í•©ë‹ˆë‹¤.  kubectl exec [-it] [POD_NAME] -- [COMMAND]  kubectl get pod                                        # Pod ì¡°íšŒë¡œ ì´ë¦„ ê²€ìƒ‰ kubectl exec -it wordpress-5f59577d4d-8t2dg -- bash    # ì¡°íšŒí•œ Podì˜ ì»¨í…Œì´ë„ˆì— ì ‘ì† kubectl exec my-pod -c my-container -- ls /            # ë©€í‹°-ì»¨í…Œì´ë„ˆ ê²½ìš°        config  kubectlì´ í†µì‹ í•˜ê³  ì„¤ì • ì •ë³´ë¥¼ ìˆ˜ì •í•˜ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.  kubectl config get-contexts             # ì»¨í…ìŠ¤íŠ¸ ë¦¬ìŠ¤íŠ¸ ì¶œë ¥ kubectl config current-context          # í˜„ì¬ ì»¨í…ìŠ¤íŠ¸ í™•ì¸ kubectl config use-context minikube     # ê¸°ë³¸ ì»¨í…ìŠ¤íŠ¸ë¡œ ì„¤ì •        api-resources  API ë¦¬ì†ŒìŠ¤ë¥¼ íƒìƒ‰í•©ë‹ˆë‹¤.  kubectl api-resources                        # ì „ì²´ ì˜¤ë¸Œì íŠ¸ ì¢…ë¥˜ í™•ì¸ kubectl api-resources --namespaced=true      # ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ê°€ì§€ëŠ” ëª¨ë“  ë¦¬ì†ŒìŠ¤ kubectl api-resources --namespaced=false     # ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ê°€ì§€ì§€ ì•ŠëŠ” ëª¨ë“  ë¦¬ì†ŒìŠ¤ kubectl api-resources -o name                # ëª¨ë“  ë¦¬ì†ŒìŠ¤ì˜ ë‹¨ìˆœí•œ (ë¦¬ì†ŒìŠ¤ ì´ë¦„ë§Œ) ì¶œë ¥ kubectl api-resources -o wide                # ëª¨ë“  ë¦¬ì†ŒìŠ¤ì˜ í™•ì¥ëœ (\"wide\"ë¡œ ì•Œë ¤ì§„) ì¶œë ¥ kubectl api-resources --verbs=list,get       # \"list\"ì™€ \"get\"ì˜ ìš”ì²­ ë™ì‚¬ë¥¼ ì§€ì›í•˜ëŠ” ëª¨ë“  ë¦¬ì†ŒìŠ¤ ì¶œë ¥ kubectl api-resources --api-group=extensions # \"extensions\" API ê·¸ë£¹ì˜ ëª¨ë“  ë¦¬ì†ŒìŠ¤        explain  íŠ¹ì • ì˜¤ë¸Œì íŠ¸ ì„¤ëª…ì„ í™•ì¸í•©ë‹ˆë‹¤.  kubectl explain pods           # íŒŒë“œ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ ë¬¸ì„œë¥¼ ì¡°íšŒ        cp  ë¡œì»¬ì—ì„œ ì»¨í…Œì´ë„ˆë¡œ, ì»¨í…Œì´ë„ˆì—ì„œ ë¡œì»¬ë¡œ íŒŒì¼ê³¼ ë””ë ‰í„°ë¦¬ë¥¼ ë³µì‚¬í•©ë‹ˆë‹¤.  kubectl cp /tmp/foo_dir my-pod:/tmp/bar_dir            # ë¡œì»¬ ë””ë ‰í† ë¦¬ /tmp/foo_dir ë¥¼ í˜„ì¬ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì˜ my-pod íŒŒë“œ ì•ˆì˜ /tmp/bar_dir ë¡œ ë³µì‚¬ kubectl cp /tmp/foo my-pod:/tmp/bar -c my-container    # ë¡œì»¬ íŒŒì¼ /tmp/foo ë¥¼ my-pod íŒŒë“œì˜ my-container ì»¨í…Œì´ë„ˆ ì•ˆì˜ /tmp/bar ë¡œ ë³µì‚¬ kubectl cp /tmp/foo my-namespace/my-pod:/tmp/bar       # ë¡œì»¬ íŒŒì¼ /tmp/foo ë¥¼ my-namespace ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì˜ my-pod íŒŒë“œ ì•ˆì˜ /tmp/bar ë¡œ ë³µì‚¬ kubectl cp my-namespace/my-pod:/tmp/foo /tmp/bar       # my-namespace ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì˜ my-pod íŒŒë“œ ì•ˆì˜ íŒŒì¼ /tmp/foo ë¥¼ ë¡œì»¬ì˜ /tmp/bar ë¡œ ë³µì‚¬        ì¶œë ¥ í˜•ì‹ ì§€ì •  íŠ¹ì • í˜•ì‹ìœ¼ë¡œ í„°ë¯¸ë„ ì°½ì— ì„¸ë¶€ì‚¬í•­ì„ ì¶œë ¥í•˜ë ¤ë©´, kubectlÂ ëª…ë ¹ì—Â -oÂ (ë˜ëŠ”Â --output) í”Œë˜ê·¸ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.                  ì¶œë ¥ í˜•ì‹       ì„¸ë¶€ ì‚¬í•­                       -o=custom-columns=       ì‰¼í‘œë¡œ êµ¬ë¶„ëœ ì‚¬ìš©ì ì •ì˜ ì—´ ëª©ë¡ì„ ì‚¬ìš©í•˜ì—¬ í…Œì´ë¸” ì¶œë ¥                 -o=custom-columns-file=       íŒŒì¼ì—ì„œ ì‚¬ìš©ì ì •ì˜ ì—´ í…œí”Œë¦¿ì„ ì‚¬ìš©í•˜ì—¬ í…Œì´ë¸” ì¶œë ¥                 -o=json       JSON í˜•ì‹ì˜ API ì˜¤ë¸Œì íŠ¸ ì¶œë ¥                 -o=jsonpath=       https://kubernetes.io/ko/docs/reference/kubectl/jsonpathÂ í‘œí˜„ì‹ì— ì •ì˜ëœ í•„ë“œ ì¶œë ¥                 -o=jsonpath-file=        íŒŒì¼ì—ì„œÂ https://kubernetes.io/ko/docs/reference/kubectl/jsonpathÂ í‘œí˜„ì‹ì— ì •ì˜ëœ í•„ë“œ ì¶œë ¥                 -o=name       ë¦¬ì†ŒìŠ¤ ëª…ë§Œ ì¶œë ¥í•˜ê³  ê·¸ ì™¸ì—ëŠ” ì¶œë ¥í•˜ì§€ ì•ŠìŒ                 -o=wide       ì¶”ê°€ ì •ë³´ê°€ í¬í•¨ëœ ì¼ë°˜-í…ìŠ¤íŠ¸ í˜•ì‹ìœ¼ë¡œ ì¶œë ¥í•˜ê³ , íŒŒë“œì˜ ê²½ìš° ë…¸ë“œ ëª…ì´ í¬í•¨                 -o=yaml       YAML í˜•ì‹ì˜ API ì˜¤ë¸Œì íŠ¸ ì¶œë ¥            ì‚¬ìš©ë°©ë²•  $ kubectl get [(-o|--output=)json|yaml|name|go-template|go-template-file |template|templatefile|jsonpath|jsonpath-as-json|jsonpath-file|custom-columns |custom-columns-file|wide] (TYPE[.VERSION][.GROUP] [NAME | -l label] | TYPE[.VERSION][.GROUP]/NAME ...) [flags]    # í´ëŸ¬ìŠ¤í„°ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ëª¨ë“  ì´ë¯¸ì§€ kubectl get pods -A -o=custom-columns='DATA:spec.containers[*].image'  # `default` ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì˜ ëª¨ë“  ì´ë¯¸ì§€ë¥¼ íŒŒë“œë³„ë¡œ ê·¸ë£¹ì§€ì–´ ì¶œë ¥ kubectl get pods --namespace default --output=custom-columns=\"NAME:.metadata.name,IMAGE:.spec.containers[*].image\"   # \"registry.k8s.io/coredns:1.6.2\" ë¥¼ ì œì™¸í•œ ëª¨ë“  ì´ë¯¸ì§€ kubectl get pods -A -o=custom-columns='DATA:spec.containers[?(@.image!=\"registry.k8s.io/coredns:1.6.2\")].image'  # ì´ë¦„ì— ê´€ê³„ì—†ì´ ë©”íƒ€ë°ì´í„° ì•„ë˜ì˜ ëª¨ë“  í•„ë“œ kubectl get pods -A -o=custom-columns='DATA:metadata.*'    ë„ì»¤ ì‚¬ìš©ìë¥¼ ìœ„í•œ kubectl  ë§Œì•½ ë„ì»¤ ì»¤ë§¨ë“œ ë¼ì¸ ë„êµ¬ì— ìµìˆ™í•˜ë‹¤ë©´ ë§í¬ë¥¼ í†µí•´ ê°„ë‹¨íˆ ë¹„êµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.           ì°¸ê³ ì‚¬ì´íŠ¸     kubectl docs 1   kubectl docs 2   kubectl cheatsheet  ","categories": ["Kubernetes"],
        "tags": ["Kubernetes","k8s","kubectl"],
        "url": "/kubernetes/kubectl-%EA%B8%B0%EB%B3%B8%EB%AA%85%EB%A0%B9%EC%96%B4/",
        "teaser": null
      }]
